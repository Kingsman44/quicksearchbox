package com.google.research.p5181a.p5187e;

import com.google.common.p4535g.C59203do;
import com.google.research.p5181a.p5185c.C66315f;
import com.google.research.p5181a.p5185c.C66316g;
import com.google.research.p5181a.p5185c.C66323n;
import com.google.research.p5181a.p5186d.C66329a;
import com.google.research.p5181a.p5186d.C66333e;
import com.google.research.p5181a.p5186d.C66340l;
import com.google.research.p5181a.p5186d.C66343o;
import com.google.research.p5181a.p5186d.C66344p;
import com.google.research.p5181a.p5186d.C66346r;
import com.google.research.p5181a.p5188f.C66376a;
import java.io.DataOutputStream;
import java.util.Arrays;
import java.util.List;

/* renamed from: com.google.research.a.e.i */
/* compiled from: PG */
public class C66359i extends C66352b implements C66323n {

    /* renamed from: i */
    public C66344p f180442i;

    /* renamed from: j */
    public C66316g f180443j;

    /* renamed from: k */
    public C66343o f180444k;

    public C66359i() {
        C66315f fVar = new C66315f();
        m97105o(0, fVar);
        mo59593k(100, fVar);
    }

    /* JADX WARNING: Code restructure failed: missing block: B:10:0x0044, code lost:
        r1.mo59522g(new com.google.research.p5181a.p5185c.C66317h());
     */
    /* JADX WARNING: Code restructure failed: missing block: B:11:0x004c, code lost:
        return;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:3:0x000c, code lost:
        r1.mo59522g(new com.google.research.p5181a.p5185c.C66319j());
     */
    /* JADX WARNING: Code restructure failed: missing block: B:4:0x0014, code lost:
        r1.mo59522g(new com.google.research.p5181a.p5185c.C66313d());
     */
    /* JADX WARNING: Code restructure failed: missing block: B:5:0x001c, code lost:
        r1.mo59522g(new com.google.research.p5181a.p5185c.C66321l());
     */
    /* JADX WARNING: Code restructure failed: missing block: B:6:0x0024, code lost:
        r1.mo59522g(new com.google.research.p5181a.p5185c.C66320k());
     */
    /* JADX WARNING: Code restructure failed: missing block: B:7:0x002c, code lost:
        r1.mo59522g(new com.google.research.p5181a.p5185c.C66318i());
     */
    /* JADX WARNING: Code restructure failed: missing block: B:8:0x0034, code lost:
        r1.mo59522g(new com.google.research.p5181a.p5185c.C66312c());
     */
    /* JADX WARNING: Code restructure failed: missing block: B:9:0x003c, code lost:
        r1.mo59522g(new com.google.research.p5181a.p5185c.C66322m());
     */
    /* renamed from: o */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    private static void m97105o(int r0, com.google.research.p5181a.p5185c.C66315f r1) {
        /*
            switch(r0) {
                case 0: goto L_0x0004;
                case 1: goto L_0x000c;
                case 2: goto L_0x0014;
                case 3: goto L_0x001c;
                case 4: goto L_0x0024;
                case 5: goto L_0x002c;
                case 6: goto L_0x0034;
                case 7: goto L_0x003c;
                case 8: goto L_0x0044;
                default: goto L_0x0003;
            }
        L_0x0003:
            return
        L_0x0004:
            com.google.research.a.c.a r0 = new com.google.research.a.c.a
            r0.<init>()
            r1.mo59522g(r0)
        L_0x000c:
            com.google.research.a.c.j r0 = new com.google.research.a.c.j
            r0.<init>()
            r1.mo59522g(r0)
        L_0x0014:
            com.google.research.a.c.d r0 = new com.google.research.a.c.d
            r0.<init>()
            r1.mo59522g(r0)
        L_0x001c:
            com.google.research.a.c.l r0 = new com.google.research.a.c.l
            r0.<init>()
            r1.mo59522g(r0)
        L_0x0024:
            com.google.research.a.c.k r0 = new com.google.research.a.c.k
            r0.<init>()
            r1.mo59522g(r0)
        L_0x002c:
            com.google.research.a.c.i r0 = new com.google.research.a.c.i
            r0.<init>()
            r1.mo59522g(r0)
        L_0x0034:
            com.google.research.a.c.c r0 = new com.google.research.a.c.c
            r0.<init>()
            r1.mo59522g(r0)
        L_0x003c:
            com.google.research.a.c.m r0 = new com.google.research.a.c.m
            r0.<init>()
            r1.mo59522g(r0)
        L_0x0044:
            com.google.research.a.c.h r0 = new com.google.research.a.c.h
            r0.<init>()
            r1.mo59522g(r0)
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.google.research.p5181a.p5187e.C66359i.m97105o(int, com.google.research.a.c.f):void");
    }

    public final /* bridge */ /* synthetic */ Object clone() {
        C66359i iVar = new C66359i();
        iVar.f180442i = this.f180442i.clone();
        iVar.f180444k = this.f180444k.clone();
        iVar.f180443j = this.f180443j.clone();
        return iVar;
    }

    /* renamed from: d */
    public final C66367q mo59572d(float[] fArr, C66376a aVar) {
        C66343o p = this.f180443j.mo59527p(this.f180447l.f180433a, aVar);
        C66367q qVar = new C66367q();
        if (this.f180422d.size() == 1) {
            fArr[0] = 1.0f;
        } else if (this.f180422d.size() > 1) {
            try {
                C66343o g = this.f180442i.mo59568g(false, p);
                for (int i = 0; i < fArr.length; i++) {
                    fArr[i] = (float) g.mo59550a(false, 0, i);
                }
            } catch (C66329a unused) {
                return qVar;
            }
        }
        qVar.f180458a = fArr;
        double[] dArr = p.f180409c;
        return qVar;
    }

    /* renamed from: e */
    public String mo59575e() {
        return "neural_predictor";
    }

    /* renamed from: f */
    public final C66367q mo59573f(C66376a aVar) {
        Integer valueOf = Integer.valueOf(mo59570a(aVar));
        C66367q qVar = new C66367q();
        try {
            C66343o p = this.f180443j.mo59527p(this.f180447l.f180433a, aVar);
            C66344p pVar = this.f180442i;
            pVar.f180410a.mo59450c();
            pVar.f180411b.mo59450c();
            for (C66333e d : pVar.f180412c) {
                d.mo59536d();
            }
            this.f180442i.mo59568g(true, p);
            Arrays.fill(this.f180444k.f180409c, C59203do.f157270a);
            this.f180444k.mo59559k(0, valueOf.intValue(), 1.0d);
            C66344p pVar2 = this.f180442i;
            C66343o oVar = this.f180444k;
            List list = pVar2.f180412c;
            if (list.get(list.size() - 1) instanceof C66346r) {
                if (oVar == null) {
                    C66343o oVar2 = new C66343o(1, pVar2.mo59562b().f180369j);
                    C66343o oVar3 = new C66343o(1, pVar2.mo59562b().f180369j);
                    pVar2.f180410a.mo59452e(oVar2);
                    pVar2.f180411b.mo59452e(oVar3);
                } else {
                    pVar2.f180410a.mo59452e(oVar);
                    pVar2.f180411b.mo59452e((Object) null);
                    int i = pVar2.f180410a.f180251e;
                    for (int i2 = 0; i2 < pVar2.f180412c.size(); i2++) {
                        ((C66333e) pVar2.f180412c.get(i2)).mo59537e();
                    }
                    int i3 = pVar2.f180410a.f180248b;
                    int size = pVar2.f180412c.size() - 1;
                    int i4 = size;
                    while (i4 >= 0) {
                        C66333e eVar = (C66333e) pVar2.f180412c.get(i4);
                        boolean z = eVar.f180367h;
                        if (eVar.f180362c.f180251e == i) {
                            i4--;
                        } else {
                            throw new RuntimeException("backward: dense input vector has a different frame index from the target frame index: " + eVar.f180362c.f180251e + "!=" + i);
                        }
                    }
                    int i5 = i3 - 1;
                    int i6 = i5;
                    while (i6 >= 0 && i5 - i6 <= 0) {
                        C66343o oVar4 = (C66343o) pVar2.f180411b.mo59448a(i6);
                        C66343o oVar5 = (C66343o) pVar2.f180410a.mo59448a(i6);
                        for (int i7 = size; i7 >= 0; i7--) {
                            C66333e eVar2 = (C66333e) pVar2.f180412c.get(i7);
                            eVar2.mo59534c(pVar2, i6, oVar5, eVar2.f180366g, oVar4);
                            oVar5 = eVar2.f180365f;
                        }
                        i6--;
                    }
                }
                C66344p pVar3 = this.f180442i;
                int size2 = pVar3.f180412c.size();
                while (true) {
                    size2--;
                    if (size2 < 0) {
                        break;
                    }
                    ((C66333e) pVar3.f180412c.get(size2)).mo59538f();
                }
                double[] dArr = p.f180409c;
                return qVar;
            }
            throw new RuntimeException("Lacks outputlayer");
        } catch (C66329a unused) {
        }
    }

    /* JADX WARNING: Removed duplicated region for block: B:10:0x0037  */
    /* JADX WARNING: Removed duplicated region for block: B:11:0x003b  */
    /* JADX WARNING: Removed duplicated region for block: B:14:0x004a  */
    /* JADX WARNING: Removed duplicated region for block: B:19:0x007d  */
    /* renamed from: g */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void mo59580g(java.io.DataInputStream r5, com.google.research.p5181a.p5188f.C66376a r6) {
        /*
            r4 = this;
            java.lang.String r6 = r5.readUTF()
            com.google.research.a.c.g r0 = com.google.research.p5181a.p5185c.C66316g.m96951o(r6)
            if (r0 == 0) goto L_0x00a3
            r0.mo59514i(r5)
            boolean r6 = r0 instanceof com.google.research.p5181a.p5185c.C66315f
            r1 = -1
            if (r6 == 0) goto L_0x0029
            r6 = r0
            com.google.research.a.c.f r6 = (com.google.research.p5181a.p5185c.C66315f) r6
            int r2 = r6.mo59520e()
            int r3 = r6.mo59520e()
            m97105o(r3, r6)
            int r3 = r6.mo59520e()
            if (r3 <= r2) goto L_0x0029
            int r6 = r6.f180327a
            goto L_0x002a
        L_0x0029:
            r6 = -1
        L_0x002a:
            r0.mo59526l(r4)
            com.google.research.a.d.p r2 = new com.google.research.a.d.p
            r3 = 1
            r2.<init>(r3)
            r4.f180442i = r2
            if (r6 == r1) goto L_0x003b
            r2.mo59566e(r5, r6)
            goto L_0x003e
        L_0x003b:
            r2.mo59566e(r5, r1)
        L_0x003e:
            com.google.research.a.d.p r5 = r4.f180442i
            int r5 = r5.mo59561a()
            int r6 = r0.mo59505a()
            if (r5 != r6) goto L_0x007d
            com.google.research.a.d.p r5 = r4.f180442i
            com.google.research.a.d.e r5 = r5.mo59562b()
            int r5 = r5.f180369j
            int r6 = r4.f180426h
            if (r5 != r6) goto L_0x0057
            return
        L_0x0057:
            java.io.IOException r5 = new java.io.IOException
            java.lang.StringBuilder r6 = new java.lang.StringBuilder
            java.lang.String r0 = "Inconsistent model output size..."
            r6.<init>(r0)
            com.google.research.a.d.p r0 = r4.f180442i
            com.google.research.a.d.e r0 = r0.mo59562b()
            int r0 = r0.f180369j
            r6.append(r0)
            java.lang.String r0 = "!="
            r6.append(r0)
            int r0 = r4.f180426h
            r6.append(r0)
            java.lang.String r6 = r6.toString()
            r5.<init>(r6)
            throw r5
        L_0x007d:
            java.io.IOException r5 = new java.io.IOException
            java.lang.StringBuilder r6 = new java.lang.StringBuilder
            java.lang.String r1 = "Model to be loaded has an inconsistent input size:"
            r6.<init>(r1)
            com.google.research.a.d.p r1 = r4.f180442i
            int r1 = r1.mo59561a()
            r6.append(r1)
            java.lang.String r1 = " != "
            r6.append(r1)
            int r0 = r0.mo59505a()
            r6.append(r0)
            java.lang.String r6 = r6.toString()
            r5.<init>(r6)
            throw r5
        L_0x00a3:
            java.io.IOException r5 = new java.io.IOException
            java.lang.String r0 = "Cannot find extractor with "
            java.lang.String r6 = java.lang.String.valueOf(r6)
            java.lang.String r6 = r0.concat(r6)
            r5.<init>(r6)
            throw r5
        */
        throw new UnsupportedOperationException("Method not decompiled: com.google.research.p5181a.p5187e.C66359i.mo59580g(java.io.DataInputStream, com.google.research.a.f.a):void");
    }

    /* renamed from: h */
    public void mo59581h(DataOutputStream dataOutputStream) {
        dataOutputStream.writeUTF(C66316g.m96953s(this.f180443j));
        this.f180443j.mo59516k(dataOutputStream);
        this.f180442i.mo59567f(dataOutputStream);
    }

    /* renamed from: i */
    public boolean mo59582i(C66376a aVar) {
        if (aVar.mo59463f() == 1 || aVar.mo59463f() == 3) {
            return true;
        }
        return false;
    }

    /* renamed from: j */
    public final void mo59523j(C66316g gVar, int i) {
        C66343o o = ((C66340l) this.f180442i.f180412c.get(0)).mo59547o(this.f180442i);
        int i2 = o.f180407a;
        for (int i3 = 0; i3 < o.f180408b; i3++) {
            double d = C59203do.f157270a;
            for (int i4 = 0; i4 < i2; i4++) {
                d += o.mo59550a(false, i4, i3);
            }
            double d2 = (double) i2;
            Double.isNaN(d2);
            o.mo59559k(i, i3, d / d2);
        }
    }

    /* access modifiers changed from: protected */
    /* renamed from: k */
    public final void mo59593k(int i, C66316g gVar) {
        this.f180444k = new C66343o(1, i);
        this.f180443j = gVar;
        gVar.mo59526l(this);
        this.f180442i = new C66344p(1);
        this.f180442i.mo59565d(new C66340l(1, gVar.mo59505a(), i, 0.0f));
        this.f180442i.mo59565d(new C66346r(i, i));
    }

    /* renamed from: l */
    public final void mo59594l(Integer num, Integer num2) {
        double d;
        C66346r rVar = (C66346r) this.f180442i.mo59562b();
        C66343o o = rVar.mo59547o(this.f180442i);
        int i = o.f180408b;
        int i2 = 0;
        while (true) {
            int i3 = o.f180407a;
            d = C59203do.f157270a;
            if (i2 >= i3) {
                break;
            }
            for (int i4 = 0; i4 < i; i4++) {
                d += o.mo59550a(false, i2, i4);
            }
            double d2 = (double) i;
            Double.isNaN(d2);
            double d3 = d / d2;
            if (!num.equals(num2)) {
                o.mo59559k(i2, num.intValue(), o.mo59550a(false, i2, num2.intValue()));
            }
            o.mo59559k(i2, num2.intValue(), d3);
            i2++;
        }
        C66343o oVar = rVar.f180395s;
        for (int i5 = 0; i5 < i; i5++) {
            d += oVar.f180409c[i5];
        }
        double d4 = (double) i;
        Double.isNaN(d4);
        double d5 = d / d4;
        if (!num.equals(num2)) {
            oVar.f180409c[num.intValue()] = oVar.f180409c[num2.intValue()];
        }
        oVar.f180409c[num2.intValue()] = d5;
    }

    public C66359i(C66316g gVar) {
        mo59593k(0, gVar);
    }
}
