package com.google.android.libraries.assistant.auto.jumpboost.gearhead.grpc.endpoint;

import com.google.android.apps.auto.p450a.C8963i;
import com.google.android.apps.auto.p450a.p451a.C8859ad;
import com.google.android.apps.auto.p450a.p451a.C8861af;
import com.google.android.apps.auto.p450a.p451a.C8869an;
import com.google.android.apps.auto.p450a.p451a.C8871ap;
import com.google.android.apps.auto.p450a.p451a.C8872aq;
import com.google.android.apps.auto.p450a.p451a.C8877av;
import com.google.android.apps.auto.p450a.p451a.C8898bp;
import com.google.android.apps.auto.p450a.p451a.C8899bq;
import com.google.android.apps.auto.p450a.p451a.C8915h;
import com.google.android.apps.auto.p450a.p451a.C8917j;
import com.google.android.apps.auto.p450a.p451a.C8919l;
import com.google.android.libraries.assistant.auto.jumpboost.gearhead.grpc.p687a.C11675af;
import com.google.android.libraries.assistant.auto.jumpboost.gearhead.grpc.p687a.C11694ay;
import com.google.android.libraries.assistant.auto.jumpboost.gearhead.grpc.p687a.C11696b;
import com.google.android.libraries.assistant.auto.jumpboost.gearhead.grpc.p687a.C11697ba;
import com.google.android.libraries.assistant.auto.jumpboost.gearhead.grpc.p687a.C11705bi;
import com.google.android.libraries.assistant.auto.jumpboost.gearhead.grpc.p687a.C11708e;
import com.google.android.libraries.assistant.auto.jumpboost.gearhead.grpc.p687a.C11716m;
import com.google.android.libraries.assistant.auto.jumpboost.gearhead.grpc.p687a.C11721r;
import com.google.android.libraries.assistant.auto.jumpboost.gearhead.grpc.p687a.C11725v;
import com.google.android.libraries.assistant.auto.jumpboost.gearhead.grpc.p687a.C11727x;
import com.google.android.libraries.assistant.auto.jumpboost.gearhead.p673a.C11523c;
import com.google.android.libraries.assistant.auto.jumpboost.gearhead.p673a.C11526e;
import com.google.android.libraries.assistant.auto.jumpboost.gearhead.p673a.C11527f;
import com.google.android.libraries.assistant.auto.jumpboost.gearhead.p673a.C11529h;
import com.google.android.libraries.assistant.auto.jumpboost.gearhead.p673a.p674a.C11487ai;
import com.google.android.libraries.assistant.auto.jumpboost.p649a.p656f.p657a.C11439a;
import com.google.android.libraries.assistant.auto.tng.suggestions.p1173b.p1177c.p1178a.C15829o;
import com.google.android.libraries.assistant.auto.tng.suggestions.p1173b.p1185e.p1188b.p1189a.C15857b;
import com.google.android.libraries.assistant.auto.tng.suggestions.p1262j.C16305a;
import com.google.android.libraries.assistant.auto.tng.suggestions.p1262j.C16307c;
import com.google.android.libraries.assistant.auto.tng.suggestions.p1262j.C16309d;
import com.google.android.libraries.assistant.auto.tng.suggestions.p1262j.C16316k;
import com.google.android.libraries.assistant.auto.tng.suggestions.p1262j.C16319n;
import com.google.android.libraries.assistant.auto.tng.suggestions.p1262j.C16321p;
import com.google.android.libraries.assistant.auto.tng.suggestions.p1262j.C16322q;
import com.google.android.libraries.assistant.auto.tng.suggestions.p1262j.C16325t;
import com.google.apps.tiktok.concurrent.C46459k;
import com.google.apps.tiktok.tracing.C47810es;
import com.google.apps.tiktok.tracing.contrib.grpc.C47686k;
import com.google.apps.tiktok.tracing.contrib.p3700b.C47633f;
import com.google.assistant.p3897e.p3921j.C52567wn;
import com.google.common.p4522b.C58597ky;
import com.google.common.p4526f.C58976aa;
import com.google.common.p4526f.C59052c;
import com.google.common.p4526f.C59071e;
import com.google.common.p4526f.p4527a.C58975e;
import com.google.common.util.concurrent.C60856cj;
import com.google.common.util.concurrent.C60870cx;
import com.google.common.util.concurrent.C60922j;
import com.google.protobuf.C62942bv;
import com.google.protobuf.C62947c;
import com.google.protobuf.C62963cj;
import com.google.protobuf.C62971cq;
import com.google.protobuf.C63042fg;
import java.util.List;
import java.util.concurrent.Executor;
import p3186j$.util.Collection;
import p5460g.p5461a.C69464a;
import p5488io.grpc.C70148al;
import p5488io.grpc.C70334de;
import p5488io.grpc.C70761fa;
import p5488io.grpc.Status;
import p5488io.grpc.p5533i.C70862aj;

/* renamed from: com.google.android.libraries.assistant.auto.jumpboost.gearhead.grpc.endpoint.l */
/* compiled from: PG */
public final class C11741l extends C11708e {

    /* renamed from: a */
    public static final C59071e f37795a = C59071e.m91332i("com.google.android.libraries.assistant.auto.jumpboost.gearhead.grpc.endpoint.l");

    /* renamed from: b */
    public final C11527f f37796b;

    /* renamed from: c */
    public final C11526e f37797c;

    /* renamed from: d */
    public final C16325t f37798d;

    /* renamed from: e */
    private final C11529h f37799e;

    /* renamed from: f */
    private final C11523c f37800f;

    /* renamed from: g */
    private final Executor f37801g;

    /* renamed from: h */
    private final C69464a f37802h;

    /* renamed from: i */
    private final C16307c f37803i;

    /* renamed from: j */
    private final C69464a f37804j;

    /* renamed from: k */
    private final C11740k f37805k = new C11740k(this);

    /* renamed from: l */
    private final C11738i f37806l = new C11738i(this);

    /* renamed from: m */
    private final C11439a f37807m;

    /* renamed from: n */
    private final C11487ai f37808n;

    public C11741l(C11439a aVar, C11529h hVar, C11487ai aiVar, C11527f fVar, C11526e eVar, C11523c cVar, C16325t tVar, C16307c cVar2, Executor executor, C69464a aVar2, C69464a aVar3) {
        this.f37807m = aVar;
        this.f37799e = hVar;
        this.f37808n = aiVar;
        this.f37796b = fVar;
        this.f37797c = eVar;
        this.f37800f = cVar;
        this.f37798d = tVar;
        this.f37803i = cVar2;
        this.f37801g = executor;
        this.f37802h = aVar2;
        this.f37804j = aVar3;
    }

    /* renamed from: b */
    public static C70761fa m27400b(Throwable th) {
        Status status = Status.f186915m;
        if (th.getMessage() != null) {
            status = status.withDescription(th.getMessage());
        }
        return new C70761fa(status, (C70334de) null, true);
    }

    /* renamed from: e */
    public static Exception m27401e() {
        return new C70761fa(Status.f186914l.withDescription("Feature not enabled"), (C70334de) null, true);
    }

    /* renamed from: c */
    public final C70862aj mo20109c(C70862aj ajVar) {
        C11738i iVar = this.f37806l;
        iVar.f37790a = ajVar;
        return C47686k.m84827a(iVar);
    }

    /* renamed from: d */
    public final C70862aj mo20110d(C70862aj ajVar) {
        C11740k kVar = this.f37805k;
        kVar.f37793a = ajVar;
        return C47686k.m84827a(kVar);
    }

    /* renamed from: f */
    public final void mo20111f(C11721r rVar, C70862aj ajVar) {
        if (!((Boolean) this.f37804j.mo17428b()).booleanValue()) {
            ((C59052c) ((C59052c) f37795a.mo56225c()).mo56372aa(43418)).mo56386p("Coolwalk direct action is not enabled.");
            ajVar.mo20122b(m27401e());
            return;
        }
        C16307c cVar = this.f37803i;
        String str = rVar.f37765a;
        C60870cx a = cVar.f47993a.mo22845a(str, true);
        C16305a aVar = new C16305a(cVar, str);
        C60870cx h = C60922j.m93045h(a, C47810es.m84966f(aVar), cVar.f47994b);
        C11737h hVar = new C11737h(ajVar);
        C60856cj.m92911t(h, C47810es.m84974n(hVar), this.f37801g);
    }

    /* renamed from: g */
    public final void mo20112g(C11675af afVar, C70862aj ajVar) {
        if (!mo20124l()) {
            ((C59052c) ((C59052c) f37795a.mo56225c()).mo56372aa(43420)).mo56386p("getMediaRecommendations called when the feature is not enabled");
            ajVar.mo20122b(m27401e());
            return;
        }
        C16325t tVar = this.f37798d;
        C47633f h = C47633f.m84733g(tVar.mo22884a()).mo51516i(new C16321p(tVar, afVar), tVar.f48023c).mo51515h(new C16322q(afVar), tVar.f48024d);
        C11736g gVar = new C11736g(ajVar);
        C60856cj.m92911t(h, C47810es.m84974n(gVar), this.f37801g);
    }

    /* renamed from: h */
    public final void mo20113h(C11694ay ayVar, C70862aj ajVar) {
        C59071e eVar = f37795a;
        ((C59052c) ((C59052c) eVar.mo56224b()).mo56372aa(43421)).mo56389s("Get Settings for keys : %s", Collection.EL.stream(new C62963cj(ayVar.f37706a, C11694ay.f37703b)).map(C11733d.f37785a).toArray());
        if (!mo20125m()) {
            ((C59052c) ((C59052c) eVar.mo56225c()).mo56372aa(43422)).mo56386p("GetSettings received when the feature is not enabled");
            ajVar.mo20122b(m27401e());
            return;
        }
        C46459k.m82829b(C47633f.m84733g(this.f37799e.mo20018a(new C62963cj(ayVar.f37706a, C11694ay.f37703b))).mo51515h(new C11734e(ajVar), this.f37801g).mo51513e(Throwable.class, new C11735f(ajVar), this.f37801g), "Error getting settings", new Object[0]);
    }

    /* renamed from: i */
    public final void mo20114i(C11696b bVar, C70862aj ajVar) {
        if (!mo20125m()) {
            ((C59052c) ((C59052c) f37795a.mo56225c()).mo56372aa(43424)).mo56386p("SendActiveNotification received when the feature is not enabled");
            ajVar.mo20122b(m27401e());
            return;
        }
        this.f37800f.mo20021b(C70148al.m102135m(), bVar, new C11731b(ajVar));
    }

    /* renamed from: j */
    public final void mo20115j(C11725v vVar, C70862aj ajVar) {
        C8899bq bqVar;
        C8861af afVar;
        C8859ad adVar;
        C11716m mVar = C11716m.REGISTER_ASSISTANT_CLIENT;
        int i = vVar.f37771a;
        int i2 = i != 0 ? i != 1 ? i != 2 ? i != 3 ? 0 : 3 : 2 : 1 : 4;
        int i3 = i2 - 1;
        if (i2 != 0) {
            if (i3 != 0) {
                if (i3 == 1) {
                    C16325t tVar = this.f37798d;
                    if (i == 2) {
                        afVar = (C8861af) vVar.f37772b;
                    } else {
                        afVar = C8861af.f30777e;
                    }
                    if ((afVar.f30779a & 2) != 0) {
                        C8877av avVar = afVar.f30781c;
                        if (avVar == null) {
                            avVar = C8877av.f30814e;
                        }
                        if (avVar.f30818c.size() > 0) {
                            C63042fg fgVar = afVar.f30780b;
                            if (fgVar == null) {
                                fgVar = C63042fg.f170152c;
                            }
                            List h = C58597ky.m90217h(avVar.f30818c, new C16319n(fgVar.f170154a));
                            C8872aq aqVar = (C8872aq) avVar.toBuilder();
                            aqVar.copyOnWrite();
                            ((C8877av) aqVar.instance).f30818c = C8877av.emptyProtobufList();
                            aqVar.copyOnWrite();
                            C8877av avVar2 = (C8877av) aqVar.instance;
                            C62971cq cqVar = avVar2.f30818c;
                            if (!cqVar.mo58948c()) {
                                avVar2.f30818c = C62942bv.mutableCopy(cqVar);
                            }
                            C62947c.addAll((Iterable) h, (List) avVar2.f30818c);
                            avVar = (C8877av) aqVar.build();
                        }
                        tVar.f48025e.mo22594c(avVar);
                    }
                    if ((afVar.f30779a & 4) != 0) {
                        C8871ap apVar = afVar.f30782d;
                        if (apVar == null) {
                            apVar = C8871ap.f30804c;
                        }
                        C15857b bVar = tVar.f48028h;
                        C58976aa aaVar = C58975e.f156826a;
                        if (bVar.f47108a.mo56113h()) {
                            ((C15829o) bVar.f47108a.mo56107c()).mo22579b(apVar);
                        }
                    }
                } else if (i3 == 2) {
                    C16325t tVar2 = this.f37798d;
                    if (i == 3) {
                        adVar = (C8859ad) vVar.f37772b;
                    } else {
                        adVar = C8859ad.f30772c;
                    }
                    if (adVar.f30775b.size() != 0) {
                        C16309d dVar = new C16309d(adVar);
                        C52567wn wnVar = C52567wn.UNKNOWN;
                        int a = C8869an.m23503a(adVar.f30774a);
                        if (a == 0) {
                            a = 1;
                        }
                        int i4 = a - 1;
                        if (i4 == 1) {
                            dVar.accept(tVar2.f48021a.mo22917c(adVar.f30775b, true));
                        } else if (i4 == 2) {
                            Collection.EL.stream(adVar.f30775b).forEach(new C16316k(tVar2, dVar));
                        }
                    }
                }
            } else if (mo20125m() || ((Boolean) this.f37802h.mo17428b()).booleanValue()) {
                C11487ai aiVar = this.f37808n;
                if (vVar.f37771a == 1) {
                    bqVar = (C8899bq) vVar.f37772b;
                } else {
                    bqVar = C8899bq.f30897b;
                }
                C8898bp a2 = C8898bp.m23511a(bqVar.f30899a);
                if (a2 == null) {
                    a2 = C8898bp.EVENT_TYPE_UNSPECIFIED;
                }
                aiVar.mo20017a(a2);
            } else {
                ((C59052c) ((C59052c) f37795a.mo56225c()).mo56372aa(43426)).mo56386p("GearheadEvent received when the feature is not enabled");
                ajVar.mo20122b(m27401e());
                return;
            }
            ajVar.mo20123c(C11727x.f37773a);
            ajVar.mo20121a();
            return;
        }
        throw null;
    }

    /* renamed from: k */
    public final void mo20116k(C11697ba baVar, C70862aj ajVar) {
        C59071e eVar = f37795a;
        C59052c cVar = (C59052c) ((C59052c) eVar.mo56224b()).mo56372aa(43427);
        C8915h hVar = baVar.f37714a;
        if (hVar == null) {
            hVar = C8915h.f30929i;
        }
        int b = C8919l.m23519b(hVar.f30933c);
        int i = 1;
        if (b == 0) {
            b = 1;
        }
        Integer valueOf = Integer.valueOf(b - 1);
        C8915h hVar2 = baVar.f37714a;
        if (hVar2 == null) {
            hVar2 = C8915h.f30929i;
        }
        int a = C8917j.m23517a(hVar2.f30934d);
        if (a != 0) {
            i = a;
        }
        cVar.mo56359L("Start Assistant Session - type=%s, trigger=%s, isRestart=%s", valueOf, Integer.valueOf(i - 1), Boolean.valueOf(baVar.f37717d));
        if (mo20125m()) {
            if (baVar.f37717d) {
                this.f37796b.mo20014d();
            }
            C11527f fVar = this.f37796b;
            C8915h hVar3 = baVar.f37714a;
            if (hVar3 == null) {
                hVar3 = C8915h.f30929i;
            }
            C8963i iVar = baVar.f37715b;
            if (iVar == null) {
                iVar = C8963i.f31052c;
            }
            fVar.mo20013c(hVar3, iVar, this.f37800f.mo20020a(C70148al.m102135m(), baVar, new C11732c(ajVar)));
            return;
        }
        ((C59052c) ((C59052c) eVar.mo56225c()).mo56372aa(43428)).mo56386p("StartAssistantSession received when the feature is not enabled");
        ajVar.mo20122b(m27401e());
    }

    /* renamed from: l */
    public final boolean mo20124l() {
        return this.f37807m.mo19977a(2);
    }

    /* renamed from: m */
    public final boolean mo20125m() {
        return this.f37807m.mo19977a(3);
    }

    /* renamed from: n */
    public final void mo20117n(C70862aj ajVar) {
        C59071e eVar = f37795a;
        ((C59052c) ((C59052c) eVar.mo56224b()).mo56372aa(43429)).mo56386p("Stop Assistant Session");
        if (!mo20125m()) {
            ((C59052c) ((C59052c) eVar.mo56225c()).mo56372aa(43430)).mo56386p("StopAssistantSession received when the feature is not enabled");
            ajVar.mo20122b(m27401e());
            return;
        }
        this.f37796b.mo20014d();
        ajVar.mo20123c(C11705bi.f37726a);
        ajVar.mo20121a();
    }
}
