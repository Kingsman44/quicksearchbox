package com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e;

import android.content.Context;
import android.graphics.RectF;
import android.hardware.display.DisplayManager;
import android.view.View;
import android.view.WindowManager;
import com.evernote.android.state.BuildConfig;
import com.google.android.apps.gsa.binaries.satin.app.aqb;
import com.google.android.apps.gsa.binaries.satin.app.aqc;
import com.google.android.googlequicksearchbox.R;
import com.google.android.libraries.logging.p2185ve.C28306ab;
import com.google.android.libraries.logging.p2185ve.C28310af;
import com.google.android.libraries.logging.p2185ve.C28313c;
import com.google.android.libraries.logging.p2185ve.C28423g;
import com.google.android.libraries.logging.p2185ve.C28427h;
import com.google.android.libraries.logging.p2185ve.C28439i;
import com.google.android.libraries.logging.p2185ve.C28443m;
import com.google.android.libraries.logging.p2185ve.p2193e.p2195b.C28375ak;
import com.google.android.libraries.logging.p2185ve.synthetic.C28463g;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3121c.C40111d;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3121c.C40113f;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3122d.C40115a;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3122d.C40116b;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3122d.C40124j;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3122d.C40125k;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40129aa;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40137i;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40138j;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40142n;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40144p;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40153y;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3125b.C40182a;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3125b.C40200k;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3125b.C40201l;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3125b.p3126a.C40183a;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3128d.C40218a;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3128d.C40219b;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3128d.C40221d;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3128d.C40222e;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3128d.C40223f;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3129f.C40247a;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3129f.C40248b;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3129f.C40251e;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3129f.C40252f;
import com.google.android.libraries.search.rendering.xuikit.bubbles.view.BackButtonFrameLayout;
import com.google.android.libraries.search.rendering.xuikit.bubbles.view.BubbleView;
import com.google.android.libraries.search.rendering.xuikit.p3131d.p3143l.C40480q;
import com.google.apps.tiktok.account.AccountId;
import com.google.apps.tiktok.account.p3603a.C45954d;
import com.google.common.p4522b.C58485gu;
import com.google.common.p4526f.C59052c;
import com.google.common.p4526f.C59071e;
import com.google.common.util.concurrent.SettableFuture;
import com.google.p4283bv.p4380j.p4385b.p4411b.C57802af;
import p3186j$.util.Objects;

/* renamed from: com.google.android.libraries.search.rendering.xuikit.bubbles.e.ak */
/* compiled from: PG */
public final class C40165ak implements C40166al, C40222e, C40218a {

    /* renamed from: D */
    private static final C40217d f105488D = new C40163ai();

    /* renamed from: a */
    public static final C59071e f105489a = C59071e.m91332i("com.google.android.libraries.search.rendering.xuikit.bubbles.e.ak");

    /* renamed from: A */
    public C40248b f105490A = C40248b.f105719c;

    /* renamed from: B */
    public C40171aq f105491B;

    /* renamed from: C */
    public C40153y f105492C;

    /* renamed from: E */
    private final C28423g f105493E;

    /* renamed from: F */
    private boolean f105494F = false;

    /* renamed from: b */
    public final Context f105495b;

    /* renamed from: c */
    public final WindowManager f105496c;

    /* renamed from: d */
    public final DisplayManager f105497d;

    /* renamed from: e */
    public final C40219b f105498e;

    /* renamed from: f */
    public final C40221d f105499f;

    /* renamed from: g */
    public final C40113f f105500g;

    /* renamed from: h */
    public final C40138j f105501h;

    /* renamed from: i */
    public final C40124j f105502i;

    /* renamed from: j */
    public final C28310af f105503j;

    /* renamed from: k */
    public final C28463g f105504k;

    /* renamed from: l */
    public final C28443m f105505l;

    /* renamed from: m */
    public final C28306ab f105506m;

    /* renamed from: n */
    public final C40480q f105507n;

    /* renamed from: o */
    public final C28439i f105508o;

    /* renamed from: p */
    public final C40129aa f105509p;

    /* renamed from: q */
    public C40217d f105510q = f105488D;

    /* renamed from: r */
    public C40230k f105511r;

    /* renamed from: s */
    public C40137i f105512s;

    /* renamed from: t */
    public C40142n f105513t;

    /* renamed from: u */
    public C40144p f105514u;

    /* renamed from: v */
    public final C40173as f105515v;

    /* renamed from: w */
    public BackButtonFrameLayout f105516w;

    /* renamed from: x */
    public BubbleView f105517x;

    /* renamed from: y */
    public BubbleView f105518y;

    /* renamed from: z */
    public View f105519z;

    public C40165ak(Context context, AccountId accountId, C40200k kVar, C40173as asVar, C40138j jVar, C40124j jVar2, C28463g gVar, C28310af afVar, C28443m mVar, C28306ab abVar, C40480q qVar, C40113f fVar) {
        C28463g gVar2 = gVar;
        C28310af afVar2 = afVar;
        this.f105495b = context;
        this.f105496c = (WindowManager) context.getSystemService("window");
        this.f105497d = (DisplayManager) context.getSystemService("display");
        this.f105502i = jVar2;
        this.f105503j = afVar2;
        this.f105505l = mVar;
        this.f105506m = abVar;
        this.f105507n = qVar;
        this.f105515v = asVar;
        this.f105501h = jVar;
        this.f105504k = gVar2;
        C28423g a = C45954d.m82060a(accountId);
        this.f105493E = a;
        this.f105509p = new C40129aa();
        this.f105500g = fVar;
        C28313c a2 = afVar2.mo33805a(C28427h.m53115a(50125));
        a2.mo33859g(C28375ak.m53061c(50478));
        a2.mo33859g(a);
        C28439i b = gVar2.mo33918b(a2);
        this.f105508o = b;
        this.f105499f = new C40221d(this);
        aqb aqb = kVar.f105617a;
        this.f105498e = new C40201l((Context) aqb.f199147a.a.d.f201471J.mo17428b(), (C40182a) aqb.f199147a.b.f198027a.f199223av.mo17428b(), (C40183a) aqb.f199147a.b.f198027a.f199224aw.mo17428b(), (aqc) aqb.f199147a.b.f198027a.f199225ax.mo17428b(), (C28463g) aqb.f199147a.a.b.f200114dV.mo17428b(), (C28310af) aqb.f199147a.a.a.f202878fQ.mo17428b(), fVar, b, this);
    }

    /* renamed from: a */
    public final void mo42270a() {
        this.f105516w.animate().alpha(0.0f).withEndAction(new C40235p(this)).start();
        this.f105517x.mo42363d(0, false);
        this.f105494F = true;
        this.f105511r.f105689c = true;
        this.f105491B.mo42289a();
        mo42272c();
    }

    /* renamed from: b */
    public final void mo42271b() {
        throw null;
    }

    /* renamed from: c */
    public final void mo42272c() {
        this.f105512s.getClass();
        if (this.f105494F) {
            RectF b = C40251e.m69865b(C40252f.m69867a(this.f105497d), this.f105519z.getWidth(), this.f105519z.getHeight());
            C40137i iVar = this.f105512s;
            if (!b.contains(iVar.mo42242c(iVar.f105431l.mo42220a()))) {
                this.f105494F = false;
                this.f105518y.setAlpha(0.0f);
                this.f105509p.mo42218b(new C40237r(this));
            }
        }
    }

    /* renamed from: d */
    public final void mo42273d() {
        this.f105510q.mo42179b(C40211c.REASON_USER_DISMISSED);
    }

    /* renamed from: e */
    public final void mo42274e() {
        this.f105507n.mo42465b(new C40240u(this), "BubbleRenderer", "onClick");
    }

    /* renamed from: f */
    public final void mo42275f(float f, float f2) {
        if (this.f105511r == null || this.f105512s == null) {
            ((C59052c) ((C59052c) f105489a.mo56225c()).mo56372aa(53238)).mo56386p("onDrag: called without onCreate()");
            return;
        }
        if (mo42284o()) {
            this.f105510q.mo42181d();
        } else {
            C40223f a = this.f105515v.mo42292a(this.f105517x);
            if (a == C40223f.NONE) {
                this.f105515v.mo42293b(1, true);
            } else {
                C40173as asVar = this.f105515v;
                if (a == C40223f.DROP) {
                    asVar.mo42293b(3, true);
                }
            }
        }
        C40137i iVar = this.f105512s;
        C40247a aVar = new C40247a(f, f2);
        iVar.mo42245f(C40137i.f105423d, aVar);
        iVar.f105424e.mo42256c(iVar, iVar.mo42242c(aVar));
    }

    /* renamed from: g */
    public final void mo42276g(float f, float f2) {
        this.f105507n.mo42465b(new C40241v(this, f, f2), "onDragEnd", new String[0]);
    }

    /* renamed from: h */
    public final void mo42277h() {
        this.f105515v.mo42293b(2, true);
        C40142n nVar = this.f105513t;
        nVar.getClass();
        nVar.mo42251b(1.0f);
    }

    /* renamed from: i */
    public final void mo42278i() {
        this.f105507n.mo42465b(new C40239t(this), "BubbleRenderer", "onOutsideClick");
    }

    /* renamed from: j */
    public final void mo42279j(C57802af afVar) {
        String str;
        String str2;
        String str3;
        C58485gu a;
        Context context = this.f105495b;
        C40115a aVar = new C40115a();
        aVar.mo42202a(context.getString(R.string.bubble_pinned_live_update));
        aVar.mo42203b(context.getString(R.string.bubble_pinned_live_updates));
        aVar.f105365c = BuildConfig.FLAVOR;
        aVar.f105366d = R.drawable.quantum_gm_ic_google_vd_24;
        aVar.f105367e = 1;
        if (!afVar.f154425a.isEmpty()) {
            aVar.mo42202a(afVar.f154425a);
        }
        if (!afVar.f154427c.isEmpty()) {
            aVar.mo42203b(afVar.f154427c);
        }
        if (!afVar.f154426b.isEmpty()) {
            String str4 = afVar.f154426b;
            if (str4 != null) {
                aVar.f105365c = str4;
            } else {
                throw new NullPointerException("Null contextText");
            }
        }
        C40124j jVar = this.f105502i;
        C40111d d = this.f105500g.mo42195d();
        if (aVar.f105367e != 1 || (str = aVar.f105363a) == null || (str2 = aVar.f105364b) == null || (str3 = aVar.f105365c) == null) {
            StringBuilder sb = new StringBuilder();
            if (aVar.f105363a == null) {
                sb.append(" bubbleContentDescription");
            }
            if (aVar.f105364b == null) {
                sb.append(" multipleBubblesTitle");
            }
            if (aVar.f105365c == null) {
                sb.append(" contextText");
            }
            if (aVar.f105367e == 0) {
                sb.append(" smallIcon");
            }
            throw new IllegalStateException("Missing required properties:".concat(sb.toString()));
        }
        C40116b bVar = new C40116b(str, str2, str3, aVar.f105366d);
        C40125k kVar = jVar.f105377a;
        synchronized (kVar.f105382a) {
            kVar.f105383b.put(d, bVar);
            if (kVar.f105384c.isDone()) {
                kVar.f105384c = new SettableFuture();
            }
            a = kVar.mo42215a();
        }
        jVar.mo42214a(a);
    }

    /* renamed from: k */
    public final void mo42280k() {
        C40480q qVar = this.f105507n;
        C28463g gVar = this.f105504k;
        Objects.requireNonNull(gVar);
        qVar.mo42465b(new C40234o(gVar), "BubbleRenderer", "onSyntheticNodesVisibilityChange");
    }

    /* renamed from: l */
    public final void mo42281l() {
        if (mo42283n()) {
            C40142n nVar = this.f105513t;
            nVar.getClass();
            nVar.mo42251b(1.1f);
        }
    }

    /* renamed from: m */
    public final void mo42282m() {
        this.f105512s.mo42247h();
        if (!mo42284o()) {
            C40137i iVar = this.f105512s;
            iVar.mo42246g(iVar.mo42243d(iVar.f105431l.mo42221b()));
        }
    }

    /* renamed from: n */
    public final boolean mo42283n() {
        BubbleView bubbleView = this.f105517x;
        return bubbleView != null && bubbleView.getVisibility() == 0;
    }

    /* renamed from: o */
    public final boolean mo42284o() {
        BubbleView bubbleView = this.f105518y;
        return bubbleView != null && bubbleView.getVisibility() == 0;
    }
}
