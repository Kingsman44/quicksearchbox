package com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3125b;

import android.content.Context;
import android.hardware.display.DisplayManager;
import android.os.Build;
import android.os.Bundle;
import android.support.p031v4.app.C0154a;
import android.view.GestureDetector;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.view.WindowInsets;
import android.view.WindowManager;
import android.widget.Button;
import androidx.core.p098j.C2043bi;
import com.google.android.googlequicksearchbox.R;
import com.google.android.libraries.logging.p2185ve.C28313c;
import com.google.android.libraries.logging.p2185ve.C28427h;
import com.google.android.libraries.logging.p2185ve.C28439i;
import com.google.android.libraries.logging.p2185ve.p2193e.p2195b.C28375ak;
import com.google.android.libraries.logging.p2185ve.synthetic.C28463g;
import com.google.android.libraries.logging.p2185ve.synthetic.C28470n;
import com.google.android.libraries.search.p2476a.p2477a.C32155e;
import com.google.android.libraries.search.p2476a.p2477a.C32156f;
import com.google.android.libraries.search.p2476a.p2477a.C32159i;
import com.google.android.libraries.search.p2476a.p2479c.p2480a.C32169d;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3119a.C40091a;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3119a.C40092b;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3121c.C40111d;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40127a;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40155aa;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40156ab;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40157ac;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40158ad;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40159ae;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40160af;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40161ag;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40162ah;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40165ak;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40171aq;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40173as;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40175au;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40181b;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40230k;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40232m;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40233n;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40238s;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40243x;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40244y;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.C40245z;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40129aa;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40130b;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40132d;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40134f;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40135g;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40136h;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40137i;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40138j;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40142n;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40144p;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3124a.C40149u;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3123e.p3128d.C40218a;
import com.google.android.libraries.search.rendering.xuikit.bubbles.p3129f.C40249c;
import com.google.android.libraries.search.rendering.xuikit.bubbles.view.BackButtonFrameLayout;
import com.google.android.libraries.search.rendering.xuikit.bubbles.view.BubbleView;
import com.google.apps.tiktok.account.AccountId;
import com.google.apps.tiktok.account.api.controller.C45983au;
import com.google.apps.tiktok.account.api.controller.C45985aw;
import com.google.apps.tiktok.account.api.controller.C45986ax;
import com.google.apps.tiktok.account.api.controller.C45987ay;
import com.google.apps.tiktok.account.api.controller.C45989b;
import com.google.apps.tiktok.account.api.controller.C46010bu;
import com.google.apps.tiktok.account.api.controller.C46012bw;
import com.google.apps.tiktok.account.api.controller.C46013bx;
import com.google.apps.tiktok.account.p3616e.p3620d.C46347g;
import com.google.apps.tiktok.inject.p3659d.C47243l;
import com.google.apps.tiktok.inject.p3660e.p3661a.C47247a;
import com.google.common.p4522b.C58485gu;
import dagger.hilt.android.internal.managers.C68324h;
import p3186j$.util.Collection;
import p3186j$.util.Objects;

/* renamed from: com.google.android.libraries.search.rendering.xuikit.bubbles.e.b.d */
/* compiled from: PG */
public final class C40193d extends C40197h implements C45987ay {

    /* renamed from: a */
    public C45989b f105598a;

    /* renamed from: b */
    public C32159i f105599b;

    /* renamed from: c */
    public BubbleView f105600c;

    /* renamed from: d */
    public int f105601d;

    /* renamed from: e */
    public C40206q f105602e;

    /* renamed from: f */
    public AccountId f105603f;

    /* renamed from: g */
    public C40218a f105604g;

    /* JADX WARNING: type inference failed for: r10v0, types: [com.google.android.libraries.search.rendering.xuikit.bubbles.e.al, com.google.android.libraries.search.rendering.xuikit.bubbles.e.d.a] */
    /* renamed from: a */
    public final void mo19982a(C45985aw awVar) {
        C45985aw awVar2 = awVar;
        if (!awVar2.f120815a.f120816a.equals(this.f105603f)) {
            this.f105604g.mo42271b();
            return;
        }
        C40203n nVar = (C40203n) mo51122q().f634a.mo671c("XBubbleFragment");
        if (nVar == null) {
            AccountId accountId = awVar2.f120815a.f120816a;
            C40206q qVar = this.f105602e;
            C40203n nVar2 = new C40203n();
            C68324h.m98669f(nVar2);
            C47247a.m84047b(nVar2, accountId);
            C47243l.m84039a(nVar2, qVar);
            C0154a aVar = new C0154a(mo51122q());
            aVar.mo511h(this.f105601d, nVar2, "XBubbleFragment", 1);
            aVar.mo509f();
            nVar = nVar2;
        }
        nVar.mo17754z().f105649k = this.f105600c.f105747b;
        C40201l lVar = (C40201l) this.f105604g;
        if (lVar.f105618a.f105591b != null && lVar.f105619b.f105591b != null && !lVar.f105624g) {
            lVar.f105624g = true;
            ? r10 = lVar.f105623f;
            C40165ak akVar = r10;
            C40201l lVar2 = (C40201l) akVar.f105498e;
            akVar.f105517x = lVar2.f105618a.f105591b;
            akVar.f105518y = lVar2.f105619b.f105591b;
            akVar.f105519z = akVar.f105518y.findViewById(R.id.bubble_extended_card);
            BackButtonFrameLayout backButtonFrameLayout = (BackButtonFrameLayout) LayoutInflater.from(akVar.f105495b).inflate(R.layout.xblend_bubble_dark_overlay, (ViewGroup) null);
            backButtonFrameLayout.f105745a = new C40244y(akVar);
            akVar.f105516w = backButtonFrameLayout;
            akVar.f105518y.mo42363d(4, true);
            C40111d d = akVar.f105500g.mo42195d();
            C40138j jVar = akVar.f105501h;
            BubbleView bubbleView = akVar.f105517x;
            C40245z zVar = new C40245z(akVar);
            C40129aa aaVar = akVar.f105509p;
            Context context = (Context) jVar.f105437a.mo17428b();
            context.getClass();
            C40149u uVar = (C40149u) jVar.f105438b.mo17428b();
            uVar.getClass();
            d.getClass();
            bubbleView.getClass();
            akVar.f105512s = new C40137i(context, uVar, d, bubbleView, zVar, 0, false, aaVar);
            C40137i iVar = akVar.f105512s;
            if (Build.VERSION.SDK_INT >= 30) {
                iVar.f105432m = iVar.f105428i.getCurrentWindowMetrics().getWindowInsets().getInsets(WindowInsets.Type.statusBars()).top;
            } else {
                C2043bi.m5555ai(iVar.f105427h, new C40136h(iVar));
            }
            View view = iVar.f105427h;
            view.addOnLayoutChangeListener(new C40249c(new C40134f(iVar), view));
            iVar.f105424e.f105470a.add(iVar);
            C40130b bVar = iVar.f105431l;
            bVar.f105402a.add(new C40135g(iVar));
            BubbleView bubbleView2 = akVar.f105517x;
            C40129aa aaVar2 = akVar.f105509p;
            akVar.f105513t = new C40142n(bubbleView2, aaVar2);
            akVar.f105514u = new C40144p(akVar.f105496c, akVar.f105497d, akVar.f105512s, bubbleView2, akVar.f105518y, akVar.f105516w, aaVar2);
            BubbleView bubbleView3 = akVar.f105517x;
            if (bubbleView3 != null) {
                BubbleView bubbleView4 = akVar.f105518y;
                if (bubbleView4 != null) {
                    BackButtonFrameLayout backButtonFrameLayout2 = akVar.f105516w;
                    if (backButtonFrameLayout2 != null) {
                        C40156ab abVar = new C40156ab(akVar);
                        DisplayManager displayManager = akVar.f105497d;
                        if (displayManager != null) {
                            akVar.f105492C = new C40132d(bubbleView3, bubbleView4, backButtonFrameLayout2, displayManager, abVar, new C40157ac(akVar));
                            Context context2 = akVar.f105495b;
                            View view2 = akVar.f105519z;
                            C40137i iVar2 = akVar.f105512s;
                            view2.getClass();
                            context2.getClass();
                            iVar2.getClass();
                            akVar.f105511r = new C40230k(bubbleView3, view2, context2, iVar2, r10);
                            BubbleView bubbleView5 = akVar.f105518y;
                            Context context3 = akVar.f105495b;
                            C40158ad adVar = new C40158ad(akVar);
                            bubbleView5.setOnTouchListener(new C40127a(new GestureDetector(context3, new C40181b()), adVar));
                            bubbleView5.setOnClickListener(adVar);
                            akVar.f105518y.findViewById(R.id.feedback_link).setOnClickListener(new C40243x(akVar));
                            Button button = (Button) akVar.f105518y.findViewById(R.id.bubble_remove_button);
                            String str = akVar.f105500g.mo42194c().f105329b;
                            if (!str.isEmpty()) {
                                button.setText(str);
                            }
                            C28313c a = akVar.f105503j.mo33805a(C28427h.m53115a(73119));
                            a.mo33858f(C28375ak.m53059a(73119));
                            button.addOnAttachStateChangeListener(new C40162ah(akVar, akVar.f105506m.mo33801b(button, a)));
                            button.setOnClickListener(new C40238s(akVar, button));
                            WindowManager windowManager = akVar.f105496c;
                            BackButtonFrameLayout backButtonFrameLayout3 = akVar.f105516w;
                            WindowManager.LayoutParams a2 = C40175au.m69773a(-1, -1, 201326624);
                            a2.setTitle("background");
                            windowManager.addView(backButtonFrameLayout3, a2);
                            WindowManager windowManager2 = akVar.f105496c;
                            BubbleView bubbleView6 = akVar.f105517x;
                            WindowManager.LayoutParams a3 = C40175au.m69773a(-2, -2, 328488);
                            a3.setTitle("collapsed");
                            a3.gravity = 51;
                            a3.x = 0;
                            a3.y = 0;
                            windowManager2.addView(bubbleView6, a3);
                            WindowManager windowManager3 = akVar.f105496c;
                            BubbleView bubbleView7 = akVar.f105518y;
                            WindowManager.LayoutParams a4 = C40175au.m69773a(-1, -1, 808);
                            a4.setTitle("extended");
                            a4.gravity = 17;
                            windowManager3.addView(bubbleView7, a4);
                            C40173as asVar = akVar.f105515v;
                            asVar.f105535b.mo42362c(new C40159ae(akVar));
                            asVar.f105535b.f105746a = C40160af.f105483a;
                            akVar.f105509p.mo42218b(new C40161ag(akVar.f105512s, akVar.f105513t));
                            akVar.f105491B = new C40171aq(akVar.f105495b, new C40232m(akVar));
                            akVar.f105517x.addOnLayoutChangeListener(new C40233n(akVar));
                            akVar.f105517x.mo42361b(new C40155aa(akVar));
                            akVar.f105518y.mo42361b(new C40155aa(akVar));
                            if (akVar.f105500g.mo42193b() != 0) {
                                C28463g gVar = akVar.f105504k;
                                C28439i iVar3 = akVar.f105508o;
                                C28313c a5 = akVar.f105503j.mo33805a(C28427h.m53115a(akVar.f105500g.mo42193b()));
                                gVar.mo33919c(iVar3);
                                C28470n.m53226a(iVar3, a5);
                            }
                            akVar.f105504k.mo33920d(akVar.f105508o);
                            akVar.f105504k.mo33922f();
                            return;
                        }
                        throw new NullPointerException("Null displayManager");
                    }
                    throw new NullPointerException("Null extendedOutsideView");
                }
                throw new NullPointerException("Null extendedContainerView");
            }
            throw new NullPointerException("Null collapsedView");
        }
    }

    /* renamed from: b */
    public final void mo19983b(Throwable th) {
        this.f105604g.mo42271b();
    }

    /* renamed from: c */
    public final /* synthetic */ void mo19984c() {
    }

    /* renamed from: d */
    public final /* synthetic */ void mo19985d(C45986ax axVar) {
        C45983au.m82161a(this);
    }

    /* renamed from: jP */
    public final void mo19987jP(Bundle bundle) {
        C32159i iVar = this.f105599b;
        C45989b bVar = this.f105598a;
        C46012bw g = C46013bx.m82203g();
        C58485gu n = C58485gu.m89846n(C32169d.class);
        Objects.requireNonNull(g);
        Collection.EL.forEach(n, new C40091a(g));
        ((C46010bu) g).f120853a = C58485gu.m89847o(C32156f.class, C32155e.class);
        bVar.mo50083f(g.mo50146a());
        bVar.mo50082e(this);
        bVar.mo50082e(new C46347g(((C40092b) iVar).f105312a));
        super.mo19987jP(bundle);
    }
}
