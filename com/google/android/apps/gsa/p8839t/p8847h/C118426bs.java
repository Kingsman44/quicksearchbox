package com.google.android.apps.gsa.p8839t.p8847h;

import androidx.p104d.p105a.C2164c;
import com.google.android.apps.gsa.opa.C83581al;
import com.google.android.apps.gsa.opa.p6429a.p6431b.C83564a;
import com.google.android.apps.gsa.p8839t.C118366g;
import com.google.android.apps.gsa.p8839t.C118451i;
import com.google.android.apps.gsa.p8839t.p8845f.C118362d;
import com.google.android.apps.gsa.p8839t.p8845f.C118363e;
import com.google.android.apps.gsa.p8839t.p8845f.C118364f;
import com.google.android.apps.gsa.p8839t.p8845f.C118365g;
import com.google.android.apps.gsa.search.core.p6805i.C86124t;
import com.google.android.apps.gsa.shared.logger.p7054d.C89885b;
import com.google.android.apps.gsa.shared.p7066m.C90051dc;
import com.google.android.apps.gsa.shared.p7066m.C90069du;
import com.google.android.apps.gsa.shared.p7066m.C90102f;
import com.google.android.apps.gsa.shared.p7195y.C91189au;
import com.google.android.apps.gsa.shared.util.p7159c.C90873ag;
import com.google.android.apps.search.assistant.platform.pcp.p9329f.C123726at;
import com.google.android.apps.search.assistant.platform.pcp.p9329f.C123728av;
import com.google.android.apps.search.assistant.platform.pcp.p9329f.C123730ax;
import com.google.android.apps.search.assistant.platform.pcp.p9329f.C123741bh;
import com.google.android.apps.search.assistant.platform.pcp.p9329f.C123742bi;
import com.google.android.apps.search.assistant.platform.pcp.p9329f.C123770cj;
import com.google.android.apps.search.assistant.platform.pcp.p9329f.C123777f;
import com.google.android.apps.search.assistant.platform.pcp.p9339i.C124100bz;
import com.google.android.libraries.assistant.pcp.p1573k.C18927g;
import com.google.android.libraries.assistant.pcp.p1573k.C18932l;
import com.google.android.libraries.assistant.pcp.p1573k.C18940t;
import com.google.android.libraries.gsa.p1876k.C22871g;
import com.google.android.libraries.p1730f.C21370a;
import com.google.assistant.p3803ag.p3809c.C48952az;
import com.google.assistant.p3820ak.C49217p;
import com.google.assistant.p3980n.p3985c.C53020k;
import com.google.assistant.p3980n.p3985c.C53025p;
import com.google.assistant.p3994s.p3995a.C53173eb;
import com.google.assistant.p3994s.p3995a.C53190es;
import com.google.assistant.p3994s.p3995a.C53212fn;
import com.google.assistant.p3994s.p3995a.C53245gt;
import com.google.assistant.p3994s.p3995a.C53249gx;
import com.google.assistant.p3994s.p3995a.C53250gy;
import com.google.assistant.p3994s.p3995a.C53306j;
import com.google.assistant.p3994s.p3995a.C53333k;
import com.google.assistant.p3994s.p3995a.C53365le;
import com.google.assistant.p3994s.p3995a.C53366lf;
import com.google.assistant.p3994s.p3995a.C53368lh;
import com.google.assistant.p3994s.p3995a.C53370lj;
import com.google.assistant.p3994s.p3995a.C53376lp;
import com.google.assistant.p3994s.p3995a.C53407mt;
import com.google.assistant.p3994s.p3995a.C53420nf;
import com.google.assistant.p3994s.p3995a.C53422nh;
import com.google.assistant.p3994s.p3995a.C53425nk;
import com.google.assistant.p3994s.p3995a.C53426nl;
import com.google.assistant.p3994s.p3995a.C53429no;
import com.google.assistant.p3994s.p3995a.C53430np;
import com.google.assistant.p3994s.p3995a.C53442oa;
import com.google.common.base.C58833ax;
import com.google.common.base.C58836b;
import com.google.common.p4522b.C58480gp;
import com.google.common.p4522b.C58485gu;
import com.google.common.p4522b.C58486gv;
import com.google.common.p4522b.C58487gw;
import com.google.common.p4522b.C58490gz;
import com.google.common.p4522b.C58495hd;
import com.google.common.p4522b.C58528ij;
import com.google.common.p4522b.C58759qy;
import com.google.common.p4526f.p4527a.C58974d;
import com.google.common.util.concurrent.C60870cx;
import com.google.protobuf.C62910ar;
import com.google.protobuf.C62940bt;
import com.google.protobuf.C62942bv;
import com.google.protobuf.C62971cq;
import com.google.protobuf.p4750c.C62950b;
import com.google.protos.p4759ad.p4760a.p4761a.p4762a.p4763a.p4764a.p4765a.p4766a.C63117d;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.concurrent.Executor;
import java.util.concurrent.TimeUnit;
import p3186j$.time.Duration;
import p3186j$.util.Collection;

/* renamed from: com.google.android.apps.gsa.t.h.bs */
/* compiled from: PG */
public final class C118426bs {

    /* renamed from: a */
    public static final C58487gw f328679a;

    /* renamed from: b */
    public static final C58528ij f328680b = C58528ij.m90013M(8, 12, 9, 13);

    /* renamed from: c */
    public static final C58528ij f328681c = C58528ij.m90011K(C53306j.AMBIENT_ASSISTANT, C53306j.INPUT_PLATE);

    /* renamed from: d */
    public static final C58528ij f328682d = new C58759qy(C53306j.OPA_SMARTSPACE);

    /* renamed from: e */
    public static final C58528ij f328683e = C58528ij.m90011K(27, 28);

    /* renamed from: f */
    public static final C58495hd f328684f;

    /* renamed from: w */
    private static final C58487gw f328685w;

    /* renamed from: g */
    public final C58974d f328686g;

    /* renamed from: h */
    public final C118366g f328687h;

    /* renamed from: i */
    public final C118451i f328688i;

    /* renamed from: j */
    public final C83581al f328689j;

    /* renamed from: k */
    public final C18927g f328690k;

    /* renamed from: l */
    public final C18940t f328691l;

    /* renamed from: m */
    public final C18932l f328692m;

    /* renamed from: n */
    public final C22871g f328693n;

    /* renamed from: o */
    public final C22871g f328694o;

    /* renamed from: p */
    public final Executor f328695p;

    /* renamed from: q */
    public final C86124t f328696q;

    /* renamed from: r */
    public final C21370a f328697r;

    /* renamed from: s */
    public final C58485gu f328698s;

    /* renamed from: t */
    public final C91189au f328699t;

    /* renamed from: u */
    public final C124100bz f328700u;

    /* renamed from: v */
    public final Map f328701v = new HashMap();

    static {
        C58486gv gvVar = new C58486gv();
        gvVar.mo55422f(C53306j.ALL_PCP_CLIENTS, 9);
        gvVar.mo55422f(C53306j.MAIN_APP, 11, 2, 9, 3, 7, 24);
        gvVar.mo55422f(C53306j.AMBIENT_ASSISTANT, 11, 2, 3, 7, 21, 9, 19, 22, 13, 8, 12, 27, 28);
        gvVar.mo55422f(C53306j.AUTO_EMBEDDED, 1);
        gvVar.mo55422f(C53306j.AUTO_PROJECTED, 9, 10);
        gvVar.mo55422f(C53306j.MORRIS, 14, 23, 9, 10, 8);
        gvVar.mo55422f(C53306j.TAPAS, 14, 10, 13, 8);
        gvVar.mo55422f(C53306j.CHALKBOARD, 8);
        gvVar.mo55422f(C53306j.INPUT_PLATE, 24);
        gvVar.mo55422f(C53306j.MORRIS_DRIVING_SCREEN, 1, 9, 10);
        f328679a = gvVar.mo55417a();
        C58486gv gvVar2 = new C58486gv();
        gvVar2.mo55422f(C53306j.AMBIENT_ASSISTANT, 9, 7);
        gvVar2.mo55422f(C53306j.INPUT_PLATE, 24);
        f328685w = gvVar2.mo55417a();
        C58490gz gzVar = new C58490gz(4);
        gzVar.mo55429h(2, C90069du.f249743u);
        gzVar.mo55429h(14, C90069du.f249743u);
        gzVar.mo55429h(7, C90069du.f249720N);
        gzVar.mo55429h(11, C90069du.f249738p);
        gzVar.mo55429h(3, C90069du.f249717K);
        gzVar.mo55429h(8, C90069du.f249719M);
        gzVar.mo55429h(10, C90069du.f249712F);
        gzVar.mo55429h(19, C90069du.f249712F);
        gzVar.mo55429h(22, C90069du.f249721O);
        gzVar.mo55429h(23, C90069du.f249727e);
        gzVar.mo55429h(1, C90069du.f249723a);
        gzVar.mo55429h(9, C90069du.f249739q);
        f328684f = gzVar.mo55427f(false);
    }

    public C118426bs(C118366g gVar, C118451i iVar, C83581al alVar, C18927g gVar2, C18940t tVar, C18932l lVar, C22871g gVar3, C22871g gVar4, Executor executor, C86124t tVar2, C21370a aVar, C83564a aVar2, C91189au auVar, C124100bz bzVar) {
        this.f328687h = gVar;
        this.f328688i = iVar;
        this.f328689j = alVar;
        this.f328690k = gVar2;
        this.f328691l = tVar;
        this.f328692m = lVar;
        this.f328693n = gVar3;
        this.f328694o = gVar4;
        this.f328695p = executor;
        this.f328696q = tVar2;
        this.f328697r = aVar;
        this.f328698s = tVar2.mo79745c(C90069du.f249736n);
        this.f328686g = aVar2.mo76901b(this);
        this.f328699t = auVar;
        this.f328700u = bzVar;
        C63117d dVar = (C63117d) tVar2.mo79754t(C90069du.f249748z, C63117d.f170388b.getParserForType());
        if (dVar != null) {
            Collection.EL.stream(dVar.f170390a).forEach(new C118417bj(this));
        }
    }

    /* renamed from: a */
    public static int m196609a(C118365g gVar) {
        int i = 0;
        for (C118363e eVar : gVar.f328544a) {
            int i2 = eVar.f328535b;
            if (i2 == 6) {
                for (C53020k kVar : ((C123742bi) eVar.f328536c).f341802a) {
                    i += kVar.f138974c.size();
                }
            } else if (i2 == 5) {
                for (C123728av avVar : ((C123730ax) eVar.f328536c).f341769a) {
                    i += avVar.f341758d.size();
                }
            }
        }
        return i;
    }

    /* renamed from: e */
    public static Duration m196610e(C53306j jVar, C123777f fVar) {
        Object obj;
        if (C53306j.AMBIENT_ASSISTANT.equals(jVar)) {
            C62940bt r1 = C62942bv.checkIsLite(C123726at.f341744i);
            fVar.mo58887l(r1);
            if (fVar.f169962ag.mo58857o(r1.f169971d)) {
                C62940bt r12 = C62942bv.checkIsLite(C123726at.f341744i);
                fVar.mo58887l(r12);
                Object l = fVar.f169962ag.mo58854l(r12.f169971d);
                if (l == null) {
                    obj = r12.f169969b;
                } else {
                    obj = r12.mo58889c(l);
                }
                C123726at atVar = (C123726at) obj;
                if ((atVar.f341746a & 16) != 0) {
                    C62910ar arVar = atVar.f341752g;
                    if (arVar == null) {
                        arVar = C62910ar.f169858c;
                    }
                    return C62950b.m95473d(arVar);
                }
            }
        }
        return Duration.ZERO;
    }

    /* renamed from: b */
    public final C58833ax mo103691b(C123770cj cjVar) {
        if (cjVar.f341901a.size() == 0) {
            return C58836b.f156633a;
        }
        C118364f fVar = (C118364f) C118365g.f328542b.createBuilder();
        C118362d dVar = (C118362d) C118363e.f328532h.createBuilder();
        dVar.copyOnWrite();
        C118363e eVar = (C118363e) dVar.instance;
        eVar.f328534a |= 1;
        eVar.f328537d = 8;
        dVar.copyOnWrite();
        C118363e eVar2 = (C118363e) dVar.instance;
        cjVar.getClass();
        eVar2.f328536c = cjVar;
        eVar2.f328535b = 4;
        fVar.mo103681c((C118363e) dVar.build());
        return C58833ax.m90834k((C118365g) fVar.build());
    }

    /* renamed from: c */
    public final C58487gw mo103692c(C53422nh nhVar) {
        Integer num;
        C53376lp lpVar;
        C53420nf nfVar;
        C53442oa oaVar;
        C49217p pVar;
        C58833ax axVar;
        C53422nh nhVar2 = nhVar;
        C58486gv gvVar = new C58486gv();
        C58480gp e = C58485gu.m89837e();
        if ((nhVar2.f140184a & 4) != 0) {
            C53407mt mtVar = nhVar2.f140187d;
            if (mtVar == null) {
                mtVar = C53407mt.f140139d;
            }
            for (C53368lh lhVar : mtVar.f140143c) {
                e.mo55396h(lhVar.f140046a);
            }
            if ((mtVar.f140141a & 1) != 0) {
                C53368lh lhVar2 = mtVar.f140142b;
                if (lhVar2 == null) {
                    lhVar2 = C53368lh.f140044b;
                }
                e.mo55396h(lhVar2.f140046a);
            }
        }
        C53370lj ljVar = nhVar2.f140188e;
        if (ljVar == null) {
            ljVar = C53370lj.f140047c;
        }
        for (C53366lf lfVar : ljVar.f140050b) {
            C53306j a = C53306j.m86809a(nhVar2.f140193j);
            if (a == null) {
                a = C53306j.UNKNOWNN;
            }
            C58485gu f = e.mo55394f();
            int i = lfVar.f140037b;
            if (i == 13) {
                num = 1;
            } else if (i != 3 || !f.contains(lfVar.f140039d)) {
                C53333k a2 = C53333k.m86811a(lfVar.f140042g);
                if (a2 == null) {
                    axVar = C58836b.f156633a;
                } else {
                    C53365le leVar = C53365le.CONTEXTUAL_GREETING;
                    int ordinal = a2.ordinal();
                    if (ordinal == 1) {
                        axVar = C58833ax.m90834k(7);
                    } else if (ordinal == 9) {
                        axVar = C58833ax.m90834k(3);
                    } else if (ordinal == 25) {
                        axVar = C58833ax.m90834k(21);
                    } else if (ordinal == 29) {
                        axVar = C58833ax.m90834k(11);
                    } else if (ordinal == 5) {
                        axVar = C58833ax.m90834k(2);
                    } else if (ordinal != 6) {
                        switch (ordinal) {
                            case 18:
                                if (!C53306j.AMBIENT_ASSISTANT.equals(a)) {
                                    axVar = C58833ax.m90834k(10);
                                    break;
                                } else {
                                    axVar = C58833ax.m90834k(19);
                                    break;
                                }
                            case 19:
                                axVar = C58833ax.m90834k(23);
                                break;
                            case 20:
                                axVar = C58833ax.m90834k(22);
                                break;
                            default:
                                axVar = C58836b.f156633a;
                                break;
                        }
                    } else {
                        axVar = C58833ax.m90834k(14);
                    }
                }
                if (axVar.mo56113h()) {
                    num = (Integer) axVar.mo56107c();
                }
            } else {
                num = 24;
            }
            C118362d dVar = (C118362d) C118363e.f328532h.createBuilder();
            int intValue = num.intValue();
            dVar.copyOnWrite();
            C118363e eVar = (C118363e) dVar.instance;
            eVar.f328534a |= 1;
            eVar.f328537d = intValue;
            C53365le leVar2 = C53365le.CONTEXTUAL_GREETING;
            C53333k kVar = C53333k.UNKNOWN;
            int ordinal2 = C53365le.m86815a(lfVar.f140037b).ordinal();
            if (ordinal2 == 3) {
                if (lfVar.f140037b == 3) {
                    lpVar = (C53376lp) lfVar.f140038c;
                } else {
                    lpVar = C53376lp.f140063c;
                }
                if ((lpVar.f140065a & 1) != 0) {
                    if (num.equals(23)) {
                        C53430np npVar = lpVar.f140066b;
                        if (npVar == null) {
                            npVar = C53430np.f140222e;
                        }
                        dVar.copyOnWrite();
                        C118363e eVar2 = (C118363e) dVar.instance;
                        npVar.getClass();
                        eVar2.f328536c = npVar;
                        eVar2.f328535b = 23;
                    } else if (num.equals(24)) {
                        C53430np npVar2 = lpVar.f140066b;
                        if (npVar2 == null) {
                            npVar2 = C53430np.f140222e;
                        }
                        if (this.f328696q.mo79746e(C90069du.f249740r)) {
                            C53429no noVar = (C53429no) npVar2.toBuilder();
                            long b = this.f328697r.mo26870b();
                            noVar.copyOnWrite();
                            C53430np npVar3 = (C53430np) noVar.instance;
                            npVar3.f140224a |= 2;
                            npVar3.f140227d = b;
                            npVar2 = (C53430np) noVar.build();
                        }
                        dVar.copyOnWrite();
                        C118363e eVar3 = (C118363e) dVar.instance;
                        npVar2.getClass();
                        eVar3.f328536c = npVar2;
                        eVar3.f328535b = 24;
                        if ((lfVar.f140036a & 8) != 0) {
                            C48952az azVar = lfVar.f140041f;
                            if (azVar == null) {
                                azVar = C48952az.f126657c;
                            }
                            dVar.copyOnWrite();
                            C118363e eVar4 = (C118363e) dVar.instance;
                            azVar.getClass();
                            eVar4.f328540g = azVar;
                            eVar4.f328534a |= 1048576;
                        }
                    }
                }
            } else if (ordinal2 == 4) {
                if (lfVar.f140037b == 4) {
                    nfVar = (C53420nf) lfVar.f140038c;
                } else {
                    nfVar = C53420nf.f140165o;
                }
                if ((nfVar.f140167a & 512) != 0) {
                    String str = nfVar.f140175i;
                    dVar.copyOnWrite();
                    C118363e eVar5 = (C118363e) dVar.instance;
                    str.getClass();
                    eVar5.f328534a |= 2;
                    eVar5.f328538e = str;
                }
                if (nfVar.f140168b == 1) {
                    C53425nk nkVar = (C53425nk) ((C53426nl) nfVar.f140169c).toBuilder();
                    nkVar.copyOnWrite();
                    C53426nl nlVar = (C53426nl) nkVar.instance;
                    nlVar.f140213g = a.f139793X;
                    nlVar.f140207a |= 64;
                    dVar.copyOnWrite();
                    C118363e eVar6 = (C118363e) dVar.instance;
                    C53426nl nlVar2 = (C53426nl) nkVar.build();
                    nlVar2.getClass();
                    C62971cq cqVar = eVar6.f328539f;
                    if (!cqVar.mo58948c()) {
                        eVar6.f328539f = C62942bv.mutableCopy(cqVar);
                    }
                    eVar6.f328539f.add(nlVar2);
                }
                if ((nfVar.f140167a & C89885b.HTTP_VALUE) != 0) {
                    C53250gy gyVar = nfVar.f140176j;
                    if (gyVar == null) {
                        gyVar = C53250gy.f139586c;
                    }
                    int intValue2 = num.intValue();
                    if (intValue2 != 2) {
                        if (intValue2 != 3) {
                            if (intValue2 != 7) {
                                if (intValue2 != 11) {
                                    if (intValue2 != 14) {
                                        if (intValue2 == 22 && gyVar.f139588a == 6) {
                                            C53249gx gxVar = (C53249gx) gyVar.f139589b;
                                            dVar.copyOnWrite();
                                            C118363e eVar7 = (C118363e) dVar.instance;
                                            gxVar.getClass();
                                            eVar7.f328536c = gxVar;
                                            eVar7.f328535b = 22;
                                        }
                                    }
                                } else if (gyVar.f139588a == 2) {
                                    C53190es esVar = (C53190es) gyVar.f139589b;
                                    dVar.copyOnWrite();
                                    C118363e eVar8 = (C118363e) dVar.instance;
                                    esVar.getClass();
                                    eVar8.f328536c = esVar;
                                    eVar8.f328535b = 10;
                                }
                            } else if (gyVar.f139588a == 4) {
                                C53245gt gtVar = (C53245gt) gyVar.f139589b;
                                dVar.copyOnWrite();
                                C118363e eVar9 = (C118363e) dVar.instance;
                                gtVar.getClass();
                                eVar9.f328536c = gtVar;
                                eVar9.f328535b = 11;
                            }
                        } else if (gyVar.f139588a == 5) {
                            C53212fn fnVar = (C53212fn) gyVar.f139589b;
                            dVar.copyOnWrite();
                            C118363e eVar10 = (C118363e) dVar.instance;
                            fnVar.getClass();
                            eVar10.f328536c = fnVar;
                            eVar10.f328535b = 12;
                        }
                    }
                    if (gyVar.f139588a == 1) {
                        C53173eb ebVar = (C53173eb) gyVar.f139589b;
                        dVar.copyOnWrite();
                        C118363e eVar11 = (C118363e) dVar.instance;
                        ebVar.getClass();
                        eVar11.f328536c = ebVar;
                        eVar11.f328535b = 8;
                    }
                }
            } else if (ordinal2 == 9) {
                if (lfVar.f140037b == 13) {
                    oaVar = (C53442oa) lfVar.f140038c;
                } else {
                    oaVar = C53442oa.f140266d;
                }
                dVar.copyOnWrite();
                C118363e eVar12 = (C118363e) dVar.instance;
                oaVar.getClass();
                eVar12.f328536c = oaVar;
                eVar12.f328535b = 2;
            } else if (ordinal2 == 10) {
                if (lfVar.f140037b == 14) {
                    pVar = (C49217p) lfVar.f140038c;
                } else {
                    pVar = C49217p.f127258c;
                }
                if ((pVar.f127260a & 1) != 0) {
                    C53025p pVar2 = pVar.f127261b;
                    if (pVar2 == null) {
                        pVar2 = C53025p.f138983b;
                    }
                    if (!pVar2.f138986a.isEmpty()) {
                        boolean z = false;
                        for (C53020k kVar2 : pVar2.f138986a) {
                            z |= !kVar2.f138974c.isEmpty();
                        }
                        if (z) {
                            C123741bh bhVar = (C123741bh) C123742bi.f341800b.createBuilder();
                            C53025p pVar3 = pVar.f127261b;
                            if (pVar3 == null) {
                                pVar3 = C53025p.f138983b;
                            }
                            bhVar.mo106121a(pVar3.f138986a);
                            dVar.copyOnWrite();
                            C118363e eVar13 = (C118363e) dVar.instance;
                            C123742bi biVar = (C123742bi) bhVar.build();
                            biVar.getClass();
                            eVar13.f328536c = biVar;
                            eVar13.f328535b = 6;
                        }
                    }
                }
            }
            gvVar.mo55419c(num, (C118363e) dVar.build());
        }
        return gvVar.mo55417a();
    }

    /* renamed from: d */
    public final C60870cx mo103693d(C53306j jVar, C60870cx cxVar, List list) {
        return this.f328693n.mo28209i(cxVar, "#filterAndSortOnDeviceMedia()", new C118393am(this, list, jVar));
    }

    /* renamed from: f */
    public final Long mo103694f(Integer num) {
        C58495hd hdVar = f328684f;
        if (hdVar.containsKey(num)) {
            return Long.valueOf(TimeUnit.SECONDS.toMillis(this.f328696q.mo79743a((C90102f) hdVar.get(num))));
        }
        return Long.valueOf(TimeUnit.MINUTES.toMillis(this.f328696q.mo79743a(C90069du.f249711E)));
    }

    /* renamed from: g */
    public final void mo103695g(C60870cx cxVar, C2164c cVar, Object obj, C22871g gVar) {
        new C90873ag(cxVar, gVar, "Populate on-device media completer", new C118415bh(cVar, obj)).mo85223a(new C118416bi(this, cVar, obj));
    }

    /* renamed from: h */
    public final boolean mo103696h(C53306j jVar, Integer num) {
        return (this.f328696q.mo79746e(C90051dc.f248917n) && jVar.equals(C53306j.MORRIS_DRIVING_SCREEN) && num.intValue() == 10) || f328685w.mo54952E(jVar, num);
    }

    /* renamed from: i */
    public final boolean mo103697i(Integer num) {
        return num.intValue() != 0 && !f328680b.contains(num);
    }
}
