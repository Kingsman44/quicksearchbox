package com.google.android.apps.gsa.nga.engine.p6056o.p6077e.p6091e;

import com.google.android.apps.gsa.nga.engine.am.c.a.ac;
import com.google.android.apps.gsa.nga.engine.am.d.m;
import com.google.android.apps.gsa.nga.engine.am.t;
import com.google.android.apps.gsa.nga.engine.am.w;
import com.google.android.apps.gsa.nga.engine.p5900ag.C74820be;
import com.google.android.apps.gsa.nga.engine.p5913am.p5917c.C74886bd;
import com.google.android.apps.gsa.nga.engine.p5913am.p5939u.C74965n;
import com.google.android.apps.gsa.nga.engine.p6056o.p6059c.C76541a;
import com.google.android.apps.gsa.nga.engine.p6056o.p6059c.C76564ah;
import com.google.android.apps.gsa.nga.engine.p6056o.p6059c.C76590bg;
import com.google.android.apps.gsa.nga.engine.p6056o.p6059c.C76591c;
import com.google.android.apps.gsa.nga.engine.p6056o.p6059c.C76593e;
import com.google.android.apps.gsa.nga.engine.p6056o.p6059c.C76594f;
import com.google.android.apps.gsa.nga.engine.p6246w.C79402e;
import com.google.android.apps.gsa.nga.shared.p6275aa.p6281e.C80396i;
import com.google.android.apps.gsa.nga.shared.p6275aa.p6281e.C80399l;
import com.google.android.apps.gsa.nga.shared.p6275aa.p6281e.C80401n;
import com.google.android.apps.gsa.nga.shared.p6275aa.p6281e.C80403p;
import com.google.android.apps.gsa.nga.shared.p6358n.C81442m;
import com.google.android.apps.gsa.nga.shared.p6360p.C81444a;
import com.google.android.apps.gsa.nga.shared.p6368u.C81515c;
import com.google.android.apps.gsa.nga.shared.p6407v.C83044e;
import com.google.android.apps.gsa.nga.shared.p6407v.C83216f;
import com.google.android.apps.gsa.nga.shared.p6407v.C83251g;
import com.google.android.apps.gsa.nga.shared.p6407v.p6411d.C82831ca;
import com.google.android.apps.gsa.nga.shared.p6407v.p6411d.C82835ce;
import com.google.android.apps.gsa.shared.p7066m.C90066dr;
import com.google.android.apps.gsa.shared.p7066m.C90126fx;
import com.google.android.apps.gsa.shared.util.p7188v.C91142g;
import com.google.android.googlequicksearchbox.R;
import com.google.assistant.p3897e.p3902c.p3907c.C51011db;
import com.google.assistant.p3897e.p3902c.p3907c.C51012dc;
import com.google.assistant.p3897e.p3902c.p3907c.C51055es;
import com.google.assistant.p3897e.p3902c.p3907c.C51058ev;
import com.google.assistant.p3897e.p3902c.p3907c.C51097gg;
import com.google.assistant.p3897e.p3902c.p3907c.C51098gh;
import com.google.assistant.p3897e.p3902c.p3907c.C51115gy;
import com.google.assistant.p3897e.p3902c.p3907c.C51116gz;
import com.google.assistant.p3897e.p3902c.p3907c.C51118ha;
import com.google.assistant.p3897e.p3902c.p3907c.C51119hb;
import com.google.assistant.p3897e.p3917i.p3918a.C51310cz;
import com.google.assistant.p3897e.p3917i.p3918a.C51588ng;
import com.google.assistant.p3897e.p3917i.p3918a.C51592nk;
import com.google.assistant.p3897e.p3917i.p3918a.C51593nl;
import com.google.assistant.p3897e.p3917i.p3918a.C51594nm;
import com.google.assistant.p3897e.p3921j.p3926e.C51934en;
import com.google.assistant.p3897e.p3921j.p3926e.C51936ep;
import com.google.assistant.p3897e.p3921j.p3926e.C51937eq;
import com.google.assistant.p3897e.p3921j.p3926e.C51941eu;
import com.google.assistant.p3897e.p3921j.p3926e.C51942ev;
import com.google.assistant.p3897e.p3921j.p3926e.C51943ew;
import com.google.assistant.p3897e.p3921j.p3926e.C51944ex;
import com.google.assistant.p3897e.p3921j.p3926e.C51948fa;
import com.google.assistant.p3897e.p3921j.p3926e.C51950fc;
import com.google.assistant.p3897e.p3921j.p3926e.C51953ff;
import com.google.common.p4522b.C58485gu;
import com.google.common.p4526f.p4527a.C58970a;
import com.google.common.p4526f.p4527a.C58974d;
import com.google.common.util.concurrent.C60856cj;
import com.google.common.util.concurrent.C60870cx;
import java.util.Locale;
import p3186j$.time.Duration;
import p3186j$.util.Objects;
import p3186j$.util.Optional;

/* renamed from: com.google.android.apps.gsa.nga.engine.o.e.e.at */
/* compiled from: PG */
public final class C77167at implements C76591c {

    /* renamed from: b */
    private static final Duration f212954b = Duration.ofHours(100);

    /* renamed from: c */
    private static final C58974d f212955c = C58974d.m91136j();

    /* renamed from: a */
    public final C79402e f212956a;

    /* renamed from: d */
    private final C83216f f212957d;

    /* renamed from: e */
    private final C81444a f212958e;

    /* renamed from: f */
    private final C81515c f212959f;

    /* renamed from: g */
    private final m f212960g;

    /* renamed from: h */
    private final C91142g f212961h;

    /* renamed from: i */
    private final C74820be f212962i;

    public C77167at(C79402e eVar, C83251g gVar, C81444a aVar, C81515c cVar, m mVar, C91142g gVar2, C74820be beVar) {
        this.f212956a = eVar;
        this.f212957d = gVar.mo76652a(C82831ca.CREATE_TIMER);
        this.f212958e = aVar;
        this.f212959f = cVar;
        this.f212960g = mVar;
        this.f212961h = gVar2;
        this.f212962i = beVar;
    }

    /* renamed from: d */
    private static C80399l m123868d() {
        C80399l lVar = (C80399l) C80401n.f220656k.createBuilder();
        lVar.copyOnWrite();
        ((C80401n) lVar.instance).f220664g = C80403p.m128150a(6);
        lVar.mo74319k(23220);
        return lVar;
    }

    /* renamed from: a */
    public final C76594f mo71711a() {
        C76593e h = C76594f.m123238h();
        h.mo72245d(ac.a());
        h.mo72246e(Optional.m71637of(C82831ca.CREATE_TIMER));
        h.mo72277g("Create_timer", C90126fx.f251100cT);
        h.mo72244c(C58485gu.m89846n("Create_timer"));
        ((C76541a) h).f211766c = 10911;
        return h.mo72276f();
    }

    /* renamed from: b */
    public final C60870cx mo71712b(C76590bg bgVar, C74965n nVar) {
        C51588ng ngVar;
        C74886bd c = nVar.mo71328c();
        if (!c.mo71263b()) {
            this.f212957d.mo76648a(nVar.mo71336k(), C82835ce.SUPPORTED_APPLICATION_NOT_FOUND, C83044e.f226656a);
            return C81442m.f222851a;
        }
        if (c.mo71267f()) {
            ngVar = (C51588ng) C51592nk.f134462k.createBuilder();
            String uuid = this.f212958e.mo75083a().toString();
            ngVar.copyOnWrite();
            C51592nk nkVar = (C51592nk) ngVar.instance;
            uuid.getClass();
            nkVar.f134464a |= 1;
            nkVar.f134467d = uuid;
        } else {
            ngVar = (C51588ng) C51592nk.f134462k.createBuilder();
        }
        Optional i = bgVar.mo72267i(C77149ab.f212917a);
        C79402e eVar = this.f212956a;
        Objects.requireNonNull(eVar);
        i.map(new C77162ao(eVar)).map(new C77163ap(this)).ifPresent(new C77164aq(this, ngVar));
        bgVar.mo72270l(C77149ab.f212919c).ifPresent(new C77161an(this, ngVar));
        Optional map = bgVar.mo72265g(C76564ah.f211801a, C77149ab.f212918b).map(C77165ar.f212952a);
        Objects.requireNonNull(ngVar);
        map.ifPresent(new C77166as(ngVar));
        C51592nk nkVar2 = (C51592nk) ngVar.build();
        if ((nkVar2.f134464a & 4) == 0) {
            this.f212957d.mo76648a(nVar.mo71336k(), C82835ce.TIMER_DURATION_NOT_PROVIDED, C83044e.f226656a);
            return C81442m.f222851a;
        } else if (!this.f212962i.mo71216a().equals(C51310cz.DEVICE_LOCKED) || !this.f212961h.mo85405j(C90066dr.f249702y) || !this.f212961h.mo85405j(C90126fx.f251282fq)) {
            C80399l d = m123868d();
            C51593nl nlVar = (C51593nl) C51594nm.f134474f.createBuilder();
            nlVar.mo53650d(nkVar2);
            nlVar.copyOnWrite();
            C51594nm nmVar = (C51594nm) nlVar.instance;
            nmVar.f134476a |= 4;
            nmVar.f134480e = "com.google.android.deskclock";
            nlVar.copyOnWrite();
            C51594nm nmVar2 = (C51594nm) nlVar.instance;
            nmVar2.f134476a |= 1;
            nmVar2.f134478c = true;
            C81442m.m129557s(d, t.p("timer.CREATE_TIMER", (C51594nm) nlVar.build()));
            C80401n nVar2 = (C80401n) d.build();
            if (this.f212961h.mo85405j(C90126fx.f251305gM) && C81442m.m129556r(this.f212962i.mo71218c(), nVar.mo71349x())) {
                C80399l lVar = (C80399l) nVar2.toBuilder();
                C80396i a = w.a("PortableCreateTimer", "ExecuteCreateTimer_Earcon");
                lVar.copyOnWrite();
                a.getClass();
                ((C80401n) lVar.instance).f220667j = a;
                nVar2 = (C80401n) lVar.build();
            }
            return C60856cj.m92900i(nVar2);
        } else {
            Locale q = nVar.mo71342q();
            C80399l d2 = m123868d();
            C51593nl nlVar2 = (C51593nl) C51594nm.f134474f.createBuilder();
            nlVar2.mo53650d(nkVar2);
            nlVar2.copyOnWrite();
            C51594nm nmVar3 = (C51594nm) nlVar2.instance;
            nmVar3.f134476a |= 4;
            nmVar3.f134480e = "com.google.android.deskclock";
            C81442m.m129557s(d2, t.p("timer.CREATE_TIMER", (C51594nm) nlVar2.build()));
            C81442m.m129557s(d2, t.s(t.r(this.f212959f.mo75121a(q).getString(R.string.nga_productivity_create_timer_ok, new Object[0]))));
            m mVar = this.f212960g;
            C51934en enVar = (C51934en) C51953ff.f136315l.createBuilder();
            C51944ex exVar = (C51944ex) C51948fa.f136294i.createBuilder();
            exVar.copyOnWrite();
            C51948fa faVar = (C51948fa) exVar.instance;
            faVar.f136296a |= 16;
            faVar.f136301f = true;
            C51942ev evVar = (C51942ev) C51943ew.f136285f.createBuilder();
            C51937eq eqVar = (C51937eq) C51941eu.f136271l.createBuilder();
            C51115gy gyVar = (C51115gy) C51119hb.f133058f.createBuilder();
            C51011db dbVar = (C51011db) C51012dc.f132813k.createBuilder();
            dbVar.copyOnWrite();
            C51012dc dcVar = (C51012dc) dbVar.instance;
            dcVar.f132815a |= 2;
            dcVar.f132817c = "https://www.gstatic.com/assistant/verticals/communication/iris_confirmation_light.png";
            gyVar.copyOnWrite();
            C51119hb hbVar = (C51119hb) gyVar.instance;
            C51012dc dcVar2 = (C51012dc) dbVar.build();
            dcVar2.getClass();
            hbVar.f133063d = dcVar2;
            hbVar.f133060a |= 4;
            String string = mVar.a.mo75121a(q).getString(R.string.nga_productivity_create_timer_receipt_card_title, new Object[0]);
            gyVar.copyOnWrite();
            C51119hb hbVar2 = (C51119hb) gyVar.instance;
            string.getClass();
            hbVar2.f133060a |= 1;
            hbVar2.f133061b = string;
            C51116gz gzVar = (C51116gz) C51118ha.f133049g.createBuilder();
            String string2 = mVar.a.mo75121a(q).getString(R.string.nga_productivity_create_timer_receipt_card_follow_on_action_name, new Object[0]);
            gzVar.copyOnWrite();
            C51118ha haVar = (C51118ha) gzVar.instance;
            string2.getClass();
            haVar.f133051a |= 1;
            haVar.f133054d = string2;
            C51011db dbVar2 = (C51011db) C51012dc.f132813k.createBuilder();
            dbVar2.copyOnWrite();
            C51012dc dcVar3 = (C51012dc) dbVar2.instance;
            dcVar3.f132815a |= 32;
            dcVar3.f132821g = "com.google.android.deskclock";
            gzVar.copyOnWrite();
            C51118ha haVar2 = (C51118ha) gzVar.instance;
            C51012dc dcVar4 = (C51012dc) dbVar2.build();
            dcVar4.getClass();
            haVar2.f133055e = dcVar4;
            haVar2.f133051a |= 2;
            gyVar.copyOnWrite();
            C51119hb hbVar3 = (C51119hb) gyVar.instance;
            C51118ha haVar3 = (C51118ha) gzVar.build();
            haVar3.getClass();
            hbVar3.f133064e = haVar3;
            hbVar3.f133060a |= 8;
            C51119hb hbVar4 = (C51119hb) gyVar.build();
            eqVar.copyOnWrite();
            C51941eu euVar = (C51941eu) eqVar.instance;
            hbVar4.getClass();
            euVar.f136278f = hbVar4;
            euVar.f136277e = 26;
            C51097gg ggVar = (C51097gg) C51098gh.f133009e.createBuilder();
            C51055es esVar = (C51055es) C51058ev.f132941o.createBuilder();
            esVar.copyOnWrite();
            C51058ev evVar2 = (C51058ev) esVar.instance;
            evVar2.f132943a |= 1;
            evVar2.f132944b = "com.google.android.deskclock";
            String b = m.b(nkVar2);
            esVar.copyOnWrite();
            C51058ev evVar3 = (C51058ev) esVar.instance;
            b.getClass();
            evVar3.f132943a |= 32;
            evVar3.f132949g = b;
            ggVar.copyOnWrite();
            C51098gh ghVar = (C51098gh) ggVar.instance;
            C51058ev evVar4 = (C51058ev) esVar.build();
            evVar4.getClass();
            ghVar.f133013c = evVar4;
            ghVar.f133012b = 1;
            eqVar.copyOnWrite();
            C51941eu euVar2 = (C51941eu) eqVar.instance;
            C51098gh ghVar2 = (C51098gh) ggVar.build();
            ghVar2.getClass();
            euVar2.f136276d = ghVar2;
            euVar2.f136275c = 22;
            evVar.mo53758a(eqVar);
            exVar.mo53762a(evVar);
            enVar.mo53754a(exVar);
            enVar.copyOnWrite();
            C51953ff ffVar = (C51953ff) enVar.instance;
            ffVar.f136317a |= 16;
            ffVar.f136322f = true;
            C51950fc fcVar = C51950fc.FORM_UI_THEME_IRIS_GLANCEABILITY;
            enVar.copyOnWrite();
            C51953ff ffVar2 = (C51953ff) enVar.instance;
            ffVar2.f136324h = fcVar.f136309c;
            ffVar2.f136317a |= 64;
            C51936ep epVar = C51936ep.TIMER;
            enVar.copyOnWrite();
            C51953ff ffVar3 = (C51953ff) enVar.instance;
            ffVar3.f136323g = epVar.f136236u;
            ffVar3.f136317a |= 32;
            C81442m.m129557s(d2, t.s(t.m((C51953ff) enVar.build())));
            return C60856cj.m92900i((C80401n) d2.build());
        }
    }

    /* renamed from: c */
    public final void mo72464c(C51588ng ngVar, Duration duration) {
        Duration ofSeconds = Duration.ofSeconds(duration.getSeconds());
        if (ofSeconds.compareTo(Duration.ZERO) <= 0 || ofSeconds.compareTo(f212954b) >= 0) {
            ((C58970a) ((C58970a) f212955c.mo56225c()).mo56372aa(3834)).mo56389s("Timer duration (%s) outside of allowed range, ignoring.", ofSeconds);
            return;
        }
        long millis = ofSeconds.toMillis();
        ngVar.copyOnWrite();
        C51592nk nkVar = (C51592nk) ngVar.instance;
        C51592nk nkVar2 = C51592nk.f134462k;
        nkVar.f134464a |= 4;
        nkVar.f134469f = millis;
        long epochMilli = this.f212956a.mo74015g().plus(ofSeconds).toInstant().toEpochMilli();
        ngVar.copyOnWrite();
        C51592nk nkVar3 = (C51592nk) ngVar.instance;
        nkVar3.f134465b = 5;
        nkVar3.f134466c = Long.valueOf(epochMilli);
    }
}
