package com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6173h.p6174a.p6177c;

import com.google.android.apps.gsa.assistant.shared.l.e;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6155a.C78175b;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6159c.C78224b;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6165e.C78253d;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6165e.C78263m;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6165e.p6167b.C78245d;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6173h.C78276a;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6173h.C78540aw;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6173h.p6174a.C78508k;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6173h.p6174a.p6175a.C78316e;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6173h.p6174a.p6175a.C78317f;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6173h.p6174a.p6175a.C78324m;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6173h.p6174a.p6175a.C78335x;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6173h.p6179c.C78546a;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6173h.p6179c.p6180a.C78547a;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6210s.C78817s;
import com.google.android.apps.gsa.nga.engine.p6144ui.p6154e.p6218v.C78846b;
import com.google.android.apps.gsa.nga.engine.p6260x.C79853ak;
import com.google.android.apps.gsa.nga.shared.p6315aj.p6316a.p6317a.C80678bg;
import com.google.android.apps.gsa.nga.shared.p6315aj.p6316a.p6317a.C80686bo;
import com.google.android.apps.gsa.nga.shared.p6315aj.p6316a.p6317a.C80780fa;
import com.google.android.apps.gsa.nga.shared.p6315aj.p6316a.p6317a.C80787fh;
import com.google.android.apps.gsa.nga.shared.p6417x.C83349aj;
import com.google.android.apps.gsa.nga.shared.p6417x.C83352b;
import com.google.android.apps.gsa.nga.shared.p6417x.C83357g;
import com.google.android.apps.gsa.nga.shared.p6417x.C83358h;
import com.google.android.apps.gsa.nga.shared.p6417x.C83361k;
import com.google.android.apps.gsa.shared.logger.p7051b.C89849ae;
import com.google.android.apps.gsa.shared.logger.p7051b.C89856f;
import com.google.android.apps.gsa.shared.logger.p7051b.C89857g;
import com.google.android.apps.gsa.shared.logger.p7051b.C89859i;
import com.google.android.apps.gsa.shared.p6983ah.C89160q;
import com.google.android.apps.gsa.shared.util.p7188v.C91142g;
import com.google.android.googlequicksearchbox.R;
import com.google.android.libraries.gsa.p1876k.C22871g;
import com.google.common.p4522b.C58370cn;
import com.google.common.p4522b.C58485gu;
import com.google.common.p4526f.C59071e;
import com.google.common.p4552o.C59582aj;
import com.google.common.p4552o.C59687cb;
import com.google.common.p4580v.C60950i;
import com.google.common.util.concurrent.C60870cx;
import dagger.p5294a.C68221g;
import java.util.Locale;
import p3186j$.time.Duration;
import p3186j$.time.Instant;
import p3186j$.util.Collection;
import p3186j$.util.Objects;
import p3186j$.util.Optional;

/* renamed from: com.google.android.apps.gsa.nga.engine.ui.e.h.a.c.bd */
/* compiled from: PG */
final class C78381bd extends C78394bq {

    /* renamed from: a */
    public static final C59071e f215751a = C59071e.m91332i("com.google.android.apps.gsa.nga.engine.ui.e.h.a.c.bd");

    /* renamed from: b */
    public static final Duration f215752b = Duration.ofMillis(700);

    /* renamed from: u */
    private static final Duration f215753u = Duration.ofMillis(250);

    /* renamed from: A */
    private final C79853ak f215754A;

    /* renamed from: B */
    private final C83358h f215755B;

    /* renamed from: C */
    private final C83358h f215756C;

    /* renamed from: D */
    private final C83358h f215757D;

    /* renamed from: E */
    private final C83358h f215758E;

    /* renamed from: F */
    private final C89859i f215759F;

    /* renamed from: G */
    private final C78817s f215760G;

    /* renamed from: H */
    private final C83358h f215761H;

    /* renamed from: I */
    private final C83358h f215762I;

    /* renamed from: J */
    private final C22871g f215763J;

    /* renamed from: K */
    private final C78175b f215764K;

    /* renamed from: c */
    public final C78380bc f215765c;

    /* renamed from: d */
    public final C78508k f215766d;

    /* renamed from: e */
    public final C78546a f215767e;

    /* renamed from: f */
    public final C78387bj f215768f;

    /* renamed from: g */
    public final C60950i f215769g;

    /* renamed from: h */
    public final C91142g f215770h;

    /* renamed from: i */
    public final C83357g f215771i;

    /* renamed from: j */
    public final C83357g f215772j;

    /* renamed from: k */
    public final C83357g f215773k;

    /* renamed from: l */
    public final C83357g f215774l;

    /* renamed from: m */
    public final C83358h f215775m;

    /* renamed from: n */
    public final Instant f215776n;

    /* renamed from: o */
    public Optional f215777o = Optional.empty();

    /* renamed from: v */
    private final C78335x f215778v;

    /* renamed from: w */
    private final C78458e f215779w;

    /* renamed from: x */
    private final C78451dt f215780x;

    /* renamed from: y */
    private final C78253d f215781y;

    /* renamed from: z */
    private final C78317f f215782z;

    /* JADX INFO: super call moved to the top of the method (can break code semantics) */
    public C78381bd(C78380bc bcVar, C78335x xVar, C78508k kVar, C78546a aVar, C78458e eVar, C78387bj bjVar, C78451dt dtVar, C83358h hVar, C83358h hVar2, C83358h hVar3, C60950i iVar, C22871g gVar, C22871g gVar2, C78175b bVar, C91142g gVar3, C78253d dVar, C78317f fVar, C79853ak akVar, C78817s sVar, C89859i iVar2) {
        super(gVar);
        C83361k kVar2 = new C83361k(C78224b.f215366a, C78263m.class);
        this.f215771i = kVar2;
        C83361k kVar3 = new C83361k(false, C78263m.class);
        this.f215773k = kVar3;
        C83361k kVar4 = new C83361k(true, C78263m.class);
        this.f215774l = kVar4;
        this.f215765c = bcVar;
        this.f215778v = xVar;
        this.f215766d = kVar;
        this.f215767e = aVar;
        this.f215779w = eVar;
        this.f215768f = bjVar;
        this.f215780x = dtVar;
        this.f215762I = hVar;
        this.f215755B = hVar2;
        this.f215761H = hVar3;
        this.f215763J = gVar2;
        this.f215764K = bVar;
        this.f215770h = gVar3;
        this.f215781y = dVar;
        this.f215782z = fVar;
        this.f215754A = akVar;
        C83358h e = aVar.mo73490e();
        this.f215775m = e;
        this.f215760G = sVar;
        this.f215759F = iVar2;
        C78846b bVar2 = (C78846b) hVar3.mo76657c();
        C83361k kVar5 = new C83361k(bVar2.mo73650d() ? Optional.m71637of(bVar2.mo73642a()) : Optional.empty(), C78263m.class);
        this.f215772j = kVar5;
        this.f215756C = C83349aj.m132653h(kVar5, kVar2, kVar4, kVar3, e, new C78361ak(bcVar));
        this.f215758E = C83349aj.m132658m(kVar2, new C78362al(bcVar));
        this.f215757D = C83349aj.m132658m(kVar2, new C78363am(bcVar));
        this.f215769g = iVar;
        this.f215776n = (Instant) bcVar.mo73321b().orElse(iVar.mo57444a());
    }

    /* renamed from: a */
    public final C83358h mo73322a() {
        return this.f215756C;
    }

    /* renamed from: b */
    public final void mo73323b() {
        this.f215839q.mo76663c(this.f215762I, new C78371au(this));
        this.f215839q.mo76663c(this.f215761H, new C78372av(this));
        this.f215839q.mo76663c(this.f215755B, new C78373aw(this));
        this.f215839q.mo76663c(this.f215764K.mo73111d(), new C78374ax(this));
        this.f215839q.mo76663c(this.f215771i, new C78375ay(this));
        if (!((C78224b) this.f215762I.mo76657c()).mo73148k(C89160q.DEMAND_STATE)) {
            mo73362o("[NGA] ExecutingStage.PLEASE_WAIT", Duration.ofSeconds(2), new C78376az(this));
        }
    }

    /* renamed from: c */
    public final void mo73324c() {
        if (!((Boolean) this.f215777o.orElse(true)).booleanValue()) {
            mo73329h(C89849ae.ESCAPE_HATCH_NOT_DISPLAYED_OTHER);
        }
        this.f215760G.mo73615l(false);
    }

    /* renamed from: d */
    public final C78385bh mo73325d() {
        if (((C78224b) this.f215762I.mo76657c()).mo73148k(C89160q.DEMAND_STATE)) {
            return C78385bh.m125893b((C78540aw) ((C83352b) this.f215756C).mo76654b());
        }
        if (!((C78846b) this.f215761H.mo76657c()).mo73650d()) {
            return C78385bh.m125894c();
        }
        if (!((Boolean) ((C83361k) this.f215774l).f227199b.get()).booleanValue()) {
            return C78385bh.m125894c();
        }
        return C78385bh.m125893b((C78540aw) ((C83352b) this.f215756C).mo76654b());
    }

    /* renamed from: e */
    public final C78391bn mo73326e() {
        return this.f215765c.mo73320a();
    }

    /* renamed from: f */
    public final C83358h mo73327f() {
        return this.f215758E;
    }

    /* renamed from: g */
    public final C83358h mo73328g() {
        return this.f215757D;
    }

    /* renamed from: h */
    public final void mo73329h(C89849ae aeVar) {
        C59582aj ajVar = (C59582aj) C59687cb.f160034bf.createBuilder();
        ajVar.copyOnWrite();
        C59687cb cbVar = (C59687cb) ajVar.instance;
        cbVar.f160115b |= 4194304;
        cbVar.f160059X = true;
        Optional c = ((C78245d) this.f215755B.mo76657c()).mo73179a().mo73170c();
        C79853ak akVar = this.f215754A;
        Objects.requireNonNull(akVar);
        Optional map = c.map(new C78359ai(akVar));
        Objects.requireNonNull(ajVar);
        map.ifPresent(new C78360aj(ajVar));
        C89856f fVar = new C89856f();
        fVar.f246201a = aeVar;
        fVar.f246203c = (C59687cb) ajVar.build();
        C89857g a = fVar.mo83699a();
        ajVar.build();
        this.f215759F.mo74236a(a);
    }

    /* renamed from: i */
    public final void mo73330i() {
        this.f215760G.mo73615l(true);
        C78335x xVar = this.f215778v;
        mo73361n(m125926m(m125927q(xVar.f215662f.mo28204d("[NGA] consumeChipsFromInputPlateController", C78335x.f215658b.toMillis(), new C78324m(xVar)), f215753u, this.f215763J), C78365ao.f215737a, "afterExecutionChips"), "[NGA] getSuggestionChipsForAfterExecution", new C78366ap(this), new C78367aq(this));
    }

    /* renamed from: j */
    public final void mo73331j(C78378ba baVar) {
        boolean k = ((C78224b) this.f215762I.mo76657c()).mo73148k(C89160q.DEMAND_STATE);
        C78484j jVar = (C78484j) baVar;
        if (jVar.f216143a) {
            if (k) {
                mo73363p(this.f215768f.mo73336a(mo73325d()));
            }
            C78451dt dtVar = this.f215780x;
            C78508k kVar = this.f215766d;
            mo73363p(dtVar.mo73379a(new C78482h(new C80678bg(kVar.f216203g.mo75121a((Locale) kVar.f216206j.mo76657c()).getString(R.string.nga_assistlayer_legal_notice, new Object[0])))));
        } else if (jVar.f216144b) {
            if (k) {
                mo73363p(this.f215768f.mo73336a(mo73325d()));
            }
            C78458e eVar = this.f215779w;
            C78547a aVar = (C78547a) eVar.f216025a.mo17428b();
            aVar.getClass();
            C78546a aVar2 = (C78546a) ((C68221g) eVar.f216026b).f184583a;
            aVar2.getClass();
            C78253d dVar = (C78253d) ((C68221g) eVar.f216027c).f184583a;
            dVar.getClass();
            C78387bj a = ((C78388bk) eVar.f216028d).mo17428b();
            C22871g gVar = (C22871g) ((C68221g) eVar.f216029e).f184583a;
            gVar.getClass();
            C78817s sVar = (C78817s) eVar.f216030f.mo17428b();
            sVar.getClass();
            C83358h hVar = (C83358h) eVar.f216031g.mo17428b();
            hVar.getClass();
            mo73363p(new C78431d(aVar, aVar2, dVar, a, gVar, sVar, hVar));
        } else if (jVar.f216145c.mo73275c().isEmpty()) {
            mo73363p(this.f215768f.mo73336a(mo73325d()));
        } else {
            this.f215777o = Optional.m71637of(false);
            if (!k) {
                this.f215777o = Optional.m71637of(true);
                mo73332k(jVar.f216145c);
                return;
            }
            C60870cx q = m125927q(C83349aj.m132646a(this.f215762I, C78357ag.f215729a), this.f215781y.mo73222v(), this.f215763J);
            C83358h hVar2 = this.f215762I;
            Objects.requireNonNull(hVar2);
            mo73361n(m125926m(q, new C78368ar(hVar2), "cardVisibility"), "[NGA] waitForDrlVisibilityChange", new C78369as(this, baVar), new C78370at(this));
        }
    }

    /* renamed from: k */
    public final void mo73332k(C78276a aVar) {
        mo73329h(C89849ae.ESCAPE_HATCH_DISPLAYED);
        C78317f fVar = this.f215782z;
        e eVar = e.K;
        C80780fa e = C80787fh.m128662e();
        e.mo74592c(aVar.mo73274b().f221154b);
        e.mo74591b((C58485gu) Collection.EL.stream(aVar.mo73275c()).map(new C78316e(fVar, eVar)).collect(C58370cn.f155946a));
        String f = this.f215754A.mo74221f();
        if (!f.isEmpty()) {
            ((C80686bo) e).f221532b = f;
        }
        C78451dt dtVar = this.f215780x;
        C80787fh a = e.mo74590a();
        a.getClass();
        mo73363p(dtVar.mo73379a(new C78481g(a)));
    }

    /* renamed from: l */
    public final void mo73333l() {
        if (((Boolean) ((C83361k) this.f215774l).f227199b.get()).booleanValue()) {
            Duration between = Duration.between(this.f215776n, this.f215769g.mo57444a());
            Duration duration = f215752b;
            if (between.compareTo(duration) > 0) {
                this.f215774l.mo76660b(false);
            } else {
                mo73362o("[NGA] ExecutingStage.transcriptionAllowedObservable.TIMEOUT", duration.minus(between), new C78358ah(this));
            }
        }
    }
}
