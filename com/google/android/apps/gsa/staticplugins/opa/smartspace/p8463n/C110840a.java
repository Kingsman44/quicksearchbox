package com.google.android.apps.gsa.staticplugins.opa.smartspace.p8463n;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import com.google.android.apps.gsa.opa.smartspace.C83724a;
import com.google.android.apps.gsa.opa.smartspace.C83740al;
import com.google.android.apps.gsa.opa.smartspace.C83741am;
import com.google.android.apps.gsa.opa.smartspace.C83798n;
import com.google.android.apps.gsa.opa.smartspace.C83800p;
import com.google.android.apps.search.assistant.platform.pcp.p9329f.C123757bx;
import com.google.android.googlequicksearchbox.R;
import com.google.android.libraries.p1730f.C21370a;
import com.google.assistant.p3886c.C50783cg;
import com.google.assistant.p3886c.C50784ch;
import com.google.assistant.p3886c.C50790cn;
import com.google.assistant.p3886c.C50792cp;
import com.google.assistant.p3886c.C50794cr;
import com.google.assistant.p3886c.C50795cs;
import com.google.assistant.p3886c.C50796ct;
import com.google.assistant.p3886c.C50801cy;
import com.google.assistant.p3886c.C50802cz;
import com.google.assistant.p3886c.C50804da;
import com.google.assistant.p3886c.C50806dc;
import com.google.assistant.p3886c.C50808de;
import com.google.assistant.p3886c.C50810dg;
import com.google.assistant.p3886c.C50811dh;
import com.google.assistant.p3886c.C50812di;
import com.google.assistant.p3886c.C50813dj;
import com.google.assistant.p3886c.C50814dk;
import com.google.assistant.p3886c.C50815dl;
import com.google.assistant.p3886c.C50816dm;
import com.google.assistant.p3886c.C50817dn;
import com.google.assistant.p3886c.C50818do;
import com.google.assistant.p3886c.p3888b.C50716a;
import com.google.assistant.p3886c.p3888b.C50722g;
import com.google.assistant.p3886c.p3888b.C50723h;
import com.google.assistant.p3886c.p3888b.C50728m;
import com.google.assistant.p3886c.p3888b.C50729n;
import com.google.assistant.p3886c.p3888b.C50731p;
import com.google.assistant.p3886c.p3888b.C50732q;
import com.google.assistant.p3886c.p3888b.C50733r;
import com.google.common.p4522b.C58485gu;
import com.google.common.p4526f.C59052c;
import com.google.common.p4526f.C59071e;
import com.google.common.p4526f.C59104x;
import com.google.common.p4526f.p4527a.C58975e;
import com.google.p3717aq.p3718a.p3719a.C47877k;
import com.google.protobuf.C62940bt;
import com.google.protobuf.C63087y;
import com.google.protobuf.C63088z;
import java.util.regex.Pattern;

/* renamed from: com.google.android.apps.gsa.staticplugins.opa.smartspace.n.a */
/* compiled from: PG */
public final class C110840a {

    /* renamed from: a */
    public static final C59071e f308808a = C59071e.m91332i("com.google.android.apps.gsa.staticplugins.opa.smartspace.n.a");

    /* renamed from: b */
    private final Context f308809b;

    /* renamed from: c */
    private final C21370a f308810c;

    public C110840a(Context context, C21370a aVar) {
        this.f308809b = context;
        this.f308810c = aVar;
    }

    /* renamed from: a */
    public final C83800p mo98894a(C123757bx bxVar, int i) {
        C83798n k = C83800p.m133473k();
        C50790cn cnVar = (C50790cn) C50818do.f132293H.createBuilder();
        long b = this.f308810c.mo26870b();
        long j = bxVar.f341858c;
        if (j > b) {
            cnVar.copyOnWrite();
            C50818do doVar = (C50818do) cnVar.instance;
            doVar.f132304a |= 16384;
            doVar.f132319p = j - b;
        }
        cnVar.copyOnWrite();
        C50818do doVar2 = (C50818do) cnVar.instance;
        doVar2.f132304a |= 4;
        doVar2.f132307d = i;
        cnVar.copyOnWrite();
        C50818do doVar3 = (C50818do) cnVar.instance;
        doVar3.f132304a |= 1;
        int i2 = 0;
        doVar3.f132305b = false;
        C50792cp cpVar = C50792cp.PRIMARY;
        cnVar.copyOnWrite();
        C50818do doVar4 = (C50818do) cnVar.instance;
        doVar4.f132306c = cpVar.f132174e;
        doVar4.f132304a |= 2;
        C50801cy cyVar = (C50801cy) C50802cz.f132236g.createBuilder();
        C50716a aVar = (C50716a) C50723h.f131999e.createBuilder();
        String str = bxVar.f341859d;
        aVar.copyOnWrite();
        C50723h hVar = (C50723h) aVar.instance;
        str.getClass();
        hVar.f132001a |= 1;
        hVar.f132002b = str;
        C50722g gVar = C50722g.UNSPECIFIED;
        aVar.copyOnWrite();
        C50723h hVar2 = (C50723h) aVar.instance;
        hVar2.f132003c = gVar.f131998e;
        hVar2.f132001a |= 2;
        cyVar.copyOnWrite();
        C50802cz czVar = (C50802cz) cyVar.instance;
        C50723h hVar3 = (C50723h) aVar.build();
        hVar3.getClass();
        czVar.f132239b = hVar3;
        czVar.f132238a |= 1;
        C50716a aVar2 = (C50716a) C50723h.f131999e.createBuilder();
        String str2 = bxVar.f341860e;
        aVar2.copyOnWrite();
        C50723h hVar4 = (C50723h) aVar2.instance;
        str2.getClass();
        hVar4.f132001a |= 1;
        hVar4.f132002b = str2;
        C50722g gVar2 = C50722g.UNSPECIFIED;
        aVar2.copyOnWrite();
        C50723h hVar5 = (C50723h) aVar2.instance;
        hVar5.f132003c = gVar2.f131998e;
        hVar5.f132001a |= 2;
        cyVar.copyOnWrite();
        C50802cz czVar2 = (C50802cz) cyVar.instance;
        C50723h hVar6 = (C50723h) aVar2.build();
        hVar6.getClass();
        czVar2.f132241d = hVar6;
        czVar2.f132238a |= 4;
        cnVar.copyOnWrite();
        C50818do doVar5 = (C50818do) cnVar.instance;
        C50802cz czVar3 = (C50802cz) cyVar.build();
        czVar3.getClass();
        doVar5.f132309f = czVar3;
        doVar5.f132304a |= 16;
        C50794cr crVar = C50794cr.TIME_TO_LEAVE;
        cnVar.copyOnWrite();
        C50818do doVar6 = (C50818do) cnVar.instance;
        doVar6.f132315l = crVar.f132222T;
        doVar6.f132304a |= 1024;
        cnVar.copyOnWrite();
        C50818do doVar7 = (C50818do) cnVar.instance;
        doVar7.f132304a |= 4096;
        doVar7.f132317n = b;
        cnVar.copyOnWrite();
        C50818do doVar8 = (C50818do) cnVar.instance;
        doVar8.f132304a |= 8192;
        doVar8.f132318o = b;
        C50795cs csVar = (C50795cs) C50796ct.f132223c.createBuilder();
        csVar.copyOnWrite();
        C50796ct ctVar = (C50796ct) csVar.instance;
        ctVar.f132225a |= 1;
        ctVar.f132226b = j;
        cnVar.copyOnWrite();
        C50818do doVar9 = (C50818do) cnVar.instance;
        C50796ct ctVar2 = (C50796ct) csVar.build();
        ctVar2.getClass();
        doVar9.f132320q = ctVar2;
        doVar9.f132304a |= 32768;
        C50814dk dkVar = (C50814dk) C50817dn.f132287e.createBuilder();
        C50815dl dlVar = (C50815dl) C50816dm.f132281e.createBuilder();
        dlVar.copyOnWrite();
        C50816dm dmVar = (C50816dm) dlVar.instance;
        dmVar.f132283a |= 1;
        dmVar.f132284b = b;
        dlVar.copyOnWrite();
        C50816dm dmVar2 = (C50816dm) dlVar.instance;
        dmVar2.f132283a |= 2;
        dmVar2.f132285c = j;
        dlVar.mo53468a(b);
        dkVar.copyOnWrite();
        C50817dn dnVar = (C50817dn) dkVar.instance;
        C50816dm dmVar3 = (C50816dm) dlVar.build();
        dmVar3.getClass();
        dnVar.f132292d = dmVar3;
        dnVar.f132289a |= 8;
        cnVar.copyOnWrite();
        C50818do doVar10 = (C50818do) cnVar.instance;
        C50817dn dnVar2 = (C50817dn) dkVar.build();
        dnVar2.getClass();
        doVar10.f132295A = dnVar2;
        doVar10.f132304a |= 67108864;
        cnVar.copyOnWrite();
        C50818do doVar11 = (C50818do) cnVar.instance;
        doVar11.f132304a |= 65536;
        doVar11.f132321r = true;
        cnVar.copyOnWrite();
        C50818do doVar12 = (C50818do) cnVar.instance;
        doVar12.f132304a |= 524288;
        doVar12.f132324u = true;
        if ((bxVar.f341856a & 32) != 0) {
            C59104x b2 = f308808a.mo56224b();
            b2.mo56378ag(C58975e.f156826a, "SSTimeToLeaveIH");
            ((C59052c) ((C59052c) b2).mo56372aa(26810)).mo56386p("#buildSmartspaceCard() TTL icon bitmap");
            int b3 = C47877k.m85094b(bxVar.f341862g);
            if (b3 == 0) {
                b3 = 2;
            }
            int i3 = b3 - 2;
            if (i3 == 17) {
                i2 = R.drawable.quantum_gm_ic_time_to_leave_googblue_24;
            } else if (i3 == 18) {
                i2 = R.drawable.quantum_gm_ic_directions_transit_googblue_24;
            }
            Bitmap decodeResource = i2 != 0 ? BitmapFactory.decodeResource(this.f308809b.getResources(), i2) : null;
            if (decodeResource != null) {
                ((C83724a) k).f228192c = C58485gu.m89842j(C58485gu.m89846n(decodeResource));
                C63087y v = C63088z.m96150v();
                decodeResource.compress(Bitmap.CompressFormat.PNG, 100, v);
                C50728m mVar = (C50728m) C50729n.f132007g.createBuilder();
                mVar.copyOnWrite();
                C50729n nVar = (C50729n) mVar.instance;
                nVar.f132009a |= 1;
                nVar.f132010b = "com.google.android.apps.nexuslauncher.extra.SMARTSPACE_CARD";
                C63088z b4 = v.mo59165b();
                mVar.copyOnWrite();
                C50729n nVar2 = (C50729n) mVar.instance;
                b4.getClass();
                nVar2.f132009a |= 16;
                nVar2.f132013e = b4;
                String str3 = bxVar.f341860e;
                mVar.copyOnWrite();
                C50729n nVar3 = (C50729n) mVar.instance;
                str3.getClass();
                nVar3.f132009a |= 8;
                nVar3.f132012d = str3;
                cnVar.copyOnWrite();
                C50818do doVar13 = (C50818do) cnVar.instance;
                C50729n nVar4 = (C50729n) mVar.build();
                nVar4.getClass();
                doVar13.f132314k = nVar4;
                doVar13.f132304a |= 512;
            }
        } else {
            C59104x b5 = f308808a.mo56224b();
            b5.mo56378ag(C58975e.f156826a, "SSTimeToLeaveIH");
            ((C59052c) ((C59052c) b5).mo56372aa(26808)).mo56386p("#buildSmartspaceCard() TTL icon URL");
            C50728m mVar2 = (C50728m) C50729n.f132007g.createBuilder();
            mVar2.copyOnWrite();
            C50729n nVar5 = (C50729n) mVar2.instance;
            nVar5.f132009a |= 1;
            nVar5.f132010b = "com.google.android.apps.nexuslauncher.extra.SMARTSPACE_CARD";
            String str4 = bxVar.f341857b;
            mVar2.copyOnWrite();
            C50729n nVar6 = (C50729n) mVar2.instance;
            str4.getClass();
            nVar6.f132009a |= 4;
            nVar6.f132011c = str4;
            String str5 = bxVar.f341860e;
            mVar2.copyOnWrite();
            C50729n nVar7 = (C50729n) mVar2.instance;
            str5.getClass();
            nVar7.f132009a |= 8;
            nVar7.f132012d = str5;
            cnVar.copyOnWrite();
            C50818do doVar14 = (C50818do) cnVar.instance;
            C50729n nVar8 = (C50729n) mVar2.build();
            nVar8.getClass();
            doVar14.f132314k = nVar8;
            doVar14.f132304a |= 512;
        }
        if ((bxVar.f341856a & 16) != 0) {
            C59104x b6 = f308808a.mo56224b();
            b6.mo56378ag(C58975e.f156826a, "SSTimeToLeaveIH");
            ((C59052c) ((C59052c) b6).mo56372aa(26809)).mo56389s("Tap Action {%s}.", bxVar.f341861f);
            C50732q qVar = (C50732q) C50733r.f132021d.createBuilder();
            C50731p pVar = C50731p.START_ACTIVITY;
            qVar.copyOnWrite();
            C50733r rVar = (C50733r) qVar.instance;
            rVar.f132024b = pVar.f132020d;
            rVar.f132023a |= 1;
            String str6 = bxVar.f341861f;
            qVar.copyOnWrite();
            C50733r rVar2 = (C50733r) qVar.instance;
            str6.getClass();
            rVar2.f132023a |= 2;
            rVar2.f132025c = str6;
            cnVar.copyOnWrite();
            C50818do doVar15 = (C50818do) cnVar.instance;
            C50733r rVar3 = (C50733r) qVar.build();
            rVar3.getClass();
            doVar15.f132316m = rVar3;
            doVar15.f132304a |= 2048;
        }
        String str7 = bxVar.f341859d;
        if ((bxVar.f341856a & 128) != 0 && !bxVar.f341864i.isEmpty()) {
            str7 = bxVar.f341864i;
        }
        if (!bxVar.f341859d.isEmpty()) {
            C50804da daVar = (C50804da) C50811dh.f132269h.createBuilder();
            daVar.copyOnWrite();
            C50811dh dhVar = (C50811dh) daVar.instance;
            dhVar.f132271a |= 1;
            dhVar.f132272b = "com.google.android.googlequicksearchbox";
            daVar.copyOnWrite();
            C50811dh dhVar2 = (C50811dh) daVar.instance;
            dhVar2.f132271a |= 2;
            dhVar2.f132273c = "OpaChannel_28";
            C50808de deVar = C50808de.NOTIFICATION_TITLE;
            daVar.copyOnWrite();
            C50811dh dhVar3 = (C50811dh) daVar.instance;
            dhVar3.f132274d = deVar.f132262d;
            dhVar3.f132271a |= 4;
            String quote = Pattern.quote(str7);
            daVar.copyOnWrite();
            C50811dh dhVar4 = (C50811dh) daVar.instance;
            quote.getClass();
            dhVar4.f132271a |= 8;
            dhVar4.f132275e = quote;
            C50810dg dgVar = C50810dg.CONTAINS_MATCH;
            daVar.copyOnWrite();
            C50811dh dhVar5 = (C50811dh) daVar.instance;
            dhVar5.f132276f = dgVar.f132268d;
            dhVar5.f132271a |= 16;
            C50806dc dcVar = C50806dc.HIDE;
            daVar.copyOnWrite();
            C50811dh dhVar6 = (C50811dh) daVar.instance;
            dhVar6.f132277g = dcVar.f132256d;
            dhVar6.f132271a |= 32;
            C50811dh dhVar7 = (C50811dh) daVar.build();
            cnVar.copyOnWrite();
            C50818do doVar16 = (C50818do) cnVar.instance;
            dhVar7.getClass();
            doVar16.f132296B = dhVar7;
            doVar16.f132304a |= 134217728;
        }
        C50812di diVar = (C50812di) C50813dj.f132278a.createBuilder();
        C62940bt btVar = C50784ch.f132156d;
        C50783cg cgVar = (C50783cg) C50784ch.f132155c.createBuilder();
        cgVar.copyOnWrite();
        C50784ch chVar = (C50784ch) cgVar.instance;
        bxVar.getClass();
        chVar.f132159b = bxVar;
        chVar.f132158a |= 1;
        diVar.mo58885m(btVar, (C50784ch) cgVar.build());
        C50813dj djVar = (C50813dj) diVar.build();
        cnVar.copyOnWrite();
        C50818do doVar17 = (C50818do) cnVar.instance;
        djVar.getClass();
        doVar17.f132329z = djVar;
        doVar17.f132304a |= 33554432;
        C83740al alVar = (C83740al) C83741am.f228248e.createBuilder();
        alVar.copyOnWrite();
        C83741am amVar = (C83741am) alVar.instance;
        C50818do doVar18 = (C50818do) cnVar.build();
        doVar18.getClass();
        amVar.f228252c = doVar18;
        amVar.f228250a |= 4;
        k.mo77043b((C83741am) alVar.build());
        return k.mo77042a();
    }
}
