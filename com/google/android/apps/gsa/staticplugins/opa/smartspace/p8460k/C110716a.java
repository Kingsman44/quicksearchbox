package com.google.android.apps.gsa.staticplugins.opa.smartspace.p8460k;

import android.content.Context;
import android.content.Intent;
import com.google.android.apps.gsa.opa.p6429a.p6431b.C83564a;
import com.google.android.apps.gsa.opa.smartspace.C83738aj;
import com.google.android.apps.gsa.opa.smartspace.C83739ak;
import com.google.android.apps.gsa.opa.smartspace.C83740al;
import com.google.android.apps.gsa.opa.smartspace.C83741am;
import com.google.android.apps.gsa.opa.smartspace.C83794j;
import com.google.android.apps.gsa.opa.smartspace.C83798n;
import com.google.android.apps.gsa.opa.smartspace.C83800p;
import com.google.android.apps.gsa.search.core.p6805i.C86124t;
import com.google.android.apps.gsa.shared.logger.p7054d.C89885b;
import com.google.android.apps.gsa.shared.p7019bc.C89407a;
import com.google.android.apps.gsa.shared.p7066m.C89985ax;
import com.google.android.apps.gsa.shared.p7066m.C90014bt;
import com.google.android.apps.gsa.shared.p7066m.C90059dk;
import com.google.android.apps.gsa.smartspace.C92122r;
import com.google.android.apps.search.assistant.platform.pcp.p9329f.C123751br;
import com.google.android.apps.search.assistant.verticals.ambient.p9953q.p9954a.C131179d;
import com.google.android.googlequicksearchbox.R;
import com.google.android.libraries.p1730f.C21370a;
import com.google.assistant.p3886c.C50790cn;
import com.google.assistant.p3886c.C50792cp;
import com.google.assistant.p3886c.C50794cr;
import com.google.assistant.p3886c.C50795cs;
import com.google.assistant.p3886c.C50796ct;
import com.google.assistant.p3886c.C50801cy;
import com.google.assistant.p3886c.C50802cz;
import com.google.assistant.p3886c.C50814dk;
import com.google.assistant.p3886c.C50815dl;
import com.google.assistant.p3886c.C50816dm;
import com.google.assistant.p3886c.C50817dn;
import com.google.assistant.p3886c.C50818do;
import com.google.assistant.p3886c.p3888b.C50716a;
import com.google.assistant.p3886c.p3888b.C50717b;
import com.google.assistant.p3886c.p3888b.C50719d;
import com.google.assistant.p3886c.p3888b.C50720e;
import com.google.assistant.p3886c.p3888b.C50722g;
import com.google.assistant.p3886c.p3888b.C50723h;
import com.google.assistant.p3886c.p3888b.C50728m;
import com.google.assistant.p3886c.p3888b.C50729n;
import com.google.assistant.p3886c.p3888b.C50731p;
import com.google.assistant.p3886c.p3888b.C50732q;
import com.google.assistant.p3886c.p3888b.C50733r;
import com.google.common.p4526f.p4527a.C58970a;
import com.google.common.p4526f.p4527a.C58974d;
import com.google.common.util.concurrent.C60856cj;
import com.google.common.util.concurrent.C60870cx;
import java.util.Calendar;
import p3186j$.time.Duration;

/* renamed from: com.google.android.apps.gsa.staticplugins.opa.smartspace.k.a */
/* compiled from: PG */
public final class C110716a {

    /* renamed from: a */
    private final Context f308496a;

    /* renamed from: b */
    private final C21370a f308497b;

    /* renamed from: c */
    private final C58974d f308498c;

    /* renamed from: d */
    private final C86124t f308499d;

    /* renamed from: e */
    private final C83794j f308500e;

    public C110716a(Context context, C21370a aVar, C86124t tVar, C83794j jVar, C83564a aVar2) {
        this.f308496a = context;
        this.f308497b = aVar;
        this.f308499d = tVar;
        this.f308500e = jVar;
        this.f308498c = aVar2.mo76900a("OpaReminderHandler");
    }

    /* renamed from: a */
    public final C50818do mo98859a(C123751br brVar, boolean z, int i) {
        int i2;
        boolean z2;
        C50731p pVar;
        long j;
        C123751br brVar2 = brVar;
        boolean z3 = z;
        long b = this.f308497b.mo26870b();
        long j2 = brVar2.f341829b;
        long millis = Duration.ofMinutes(this.f308499d.mo79743a(C90014bt.f247655lJ)).toMillis() + j2;
        if (!this.f308500e.mo77184w()) {
            i2 = (brVar2.f341831d + brVar2.f341829b).hashCode();
        } else {
            i2 = i;
        }
        ((C58970a) ((C58970a) this.f308498c.mo56224b()).mo56372aa(26726)).mo56360M("Building Smartspace reminder card, id: %s, title: %s, due time: %s, is from work profile? %b", Integer.valueOf(i2), brVar2.f341830c, Long.valueOf(j2), Boolean.valueOf(z));
        C50790cn cnVar = (C50790cn) C50818do.f132293H.createBuilder();
        cnVar.copyOnWrite();
        C50818do doVar = (C50818do) cnVar.instance;
        doVar.f132304a |= 4;
        doVar.f132307d = i2;
        cnVar.copyOnWrite();
        C50818do doVar2 = (C50818do) cnVar.instance;
        doVar2.f132304a |= 1;
        doVar2.f132305b = false;
        C50792cp cpVar = C50792cp.PRIMARY;
        cnVar.copyOnWrite();
        C50818do doVar3 = (C50818do) cnVar.instance;
        doVar3.f132306c = cpVar.f132174e;
        doVar3.f132304a |= 2;
        C50717b bVar = (C50717b) C50720e.f131985f.createBuilder();
        String str = brVar2.f341830c;
        bVar.copyOnWrite();
        C50720e eVar = (C50720e) bVar.instance;
        str.getClass();
        eVar.f131987a |= 1;
        eVar.f131988b = str;
        C50722g gVar = C50722g.END;
        bVar.copyOnWrite();
        C50720e eVar2 = (C50720e) bVar.instance;
        eVar2.f131989c = gVar.f131998e;
        eVar2.f131987a |= 2;
        C50719d dVar = C50719d.FIXED_STRING;
        bVar.copyOnWrite();
        C50720e eVar3 = (C50720e) bVar.instance;
        eVar3.f131990d = dVar.f131984e;
        eVar3.f131987a |= 4;
        C50720e eVar4 = (C50720e) bVar.build();
        C50717b bVar2 = (C50717b) C50720e.f131985f.createBuilder();
        C50722g gVar2 = C50722g.UNSPECIFIED;
        bVar2.copyOnWrite();
        C50720e eVar5 = (C50720e) bVar2.instance;
        eVar5.f131989c = gVar2.f131998e;
        eVar5.f131987a |= 2;
        C50719d dVar2 = C50719d.EVENT_START_TIME;
        bVar2.copyOnWrite();
        C50720e eVar6 = (C50720e) bVar2.instance;
        eVar6.f131990d = dVar2.f131984e;
        eVar6.f131987a |= 4;
        bVar2.copyOnWrite();
        C50720e eVar7 = (C50720e) bVar2.instance;
        eVar7.f131987a |= 8;
        eVar7.f131991e = true;
        C50720e eVar8 = (C50720e) bVar2.build();
        C50717b bVar3 = (C50717b) C50720e.f131985f.createBuilder();
        StringBuilder sb = new StringBuilder();
        long j3 = brVar2.f341829b;
        Calendar instance = Calendar.getInstance();
        instance.setTimeInMillis(j3);
        if (instance.get(13) > 0) {
            instance.add(12, 1);
            z2 = false;
            instance.set(13, 0);
            instance.set(14, 0);
        } else {
            z2 = false;
        }
        C50717b bVar4 = bVar3;
        StringBuilder sb2 = sb;
        sb2.append(C89407a.m145418a(this.f308496a, instance.getTimeInMillis(), z2 ? 1 : 0, z2));
        String sb3 = sb2.toString();
        bVar4.copyOnWrite();
        C50717b bVar5 = bVar4;
        C50720e eVar9 = (C50720e) bVar5.instance;
        eVar9.f131987a |= 1;
        eVar9.f131988b = sb3;
        C50722g gVar3 = C50722g.END;
        bVar5.copyOnWrite();
        C50720e eVar10 = (C50720e) bVar5.instance;
        eVar10.f131989c = gVar3.f131998e;
        eVar10.f131987a |= 2;
        C50719d dVar3 = C50719d.FIXED_STRING;
        bVar5.copyOnWrite();
        C50720e eVar11 = (C50720e) bVar5.instance;
        eVar11.f131990d = dVar3.f131984e;
        eVar11.f131987a |= 4;
        C50720e eVar12 = (C50720e) bVar5.build();
        C50801cy cyVar = (C50801cy) C50802cz.f132236g.createBuilder();
        C50716a aVar = (C50716a) C50723h.f131999e.createBuilder();
        aVar.copyOnWrite();
        C50723h hVar = (C50723h) aVar.instance;
        hVar.f132001a |= 1;
        hVar.f132002b = "%1$s";
        aVar.mo53428a(eVar4);
        C50722g gVar4 = C50722g.UNSPECIFIED;
        aVar.copyOnWrite();
        long j4 = millis;
        C50723h hVar2 = (C50723h) aVar.instance;
        hVar2.f132003c = gVar4.f131998e;
        hVar2.f132001a |= 2;
        cyVar.copyOnWrite();
        C50802cz czVar = (C50802cz) cyVar.instance;
        C50723h hVar3 = (C50723h) aVar.build();
        hVar3.getClass();
        czVar.f132239b = hVar3;
        czVar.f132238a |= 1;
        C50716a aVar2 = (C50716a) C50723h.f131999e.createBuilder();
        String string = this.f308496a.getResources().getString(R.string.reminder_subtitle, new Object[]{"%1$s"});
        aVar2.copyOnWrite();
        C50723h hVar4 = (C50723h) aVar2.instance;
        string.getClass();
        hVar4.f132001a |= 1;
        hVar4.f132002b = string;
        aVar2.mo53428a(eVar12);
        C50722g gVar5 = C50722g.UNSPECIFIED;
        aVar2.copyOnWrite();
        C50723h hVar5 = (C50723h) aVar2.instance;
        hVar5.f132003c = gVar5.f131998e;
        hVar5.f132001a |= 2;
        cyVar.copyOnWrite();
        C50802cz czVar2 = (C50802cz) cyVar.instance;
        C50723h hVar6 = (C50723h) aVar2.build();
        hVar6.getClass();
        czVar2.f132241d = hVar6;
        czVar2.f132238a |= 4;
        cnVar.copyOnWrite();
        C50818do doVar4 = (C50818do) cnVar.instance;
        C50802cz czVar3 = (C50802cz) cyVar.build();
        czVar3.getClass();
        doVar4.f132311h = czVar3;
        doVar4.f132304a |= 64;
        C50801cy cyVar2 = (C50801cy) C50802cz.f132236g.createBuilder();
        C50716a aVar3 = (C50716a) C50723h.f131999e.createBuilder();
        String string2 = this.f308496a.getResources().getString(R.string.reminder_event_pre, new Object[]{"%1$s", "%2$s"});
        aVar3.copyOnWrite();
        C50723h hVar7 = (C50723h) aVar3.instance;
        string2.getClass();
        hVar7.f132001a |= 1;
        hVar7.f132002b = string2;
        aVar3.mo53428a(eVar4);
        aVar3.mo53428a(eVar8);
        C50722g gVar6 = C50722g.UNSPECIFIED;
        aVar3.copyOnWrite();
        C50723h hVar8 = (C50723h) aVar3.instance;
        hVar8.f132003c = gVar6.f131998e;
        hVar8.f132001a |= 2;
        cyVar2.copyOnWrite();
        C50802cz czVar4 = (C50802cz) cyVar2.instance;
        C50723h hVar9 = (C50723h) aVar3.build();
        hVar9.getClass();
        czVar4.f132239b = hVar9;
        czVar4.f132238a |= 1;
        C50716a aVar4 = (C50716a) C50723h.f131999e.createBuilder();
        String string3 = this.f308496a.getResources().getString(R.string.reminder_subtitle, new Object[]{"%1$s"});
        aVar4.copyOnWrite();
        C50723h hVar10 = (C50723h) aVar4.instance;
        string3.getClass();
        hVar10.f132001a |= 1;
        hVar10.f132002b = string3;
        aVar4.mo53428a(eVar12);
        C50722g gVar7 = C50722g.UNSPECIFIED;
        aVar4.copyOnWrite();
        C50723h hVar11 = (C50723h) aVar4.instance;
        hVar11.f132003c = gVar7.f131998e;
        hVar11.f132001a |= 2;
        cyVar2.copyOnWrite();
        C50802cz czVar5 = (C50802cz) cyVar2.instance;
        C50723h hVar12 = (C50723h) aVar4.build();
        hVar12.getClass();
        czVar5.f132241d = hVar12;
        czVar5.f132238a |= 4;
        cnVar.copyOnWrite();
        C50818do doVar5 = (C50818do) cnVar.instance;
        C50802cz czVar6 = (C50802cz) cyVar2.build();
        czVar6.getClass();
        doVar5.f132308e = czVar6;
        doVar5.f132304a |= 8;
        C50801cy cyVar3 = (C50801cy) C50802cz.f132236g.createBuilder();
        C50716a aVar5 = (C50716a) C50723h.f131999e.createBuilder();
        aVar5.copyOnWrite();
        C50723h hVar13 = (C50723h) aVar5.instance;
        hVar13.f132001a |= 1;
        hVar13.f132002b = "%1$s";
        aVar5.mo53428a(eVar4);
        C50722g gVar8 = C50722g.UNSPECIFIED;
        aVar5.copyOnWrite();
        C50723h hVar14 = (C50723h) aVar5.instance;
        hVar14.f132003c = gVar8.f131998e;
        hVar14.f132001a |= 2;
        cyVar3.copyOnWrite();
        C50802cz czVar7 = (C50802cz) cyVar3.instance;
        C50723h hVar15 = (C50723h) aVar5.build();
        hVar15.getClass();
        czVar7.f132239b = hVar15;
        czVar7.f132238a |= 1;
        C50716a aVar6 = (C50716a) C50723h.f131999e.createBuilder();
        String string4 = this.f308496a.getResources().getString(R.string.reminder_subtitle, new Object[]{"%1$s"});
        aVar6.copyOnWrite();
        C50723h hVar16 = (C50723h) aVar6.instance;
        string4.getClass();
        hVar16.f132001a |= 1;
        hVar16.f132002b = string4;
        aVar6.mo53428a(eVar12);
        C50722g gVar9 = C50722g.UNSPECIFIED;
        aVar6.copyOnWrite();
        C50723h hVar17 = (C50723h) aVar6.instance;
        hVar17.f132003c = gVar9.f131998e;
        hVar17.f132001a |= 2;
        cyVar3.copyOnWrite();
        C50802cz czVar8 = (C50802cz) cyVar3.instance;
        C50723h hVar18 = (C50723h) aVar6.build();
        hVar18.getClass();
        czVar8.f132241d = hVar18;
        czVar8.f132238a |= 4;
        cnVar.copyOnWrite();
        C50818do doVar6 = (C50818do) cnVar.instance;
        C50802cz czVar9 = (C50802cz) cyVar3.build();
        czVar9.getClass();
        doVar6.f132312i = czVar9;
        doVar6.f132304a |= 128;
        C50801cy cyVar4 = (C50801cy) C50802cz.f132236g.createBuilder();
        C50716a aVar7 = (C50716a) C50723h.f131999e.createBuilder();
        String string5 = this.f308496a.getResources().getString(R.string.reminder_event_during, new Object[]{"%1$s"});
        aVar7.copyOnWrite();
        C50723h hVar19 = (C50723h) aVar7.instance;
        string5.getClass();
        hVar19.f132001a |= 1;
        hVar19.f132002b = string5;
        aVar7.mo53428a(eVar4);
        C50722g gVar10 = C50722g.UNSPECIFIED;
        aVar7.copyOnWrite();
        C50723h hVar20 = (C50723h) aVar7.instance;
        hVar20.f132003c = gVar10.f131998e;
        hVar20.f132001a |= 2;
        cyVar4.copyOnWrite();
        C50802cz czVar10 = (C50802cz) cyVar4.instance;
        C50723h hVar21 = (C50723h) aVar7.build();
        hVar21.getClass();
        czVar10.f132239b = hVar21;
        czVar10.f132238a |= 1;
        C50716a aVar8 = (C50716a) C50723h.f131999e.createBuilder();
        String string6 = this.f308496a.getResources().getString(R.string.reminder_subtitle, new Object[]{"%1$s"});
        aVar8.copyOnWrite();
        C50723h hVar22 = (C50723h) aVar8.instance;
        string6.getClass();
        hVar22.f132001a |= 1;
        hVar22.f132002b = string6;
        aVar8.mo53428a(eVar12);
        C50722g gVar11 = C50722g.UNSPECIFIED;
        aVar8.copyOnWrite();
        C50723h hVar23 = (C50723h) aVar8.instance;
        hVar23.f132003c = gVar11.f131998e;
        hVar23.f132001a |= 2;
        cyVar4.copyOnWrite();
        C50802cz czVar11 = (C50802cz) cyVar4.instance;
        C50723h hVar24 = (C50723h) aVar8.build();
        hVar24.getClass();
        czVar11.f132241d = hVar24;
        czVar11.f132238a |= 4;
        cnVar.copyOnWrite();
        C50818do doVar7 = (C50818do) cnVar.instance;
        C50802cz czVar12 = (C50802cz) cyVar4.build();
        czVar12.getClass();
        doVar7.f132309f = czVar12;
        doVar7.f132304a |= 16;
        C50728m mVar = (C50728m) C50729n.f132007g.createBuilder();
        mVar.copyOnWrite();
        C50729n nVar = (C50729n) mVar.instance;
        nVar.f132009a |= 1;
        nVar.f132010b = "com.google.android.apps.nexuslauncher.extra.SMARTSPACE_ICON";
        cnVar.copyOnWrite();
        C50818do doVar8 = (C50818do) cnVar.instance;
        C50729n nVar2 = (C50729n) mVar.build();
        nVar2.getClass();
        doVar8.f132314k = nVar2;
        doVar8.f132304a |= 512;
        C50794cr crVar = C50794cr.REMINDER;
        cnVar.copyOnWrite();
        C50818do doVar9 = (C50818do) cnVar.instance;
        doVar9.f132315l = crVar.f132222T;
        doVar9.f132304a |= 1024;
        Intent a = C92122r.m151184a(this.f308499d.mo79758x(C90059dk.f249096bF));
        if (this.f308499d.mo79746e(C89985ax.f246715aw)) {
            pVar = C50731p.START_ACTIVITY;
        } else {
            pVar = C50731p.BROADCAST;
        }
        Intent d = C92122r.m151186d(a, (String) null, (String) null, C50794cr.REMINDER, pVar, false);
        if (z3) {
            d.putExtra("com.google.android.apps.gsa.smartspace.extra.SMARTSPACE_IS_WORK_PROFILE", true);
        }
        C50732q qVar = (C50732q) C50733r.f132021d.createBuilder();
        qVar.copyOnWrite();
        C50733r rVar = (C50733r) qVar.instance;
        rVar.f132024b = pVar.f132020d;
        rVar.f132023a |= 1;
        String uri = d.toUri(1);
        qVar.copyOnWrite();
        C50733r rVar2 = (C50733r) qVar.instance;
        uri.getClass();
        rVar2.f132023a |= 2;
        rVar2.f132025c = uri;
        cnVar.copyOnWrite();
        C50818do doVar10 = (C50818do) cnVar.instance;
        C50733r rVar3 = (C50733r) qVar.build();
        rVar3.getClass();
        doVar10.f132316m = rVar3;
        doVar10.f132304a |= 2048;
        cnVar.copyOnWrite();
        C50818do doVar11 = (C50818do) cnVar.instance;
        doVar11.f132304a |= 4096;
        doVar11.f132317n = b;
        cnVar.copyOnWrite();
        C50818do doVar12 = (C50818do) cnVar.instance;
        doVar12.f132304a |= 8192;
        doVar12.f132318o = j2;
        long millis2 = Duration.ofMinutes(this.f308499d.mo79743a(C90014bt.f247655lJ)).toMillis();
        cnVar.copyOnWrite();
        C50818do doVar13 = (C50818do) cnVar.instance;
        doVar13.f132304a |= 16384;
        doVar13.f132319p = millis2;
        C50795cs csVar = (C50795cs) C50796ct.f132223c.createBuilder();
        csVar.copyOnWrite();
        C50796ct ctVar = (C50796ct) csVar.instance;
        ctVar.f132225a |= 1;
        long j5 = j4;
        ctVar.f132226b = j5;
        cnVar.copyOnWrite();
        C50818do doVar14 = (C50818do) cnVar.instance;
        C50796ct ctVar2 = (C50796ct) csVar.build();
        ctVar2.getClass();
        doVar14.f132320q = ctVar2;
        doVar14.f132304a |= 32768;
        C50814dk dkVar = (C50814dk) C50817dn.f132287e.createBuilder();
        C50815dl dlVar = (C50815dl) C50816dm.f132281e.createBuilder();
        if (this.f308500e.mo77157A()) {
            j = Duration.ofMinutes(this.f308500e.mo77168d()).toMillis();
        } else {
            j = Duration.ofSeconds(C131179d.f358774j).toMillis();
        }
        dlVar.copyOnWrite();
        C50816dm dmVar = (C50816dm) dlVar.instance;
        dmVar.f132283a |= 1;
        dmVar.f132284b = j2 - j;
        dlVar.copyOnWrite();
        C50816dm dmVar2 = (C50816dm) dlVar.instance;
        dmVar2.f132283a |= 2;
        dmVar2.f132285c = j5;
        dlVar.mo53468a(j2);
        C50816dm dmVar3 = (C50816dm) dlVar.build();
        dkVar.copyOnWrite();
        C50817dn dnVar = (C50817dn) dkVar.instance;
        dmVar3.getClass();
        dnVar.f132292d = dmVar3;
        dnVar.f132289a |= 8;
        C50817dn dnVar2 = (C50817dn) dkVar.build();
        cnVar.copyOnWrite();
        C50818do doVar15 = (C50818do) cnVar.instance;
        dnVar2.getClass();
        doVar15.f132295A = dnVar2;
        doVar15.f132304a |= 67108864;
        cnVar.copyOnWrite();
        C50818do doVar16 = (C50818do) cnVar.instance;
        doVar16.f132304a |= 65536;
        doVar16.f132321r = true;
        cnVar.copyOnWrite();
        C50818do doVar17 = (C50818do) cnVar.instance;
        doVar17.f132304a |= 524288;
        doVar17.f132324u = true;
        cnVar.copyOnWrite();
        C50818do doVar18 = (C50818do) cnVar.instance;
        doVar18.f132304a |= C89885b.S3REQUEST_VALUE;
        doVar18.f132322s = z3;
        return (C50818do) cnVar.build();
    }

    /* renamed from: b */
    public final C60870cx mo98860b(C83739ak akVar) {
        C123751br brVar;
        C83738aj ajVar = akVar.f228233b;
        if (ajVar == null) {
            ajVar = C83738aj.f228226c;
        }
        if (ajVar.f228228a == 8) {
            brVar = (C123751br) ajVar.f228229b;
        } else {
            brVar = C123751br.f341826e;
        }
        C50818do a = mo98859a(brVar, akVar.f228244m, akVar.f228237f);
        C83798n k = C83800p.m133473k();
        C83740al alVar = (C83740al) C83741am.f228248e.createBuilder();
        alVar.copyOnWrite();
        C83741am amVar = (C83741am) alVar.instance;
        a.getClass();
        amVar.f228252c = a;
        amVar.f228250a |= 4;
        k.mo77043b((C83741am) alVar.build());
        return C60856cj.m92900i(k.mo77042a());
    }
}
