package com.google.android.apps.gsa.staticplugins.opa.p8174ab.p8175a;

import android.view.LayoutInflater;
import android.view.ViewGroup;
import com.google.android.apps.gsa.opa.p6440e.C83608a;
import com.google.android.apps.gsa.staticplugins.opa.chatui.C108212aj;
import com.google.android.apps.gsa.staticplugins.opa.chatui.C108230ba;
import com.google.android.apps.gsa.staticplugins.opa.p8174ab.p8177c.C105988a;
import com.google.android.apps.gsa.staticplugins.opa.p8174ab.p8178d.C105999a;
import com.google.android.googlequicksearchbox.R;
import com.google.android.libraries.home.coreui.devicetile.C23655aa;
import com.google.android.libraries.home.coreui.devicetile.C23659ae;
import com.google.android.libraries.home.coreui.devicetile.model.C23739n;
import com.google.android.libraries.home.coreui.devicetile.model.C23749x;
import com.google.android.libraries.home.coreui.devicetile.model.Control;
import com.google.android.libraries.home.p1940a.p1941a.C23347d;
import com.google.android.libraries.home.p1940a.p1941a.C23348e;
import com.google.android.libraries.home.p1940a.p1941a.C23349f;
import com.google.android.libraries.home.p1940a.p1943c.C23415ar;
import com.google.android.libraries.home.p1940a.p1943c.C23544dr;
import com.google.android.libraries.home.p1948c.p1949a.C23621c;
import com.google.android.libraries.home.p1948c.p1949a.C23626h;
import com.google.android.libraries.home.p1948c.p1949a.C23627i;
import com.google.assistant.p3897e.p3921j.C51807dw;
import com.google.assistant.p3897e.p3921j.C51809dy;
import com.google.assistant.p3897e.p3921j.C52230ka;
import com.google.assistant.p3897e.p3921j.C52232kc;
import com.google.assistant.p3897e.p3921j.C52429rk;
import com.google.assistant.p3897e.p3921j.C52431rm;
import com.google.assistant.p3897e.p3921j.C52432rn;
import com.google.assistant.p3897e.p3921j.p3926e.C52027hz;
import com.google.common.base.C58833ax;
import com.google.common.p4522b.C58370cn;
import com.google.common.p4522b.C58485gu;
import com.google.common.p4522b.C58759qy;
import com.google.common.p4526f.C59052c;
import com.google.common.p4526f.C59071e;
import com.google.common.p4526f.C59104x;
import com.google.common.p4526f.p4527a.C58975e;
import com.google.protobuf.C62921ba;
import com.google.protobuf.C62942bv;
import com.google.protobuf.C62974ct;
import com.google.protos.p4934ay.p4939d.p4940a.p4941a.p4942a.p4943a.C64279a;
import com.google.protos.p4934ay.p4939d.p4940a.p4941a.p4942a.p4943a.C64301at;
import com.google.protos.p4934ay.p4939d.p4940a.p4941a.p4942a.p4943a.C64302au;
import com.google.protos.p4934ay.p4939d.p4940a.p4941a.p4942a.p4943a.C64304aw;
import com.google.protos.p4934ay.p4939d.p4940a.p4941a.p4942a.p4943a.C64308b;
import com.google.protos.p4934ay.p4939d.p4940a.p4941a.p4942a.p4943a.C64328d;
import com.google.protos.p4985f.p5048z.p5053c.p5055b.p5058b.C65425a;
import com.google.protos.p4985f.p5048z.p5053c.p5055b.p5058b.C65426b;
import dagger.C68214a;
import p3186j$.util.Collection;
import p3186j$.util.Objects;

/* renamed from: com.google.android.apps.gsa.staticplugins.opa.ab.a.f */
/* compiled from: PG */
public final class C105983f implements C105999a, C23655aa {

    /* renamed from: b */
    public static final /* synthetic */ int f295889b = 0;

    /* renamed from: c */
    private static final C64302au f295890c;

    /* renamed from: d */
    private static final C59071e f295891d = C59071e.m91332i("com.google.android.apps.gsa.staticplugins.opa.ab.a.f");

    /* renamed from: a */
    C23626h f295892a;

    /* renamed from: e */
    private final C23627i f295893e;

    /* renamed from: f */
    private final C58833ax f295894f;

    /* renamed from: g */
    private final C23347d f295895g;

    static {
        C64301at atVar = (C64301at) C64302au.f173853h.createBuilder();
        C65425a aVar = (C65425a) C65426b.f177860c.createBuilder();
        C52429rk rkVar = (C52429rk) C52432rn.f137634c.createBuilder();
        C52431rm rmVar = C52431rm.OPA_AGSA;
        rkVar.copyOnWrite();
        C52432rn rnVar = (C52432rn) rkVar.instance;
        rnVar.f137637b = rmVar.f137633ah;
        rnVar.f137636a |= 1;
        aVar.copyOnWrite();
        C65426b bVar = (C65426b) aVar.instance;
        C52432rn rnVar2 = (C52432rn) rkVar.build();
        rnVar2.getClass();
        bVar.f177863b = rnVar2;
        bVar.f177862a |= 1;
        atVar.copyOnWrite();
        C64302au auVar = (C64302au) atVar.instance;
        C65426b bVar2 = (C65426b) aVar.build();
        bVar2.getClass();
        auVar.f173859e = bVar2;
        auVar.f173855a |= 64;
        f295890c = (C64302au) atVar.build();
    }

    public C105983f(C23627i iVar, C58833ax axVar, C23347d dVar) {
        this.f295893e = iVar;
        this.f295894f = axVar;
        this.f295895g = dVar;
    }

    /* renamed from: e */
    private final void m176535e(C64308b bVar, C83608a aVar) {
        C64279a aVar2 = (C64279a) bVar.toBuilder();
        C64302au auVar = f295890c;
        aVar2.copyOnWrite();
        C64308b bVar2 = (C64308b) aVar2.instance;
        auVar.getClass();
        if (bVar2.f173876a != 2 || bVar2.f173877b == C64302au.f173853h) {
            bVar2.f173877b = auVar;
        } else {
            C64301at atVar = (C64301at) C64302au.f173853h.createBuilder((C64302au) bVar2.f173877b);
            atVar.mergeFrom(auVar);
            bVar2.f173877b = atVar.buildPartial();
        }
        bVar2.f173876a = 2;
        ((C105988a) ((C68214a) this.f295894f.mo56107c()).mo27525b()).mo95204a((C64308b) aVar2.build(), aVar).mo95206a();
    }

    /* renamed from: a */
    public final void mo95201a(C64328d dVar) {
        C64304aw awVar;
        C23626h hVar = (C23626h) Objects.requireNonNull(this.f295892a);
        C23347d dVar2 = this.f295895g;
        if (dVar.f173912a == 2) {
            awVar = (C64304aw) dVar.f173913b;
        } else {
            awVar = C64304aw.f173865b;
        }
        hVar.mo28943b(dVar2.mo28842a(awVar.f173867a, this.f295892a.mo28942a()));
    }

    /* renamed from: b */
    public final /* synthetic */ boolean mo28999b() {
        return true;
    }

    /* renamed from: c */
    public final boolean mo95202c(C51809dy dyVar, C108230ba baVar) {
        C51807dw dwVar = dyVar.f135938d;
        if (dwVar == null) {
            dwVar = C51807dw.f135930b;
        }
        C52232kc kcVar = (C52232kc) Collection.EL.stream(dwVar.f135932a).filter(C105978a.f295883a).findFirst().orElse(null);
        if (kcVar != null) {
            try {
                C52230ka kaVar = kcVar.f137066c;
                if (kaVar == null) {
                    kaVar = C52230ka.f137057d;
                }
                C52027hz hzVar = (C52027hz) C62942bv.parseFrom((C62942bv) C52027hz.f136550c, kaVar.f137061c, C62921ba.m95368a());
                if (hzVar.f136552a.isEmpty()) {
                    C59104x d = f295891d.mo56226d();
                    d.mo56378ag(C58975e.f156826a, "UsoniaHAExecCtlr");
                    ((C59052c) ((C59052c) d).mo56372aa(24586)).mo56386p("No affected devices in ShowSmartDeviceControlArgs");
                    return false;
                }
                ViewGroup viewGroup = (ViewGroup) LayoutInflater.from(baVar.mo95419h().getContext()).inflate(R.layout.usonia_home_automation_card, baVar.mo95418g(), false);
                this.f295892a = this.f295893e.mo28944a(this, viewGroup, (java.util.Collection) Collection.EL.stream(hzVar.f136552a).map(C105979b.f295884a).collect(C58370cn.f155946a));
                baVar.mo95430s(new C108212aj(viewGroup, 6));
                m176535e(C23348e.m43784a((java.util.Collection) Collection.EL.stream(hzVar.f136552a).map(C105980c.f295885a).collect(C58370cn.f155946a)), new C105981d(this));
                return true;
            } catch (C62974ct unused) {
                C59104x c = f295891d.mo56225c();
                c.mo56378ag(C58975e.f156826a, "UsoniaHAExecCtlr");
                C59052c cVar = (C59052c) ((C59052c) c).mo56372aa(24587);
                C52230ka kaVar2 = kcVar.f137066c;
                if (kaVar2 == null) {
                    kaVar2 = C52230ka.f137057d;
                }
                cVar.mo56389s("Could not parse ShowSmartDeviceControlArgs: %s", kaVar2.f137061c);
                return false;
            }
        } else {
            C59104x c2 = f295891d.mo56225c();
            c2.mo56378ag(C58975e.f156826a, "UsoniaHAExecCtlr");
            ((C59052c) ((C59052c) c2).mo56372aa(24588)).mo56386p("Missing ShowSmartDeviceControlArgs");
            return false;
        }
    }

    /* renamed from: d */
    public final void mo29000d(Control control, C23739n nVar, C23659ae aeVar) {
        if (!(nVar instanceof C23749x)) {
            C23544dr a = C23621c.m44098a(nVar);
            if (a == null) {
                C59104x c = f295891d.mo56225c();
                c.mo56378ag(C58975e.f156826a, "UsoniaHAExecCtlr");
                ((C59052c) ((C59052c) c).mo56372aa(24585)).mo56354G("Unsupported combination of action %s and trait %s", nVar.getClass().getSimpleName(), nVar.mo29075a());
                return;
            }
            m176535e(C23349f.m43785a(C58485gu.m89846n(new C23415ar(control.f64883a, new C58759qy(a)))), new C105982e(this, aeVar));
        }
    }
}
