package com.google.android.apps.gsa.staticplugins.opa.samson.p8442n;

import android.accounts.Account;
import android.app.Activity;
import android.app.PendingIntent;
import android.content.IntentFilter;
import android.media.session.MediaController;
import android.os.Handler;
import android.widget.FrameLayout;
import androidx.lifecycle.C2391v;
import com.google.android.apps.gsa.opa.smartspace.C83793i;
import com.google.android.apps.gsa.search.core.google.gaia.C86054o;
import com.google.android.apps.gsa.search.core.p6805i.C86124t;
import com.google.android.apps.gsa.search.shared.media.C87594r;
import com.google.android.apps.gsa.search.shared.service.C87673aa;
import com.google.android.apps.gsa.search.shared.service.C88489j;
import com.google.android.apps.gsa.search.shared.service.p6935b.C87739bu;
import com.google.android.apps.gsa.shared.logger.C89943l;
import com.google.android.apps.gsa.shared.p6968aa.C89037bh;
import com.google.android.apps.gsa.shared.p7066m.C90014bt;
import com.google.android.apps.gsa.smartspace.C92122r;
import com.google.android.apps.gsa.staticplugins.opa.ambient.p8264h.p8273g.C107071k;
import com.google.android.apps.gsa.staticplugins.opa.samson.p8438l.p8440b.C110240a;
import com.google.android.apps.gsa.staticplugins.opa.samson.p8438l.p8440b.C110243d;
import com.google.android.apps.gsa.staticplugins.opa.samson.p8438l.p8440b.C110244e;
import com.google.android.apps.gsa.staticplugins.opa.samson.shared.C110421h;
import com.google.android.apps.gsa.staticplugins.opa.samson.shared.C110425l;
import com.google.android.apps.gsa.staticplugins.opa.util.C113867cv;
import com.google.android.libraries.gsa.p1876k.C22871g;
import com.google.common.p4526f.C58976aa;
import com.google.common.p4526f.C59052c;
import com.google.common.p4526f.C59071e;
import com.google.common.p4526f.C59104x;
import com.google.common.p4526f.p4527a.C58975e;
import com.google.common.p4552o.akp;
import dagger.C68214a;
import dagger.p5294a.C68221g;
import java.util.Map;

/* renamed from: com.google.android.apps.gsa.staticplugins.opa.samson.n.t */
/* compiled from: PG */
public final class C110283t {

    /* renamed from: a */
    public static final C59071e f307313a = C59071e.m91332i("com.google.android.apps.gsa.staticplugins.opa.samson.n.t");

    /* renamed from: b */
    public final C110281r f307314b;

    /* renamed from: c */
    public final C113867cv f307315c;

    /* renamed from: d */
    public final Activity f307316d;

    /* renamed from: e */
    public final C110265b f307317e;

    /* renamed from: f */
    public final C110287x f307318f;

    /* renamed from: g */
    public final C110269f f307319g;

    /* renamed from: h */
    public final C110289z f307320h;

    /* renamed from: i */
    MediaController f307321i;

    /* renamed from: j */
    public boolean f307322j = true;

    /* renamed from: k */
    private final C89037bh f307323k;

    /* renamed from: l */
    private final C110279p f307324l = new C110279p(this);

    /* renamed from: m */
    private final C68214a f307325m;

    /* renamed from: n */
    private final C68214a f307326n;

    /* renamed from: o */
    private final C86124t f307327o;

    /* renamed from: p */
    private final C22871g f307328p;

    /* renamed from: q */
    private final C22871g f307329q;

    /* renamed from: r */
    private final C87673aa f307330r;

    /* renamed from: s */
    private final C110421h f307331s;

    /* renamed from: t */
    private Account f307332t;

    /* renamed from: u */
    private final C110282s f307333u = new C110282s(this);

    /* renamed from: v */
    private final C110280q f307334v = new C110280q(this);

    /* renamed from: w */
    private final C110425l f307335w;

    public C110283t(int i, Activity activity, C86124t tVar, C110425l lVar, C110261aa aaVar, C68214a aVar, C68214a aVar2, C113867cv cvVar, C22871g gVar, C22871g gVar2, C110288y yVar, C110270g gVar3, C87673aa aaVar2, C110265b bVar, C110421h hVar, C89037bh bhVar) {
        C110288y yVar2 = yVar;
        C110270g gVar4 = gVar3;
        this.f307316d = activity;
        this.f307327o = tVar;
        this.f307335w = lVar;
        Activity activity2 = (Activity) ((C68221g) aaVar.f307281a).f184583a;
        activity2.getClass();
        int i2 = i;
        C110289z zVar = new C110289z(i, activity2);
        this.f307320h = zVar;
        this.f307325m = aVar;
        this.f307326n = aVar2;
        this.f307315c = cvVar;
        this.f307328p = gVar;
        this.f307329q = gVar2;
        this.f307314b = new C110281r(this);
        Activity activity3 = (Activity) ((C68221g) yVar2.f307376a).f184583a;
        activity3.getClass();
        C107071k kVar = (C107071k) yVar2.f307377b.mo17428b();
        kVar.getClass();
        C110263ac acVar = (C110263ac) yVar2.f307378c.mo17428b();
        acVar.getClass();
        C83793i iVar = (C83793i) yVar2.f307379d.mo17428b();
        iVar.getClass();
        C92122r rVar = (C92122r) yVar2.f307380e.mo17428b();
        rVar.getClass();
        akp akp = (akp) ((C68221g) yVar2.f307381f).f184583a;
        akp.getClass();
        this.f307318f = new C110287x(zVar, activity3, kVar, acVar, iVar, rVar, akp);
        Activity activity4 = (Activity) ((C68221g) gVar4.f307300a).f184583a;
        activity4.getClass();
        Map map = (Map) gVar4.f307301b.mo17428b();
        map.getClass();
        this.f307319g = new C110269f(zVar, activity4, map);
        this.f307330r = aaVar2;
        this.f307317e = bVar;
        this.f307331s = hVar;
        this.f307323k = bhVar;
    }

    /* renamed from: e */
    private final void m183624e(int i) {
        C110243d dVar = (C110243d) C110244e.f307207c.createBuilder();
        dVar.copyOnWrite();
        C110244e eVar = (C110244e) dVar.instance;
        eVar.f307210b = i - 1;
        eVar.f307209a |= 1;
        C88489j jVar = new C88489j(C87739bu.OPA_AMBIENT_SESSION_CLIENT_EVENT);
        jVar.mo82014b(C110240a.f307205a, (C110244e) dVar.build());
        this.f307330r.mo81937i(jVar.mo82013a());
    }

    /* renamed from: a */
    public final void mo98530a(FrameLayout frameLayout) {
        if (frameLayout.getChildCount() == 0) {
            frameLayout.addView(this.f307320h.f307383a);
        }
        C110289z zVar = this.f307320h;
        zVar.f307385c.setOnClickListener(new C89943l(new C110276m(this)));
        C110289z zVar2 = this.f307320h;
        zVar2.f307388f.setOnClickListener(new C89943l(new C110277n(this)));
    }

    /* renamed from: b */
    public final void mo98531b(C2391v vVar) {
        if (this.f307327o.mo79746e(C90014bt.f247842r) && this.f307335w.mo98664b()) {
            m183624e(2);
            this.f307316d.registerReceiver(this.f307334v, new IntentFilter("com.google.android.apps.nexuslauncher.UPDATE_SMARTSPACE"), "android.permission.CAPTURE_AUDIO_HOTWORD", (Handler) null);
            this.f307316d.registerReceiver(this.f307333u, new IntentFilter("com.google.android.apps.gsa.ambient.UPDATE_GENERIC_CARD_INTERNAL"));
            this.f307317e.mo5704e(vVar, new C110273j(this));
            MediaController a = new C87594r(this.f307316d.getApplicationContext(), this.f307328p, this.f307329q).mo81722a((String) null, false, true);
            this.f307321i = a;
            if (a != null) {
                a.registerCallback(this.f307314b);
            }
            this.f307332t = ((C86054o) this.f307326n.mo27525b()).mo79668a();
            if (this.f307327o.mo79746e(C90014bt.f247844t)) {
                this.f307323k.mo27382h(this.f307324l);
            }
        }
    }

    /* renamed from: c */
    public final void mo98532c() {
        C58976aa aaVar = C58975e.f156826a;
        MediaController mediaController = this.f307321i;
        if (mediaController != null) {
            mediaController.unregisterCallback(this.f307314b);
            this.f307321i = null;
        }
        C110287x xVar = this.f307318f;
        PendingIntent pendingIntent = xVar.f307372l;
        if (pendingIntent != null) {
            xVar.f307364d.cancel(pendingIntent);
        }
        try {
            this.f307316d.unregisterReceiver(this.f307334v);
            this.f307316d.unregisterReceiver(this.f307333u);
            if (this.f307327o.mo79746e(C90014bt.f247844t)) {
                this.f307323k.mo27383i();
            }
        } catch (Exception e) {
            C59104x c = f307313a.mo56225c();
            c.mo56378ag(C58975e.f156826a, "SmartSpaceCtrl");
            ((C59052c) ((C59052c) ((C59052c) c).mo56382g(e)).mo56372aa(25948)).mo56386p("failed to unregister");
        }
        m183624e(3);
    }

    /* JADX WARNING: Removed duplicated region for block: B:54:0x0193  */
    /* JADX WARNING: Removed duplicated region for block: B:56:0x01a5  */
    /* renamed from: d */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public final void mo98533d() {
        /*
            r11 = this;
            boolean r0 = r11.f307322j
            r1 = 0
            if (r0 != 0) goto L_0x001f
            com.google.android.apps.gsa.search.core.i.t r0 = r11.f307327o
            com.google.android.apps.gsa.shared.m.d r2 = com.google.android.apps.gsa.shared.p7066m.C90014bt.f247844t
            boolean r0 = r0.mo79746e(r2)
            if (r0 != 0) goto L_0x0010
            goto L_0x001f
        L_0x0010:
            com.google.android.apps.gsa.staticplugins.opa.samson.n.z r0 = r11.f307320h
            com.google.common.f.aa r2 = com.google.common.p4526f.p4527a.C58975e.f156826a
            android.widget.FrameLayout r2 = r0.f307383a
            r2.setVisibility(r1)
            android.view.View r1 = r0.f307388f
            r0.mo98539b(r1)
            return
        L_0x001f:
            com.google.android.apps.gsa.staticplugins.opa.samson.shared.h r0 = r11.f307331s
            boolean r0 = r0.mo98658d()
            if (r0 == 0) goto L_0x0036
            com.google.android.apps.gsa.staticplugins.opa.samson.n.z r0 = r11.f307320h
            com.google.common.f.aa r2 = com.google.common.p4526f.p4527a.C58975e.f156826a
            android.widget.FrameLayout r2 = r0.f307383a
            r2.setVisibility(r1)
            android.view.View r1 = r0.f307385c
            r0.mo98539b(r1)
            return
        L_0x0036:
            com.google.android.apps.gsa.search.core.i.t r0 = r11.f307327o
            com.google.android.apps.gsa.shared.m.d r2 = com.google.android.apps.gsa.shared.p7066m.C90014bt.f247486i
            boolean r0 = r0.mo79746e(r2)
            r2 = 3
            if (r0 == 0) goto L_0x00a5
            android.accounts.Account r0 = r11.f307332t
            if (r0 == 0) goto L_0x00a5
            dagger.a r3 = r11.f307325m
            java.lang.Object r3 = r3.mo27525b()
            com.google.android.apps.gsa.staticplugins.opa.samson.photos.bt r3 = (com.google.android.apps.gsa.staticplugins.opa.samson.photos.C110361bt) r3
            java.lang.String r4 = r0.name
            int r4 = r3.mo98588a(r4)
            if (r4 < r2) goto L_0x0056
            goto L_0x00a5
        L_0x0056:
            java.lang.String r4 = r0.name
            java.lang.String r5 = "ch_amb_mode"
            boolean r4 = r3.mo98592i(r4, r5)
            if (r4 != 0) goto L_0x00a5
            java.lang.String r0 = r0.name
            boolean r0 = r3.mo98594k(r0, r5)
            if (r0 != 0) goto L_0x00a5
            android.accounts.Account r0 = r11.f307332t
            java.lang.String r0 = r0.name
            dagger.a r1 = r11.f307325m
            java.lang.Object r1 = r1.mo27525b()
            com.google.android.apps.gsa.staticplugins.opa.samson.photos.bt r1 = (com.google.android.apps.gsa.staticplugins.opa.samson.photos.C110361bt) r1
            dagger.a r2 = r1.f307591a
            java.lang.Object r2 = r2.mo27525b()
            android.content.SharedPreferences r2 = (android.content.SharedPreferences) r2
            android.content.SharedPreferences$Editor r2 = r2.edit()
            java.lang.String r3 = com.google.android.apps.gsa.staticplugins.opa.samson.photos.C110361bt.m183755b(r0)
            int r0 = r1.mo98588a(r0)
            int r0 = r0 + 1
            android.content.SharedPreferences$Editor r0 = r2.putInt(r3, r0)
            r0.apply()
            com.google.android.apps.gsa.staticplugins.opa.samson.n.z r0 = r11.f307320h
            com.google.android.apps.gsa.staticplugins.opa.samson.n.l r1 = new com.google.android.apps.gsa.staticplugins.opa.samson.n.l
            r1.<init>(r11)
            com.google.android.apps.gsa.shared.logger.l r2 = new com.google.android.apps.gsa.shared.logger.l
            r2.<init>(r1)
            android.view.View r0 = r0.f307384b
            r0.setOnClickListener(r2)
            com.google.common.f.aa r0 = com.google.common.p4526f.p4527a.C58975e.f156826a
            return
        L_0x00a5:
            com.google.android.apps.gsa.staticplugins.opa.samson.n.b r0 = r11.f307317e
            java.lang.Object r0 = r0.mo3842a()
            com.google.android.apps.gsa.staticplugins.opa.samson.n.ab r0 = (com.google.android.apps.gsa.staticplugins.opa.samson.p8442n.C110262ab) r0
            r3 = 0
            if (r0 == 0) goto L_0x00b3
            com.google.android.apps.gsa.staticplugins.opa.samson.n.a r0 = r0.f307282a
            goto L_0x00b4
        L_0x00b3:
            r0 = r3
        L_0x00b4:
            r4 = 8
            if (r0 == 0) goto L_0x0167
            com.google.android.apps.gsa.staticplugins.opa.samson.n.z r5 = r11.f307320h
            com.google.common.f.aa r6 = com.google.common.p4526f.p4527a.C58975e.f156826a
            android.widget.FrameLayout r6 = r5.f307383a
            r6.setVisibility(r1)
            android.view.View r6 = r5.f307387e
            r5.mo98539b(r6)
            com.google.android.apps.gsa.staticplugins.opa.samson.n.x r5 = r11.f307318f
            com.google.android.apps.gsa.staticplugins.opa.samson.n.c r0 = (com.google.android.apps.gsa.staticplugins.opa.samson.p8442n.C110266c) r0
            com.google.assistant.c.do r6 = r0.f307287a
            android.graphics.Bitmap r0 = r0.f307288b
            r5.f307370j = r6
            org.c.a.d r7 = new org.c.a.d
            long r8 = r6.f132318o
            r7.<init>((long) r8)
            r5.f307371k = r7
            org.c.a.d r7 = r5.f307371k
            long r8 = r6.f132319p
            int r6 = (int) r8
            if (r6 == 0) goto L_0x00ef
            org.c.a.a r8 = r7.f191963b
            org.c.a.o r8 = r8.mo63331I()
            long r9 = r7.f191962a
            long r8 = r8.mo63474b(r9, r6)
            r7.mo63546d(r8)
        L_0x00ef:
            if (r0 == 0) goto L_0x00fc
            android.widget.ImageView r4 = r5.f307363c
            r4.setVisibility(r1)
            android.widget.ImageView r1 = r5.f307363c
            r1.setImageBitmap(r0)
            goto L_0x0101
        L_0x00fc:
            android.widget.ImageView r0 = r5.f307363c
            r0.setVisibility(r4)
        L_0x0101:
            com.google.assistant.c.do r0 = r5.f307370j
            if (r0 != 0) goto L_0x0106
            goto L_0x0163
        L_0x0106:
            com.google.android.apps.gsa.staticplugins.opa.samson.n.ac r1 = r5.f307365e
            android.content.Intent r0 = r1.mo98507a(r0)
            if (r0 != 0) goto L_0x0114
            android.view.View r0 = r5.f307362b
            r0.setOnClickListener(r3)
            goto L_0x0163
        L_0x0114:
            com.google.assistant.c.do r1 = r5.f307370j
            int r1 = r1.f132315l
            com.google.assistant.c.cr r1 = com.google.assistant.p3886c.C50794cr.m85938a(r1)
            if (r1 != 0) goto L_0x0120
            com.google.assistant.c.cr r1 = com.google.assistant.p3886c.C50794cr.UNDEFINED
        L_0x0120:
            com.google.common.o.aky r3 = com.google.common.p4552o.aky.f158997e
            com.google.protobuf.bn r3 = r3.createBuilder()
            com.google.common.o.akq r3 = (com.google.common.p4552o.akq) r3
            com.google.common.o.akv r4 = com.google.common.p4552o.akv.AMBIENT
            r3.copyOnWrite()
            com.google.protobuf.bv r6 = r3.instance
            com.google.common.o.aky r6 = (com.google.common.p4552o.aky) r6
            int r4 = r4.f158995g
            r6.f159002d = r4
            int r4 = r6.f158999a
            r4 = r4 | 1
            r6.f158999a = r4
            com.google.common.o.akp r4 = r5.f307367g
            r3.copyOnWrite()
            com.google.protobuf.bv r6 = r3.instance
            com.google.common.o.aky r6 = (com.google.common.p4552o.aky) r6
            int r4 = r4.f158982d
            java.lang.Integer r4 = java.lang.Integer.valueOf(r4)
            r6.f159001c = r4
            r6.f159000b = r2
            com.google.protobuf.bv r2 = r3.build()
            com.google.common.o.aky r2 = (com.google.common.p4552o.aky) r2
            android.view.View r3 = r5.f307362b
            com.google.android.apps.gsa.staticplugins.opa.samson.n.v r4 = new com.google.android.apps.gsa.staticplugins.opa.samson.n.v
            r4.<init>(r5, r0, r2, r1)
            com.google.android.apps.gsa.shared.logger.l r0 = new com.google.android.apps.gsa.shared.logger.l
            r0.<init>(r4)
            r3.setOnClickListener(r0)
        L_0x0163:
            r5.mo98537a()
            return
        L_0x0167:
            com.google.common.f.aa r0 = com.google.common.p4526f.p4527a.C58975e.f156826a
            android.media.session.MediaController r0 = r11.f307321i
            if (r0 != 0) goto L_0x016f
        L_0x016d:
            r0 = r3
            goto L_0x0191
        L_0x016f:
            android.media.session.PlaybackState r0 = r0.getPlaybackState()
            if (r0 == 0) goto L_0x016d
            android.media.session.MediaController r0 = r11.f307321i
            r0.getClass()
            android.media.session.PlaybackState r0 = r0.getPlaybackState()
            r0.getClass()
            int r0 = r0.getState()
            if (r0 == r2) goto L_0x0188
            goto L_0x016d
        L_0x0188:
            android.media.session.MediaController r0 = r11.f307321i
            r0.getClass()
            android.media.MediaMetadata r0 = r0.getMetadata()
        L_0x0191:
            if (r0 == 0) goto L_0x01a5
            com.google.android.apps.gsa.staticplugins.opa.samson.n.z r2 = r11.f307320h
            android.widget.FrameLayout r3 = r2.f307383a
            r3.setVisibility(r1)
            android.view.View r1 = r2.f307386d
            r2.mo98539b(r1)
            com.google.android.apps.gsa.staticplugins.opa.samson.n.f r1 = r11.f307319g
            r1.mo98518b(r0)
            return
        L_0x01a5:
            com.google.android.apps.gsa.staticplugins.opa.samson.n.z r0 = r11.f307320h
            android.widget.FrameLayout r1 = r0.f307383a
            r1.setVisibility(r4)
            r0.mo98539b(r3)
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.google.android.apps.gsa.staticplugins.opa.samson.p8442n.C110283t.mo98533d():void");
    }
}
