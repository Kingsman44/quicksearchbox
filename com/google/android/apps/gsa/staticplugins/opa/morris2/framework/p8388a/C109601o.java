package com.google.android.apps.gsa.staticplugins.opa.morris2.framework.p8388a;

import com.google.android.apps.gsa.search.shared.actions.util.TtsRequest;
import com.google.android.apps.gsa.search.shared.service.C88489j;
import com.google.android.apps.gsa.search.shared.service.ClientEventData;
import com.google.android.apps.gsa.search.shared.service.p6935b.C87739bu;
import com.google.android.apps.gsa.search.shared.service.p6935b.C88092ow;
import com.google.android.apps.gsa.search.shared.service.p6935b.C88093ox;
import com.google.android.apps.gsa.search.shared.service.p6935b.C88094oy;
import com.google.android.apps.gsa.search.shared.service.p6935b.C88244um;
import com.google.android.apps.gsa.shared.p7066m.C90051dc;
import com.google.android.apps.gsa.shared.search.Query;
import com.google.android.apps.gsa.shared.search.QueryTriggerType;
import com.google.android.libraries.assistant.auto.tng.morris.framework.p1082c.p1083a.C14731a;
import com.google.android.libraries.assistant.auto.tng.morris.p1071e.C14219bc;
import com.google.android.libraries.assistant.auto.tng.morris.p1071e.C14324f;
import com.google.android.libraries.assistant.auto.tng.morris.p1071e.C14350fz;
import com.google.android.libraries.assistant.auto.tng.morris.p1071e.C14499lm;
import com.google.android.libraries.assistant.auto.tng.morris.p1071e.C14533mt;
import com.google.android.libraries.assistant.auto.tng.morris.p1071e.C14536mw;
import com.google.android.libraries.gsa.p1876k.C22869e;
import com.google.android.libraries.search.p2871b.p2872a.p2876d.C37182a;
import com.google.android.libraries.search.p2871b.p2895i.C37252a;
import com.google.assistant.p3897e.p3917i.p3918a.C51474ja;
import com.google.assistant.p3897e.p3921j.C51805du;
import com.google.common.base.C58832aw;
import com.google.common.p4526f.C58976aa;
import com.google.common.p4526f.C59052c;
import com.google.common.p4526f.C59104x;
import com.google.common.p4526f.p4527a.C58975e;
import com.google.common.p4552o.C59710cy;
import com.google.common.p4552o.C59711cz;
import com.google.common.p4552o.C59734ds;
import com.google.common.p4552o.C59735dt;
import com.google.common.p4552o.p4566l.C60214n;
import com.google.protobuf.C63088z;
import p001a.p007b.p011b.p012a.C0027c;
import p3186j$.time.Duration;
import p3186j$.util.Optional;
import p3186j$.util.OptionalInt;
import p3186j$.util.function.Supplier;

/* renamed from: com.google.android.apps.gsa.staticplugins.opa.morris2.framework.a.o */
/* compiled from: PG */
public final /* synthetic */ class C109601o implements C22869e {

    /* renamed from: a */
    public final /* synthetic */ C109578ae f305228a;

    /* renamed from: b */
    public final /* synthetic */ C14219bc f305229b;

    /* renamed from: c */
    public final /* synthetic */ C14324f f305230c;

    /* renamed from: d */
    public final /* synthetic */ C14499lm f305231d;

    /* renamed from: e */
    public final /* synthetic */ int f305232e;

    public /* synthetic */ C109601o(C109578ae aeVar, int i, C14219bc bcVar, C14324f fVar, C14499lm lmVar) {
        this.f305228a = aeVar;
        this.f305232e = i;
        this.f305229b = bcVar;
        this.f305230c = fVar;
        this.f305231d = lmVar;
    }

    public final void run() {
        C14536mw mwVar;
        C14536mw mwVar2;
        C14536mw mwVar3;
        C14536mw mwVar4;
        C14536mw mwVar5;
        C14536mw mwVar6;
        C14536mw mwVar7;
        C14536mw mwVar8;
        C14536mw mwVar9;
        C14536mw mwVar10;
        C14536mw mwVar11;
        C14536mw mwVar12;
        C14536mw mwVar13;
        C14536mw mwVar14;
        C14536mw mwVar15;
        C14536mw mwVar16;
        C14536mw mwVar17;
        C109578ae aeVar = this.f305228a;
        int i = this.f305232e;
        C14219bc bcVar = this.f305229b;
        C14324f fVar = this.f305230c;
        C14499lm lmVar = this.f305231d;
        C88244um umVar = C88244um.ATTACH_WEBVIEW;
        switch (i - 2) {
            case 3:
                if (bcVar.f43038a == 4) {
                    mwVar = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar = C14536mw.f43962l;
                }
                String str = mwVar.f43965b;
                if (bcVar.f43038a == 4) {
                    mwVar2 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar2 = C14536mw.f43962l;
                }
                C60214n nVar = mwVar2.f43970g;
                if (nVar == null) {
                    nVar = C60214n.f162914g;
                }
                C60214n nVar2 = nVar;
                int i2 = bcVar.f43038a;
                if (i2 == 4) {
                    mwVar3 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar3 = C14536mw.f43962l;
                }
                String str2 = mwVar3.f43971h;
                if (i2 == 4) {
                    mwVar4 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar4 = C14536mw.f43962l;
                }
                boolean z = mwVar4.f43967d;
                if (i2 == 4) {
                    mwVar5 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar5 = C14536mw.f43962l;
                }
                C14533mt a = C14533mt.m30633a(mwVar5.f43972i);
                if (a == null) {
                    a = C14533mt.UNRECOGNIZED;
                }
                C14533mt mtVar = a;
                if (bcVar.f43038a == 4) {
                    mwVar6 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar6 = C14536mw.f43962l;
                }
                C60214n nVar3 = nVar2;
                Duration ofNanos = Duration.ofNanos(mwVar6.f43969f);
                C58976aa aaVar = C58975e.f156826a;
                if (str.isEmpty()) {
                    C59104x d = C109578ae.f305157a.mo56226d();
                    d.mo56378ag(C58975e.f156826a, "Morris.SearchSvcDataSrc");
                    ((C59052c) ((C59052c) d).mo56372aa(24862)).mo56386p("Got sendAssistantQuery with no query string.");
                    return;
                }
                Query f = aeVar.mo97897f(aeVar.f305181q.mo84268aE(str, false).mo84245H(0, true, (QueryTriggerType) null), str2, QueryTriggerType.OPA_MORRIS_GENERIC, fVar, lmVar, z);
                aeVar.mo97903p(f);
                aeVar.f305170f.mo21875g(C14731a.m31015l(C14350fz.MIC_PROCESSING, false));
                if (!z || mtVar != C14533mt.FOLLOW_ON_TEXT_QUERY) {
                    C0027c a2 = C0027c.m9a(fVar.f43332a);
                    if (a2 == null) {
                        a2 = C0027c.UNRECOGNIZED;
                    }
                    Optional j = aeVar.mo97898j(a2);
                    aeVar.f305175k.mo21412c((C37252a) ((Supplier) C109578ae.f305160d.getOrDefault(mtVar, C109598l.f305225a)).get(), f.f252749G, Optional.m71637of(ofNanos), j);
                    if (aeVar.f305174j.mo79746e(C90051dc.f248927x)) {
                        aeVar.f305176l.mo21417b(mtVar, aeVar.f305170f.mo21870b(), OptionalInt.m71640of(nVar3.f162918c), Optional.m71637of(ofNanos));
                    }
                    if (!z) {
                        aeVar.f305170f.mo21875g(C14731a.m31010g());
                        return;
                    }
                    return;
                }
                aeVar.f305175k.mo21411b((C37252a) ((Supplier) C109578ae.f305160d.getOrDefault(mtVar, C109598l.f305225a)).get(), Optional.empty());
                return;
            case 4:
                C58976aa aaVar2 = C58975e.f156826a;
                aeVar.mo97904q();
                aeVar.f305180p.mo81950v();
                aeVar.f305180p.mo81949u();
                aeVar.f305175k.mo21411b(C37182a.f97889cO.mo40813g(), Optional.empty());
                return;
            case 5:
                if (bcVar.f43038a == 4) {
                    mwVar7 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar7 = C14536mw.f43962l;
                }
                C14533mt a3 = C14533mt.m30633a(mwVar7.f43972i);
                if (a3 == null) {
                    a3 = C14533mt.UNRECOGNIZED;
                }
                aeVar.mo97899l(a3);
                return;
            case 6:
                if (bcVar.f43038a == 4) {
                    mwVar8 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar8 = C14536mw.f43962l;
                }
                C14533mt a4 = C14533mt.m30633a(mwVar8.f43972i);
                if (a4 == null) {
                    a4 = C14533mt.UNRECOGNIZED;
                }
                C14533mt mtVar2 = a4;
                if (bcVar.f43038a == 4) {
                    mwVar9 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar9 = C14536mw.f43962l;
                }
                Duration ofNanos2 = Duration.ofNanos(mwVar9.f43969f);
                if (bcVar.f43038a == 4) {
                    mwVar10 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar10 = C14536mw.f43962l;
                }
                C60214n nVar4 = mwVar10.f43970g;
                if (nVar4 == null) {
                    nVar4 = C60214n.f162914g;
                }
                C60214n nVar5 = nVar4;
                C58976aa aaVar3 = C58975e.f156826a;
                Query f2 = aeVar.mo97897f(aeVar.f305181q.mo84245H(1, true, (QueryTriggerType) null), "and.opa.morris.mic", QueryTriggerType.OPA_MORRIS_GENERIC, fVar, lmVar, false);
                Optional empty = Optional.empty();
                if (empty.isPresent()) {
                    f2 = f2.mo84344bc((String) empty.get());
                }
                aeVar.mo97903p(f2);
                C0027c a5 = C0027c.m9a(fVar.f43332a);
                if (a5 == null) {
                    a5 = C0027c.UNRECOGNIZED;
                }
                aeVar.f305175k.mo21412c((C37252a) ((Supplier) C109578ae.f305160d.getOrDefault(mtVar2, C109598l.f305225a)).get(), f2.f252749G, Optional.m71637of(ofNanos2), aeVar.mo97898j(a5));
                if (aeVar.f305174j.mo79746e(C90051dc.f248927x)) {
                    aeVar.f305176l.mo21417b(mtVar2, aeVar.f305170f.mo21870b(), OptionalInt.m71640of(nVar5.f162918c), Optional.m71637of(ofNanos2));
                    return;
                }
                return;
            case 7:
                if (bcVar.f43038a == 4) {
                    mwVar11 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar11 = C14536mw.f43962l;
                }
                C51805du duVar = mwVar11.f43966c;
                if (duVar == null) {
                    duVar = C51805du.f135924e;
                }
                if (bcVar.f43038a == 4) {
                    mwVar12 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar12 = C14536mw.f43962l;
                }
                C60214n nVar6 = mwVar12.f43970g;
                if (nVar6 == null) {
                    nVar6 = C60214n.f162914g;
                }
                C60214n nVar7 = nVar6;
                int i3 = bcVar.f43038a;
                if (i3 == 4) {
                    mwVar13 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar13 = C14536mw.f43962l;
                }
                String str3 = mwVar13.f43971h;
                if (i3 == 4) {
                    mwVar14 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar14 = C14536mw.f43962l;
                }
                boolean z2 = mwVar14.f43967d;
                if (i3 == 4) {
                    mwVar15 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar15 = C14536mw.f43962l;
                }
                C14533mt a6 = C14533mt.m30633a(mwVar15.f43972i);
                if (a6 == null) {
                    a6 = C14533mt.UNRECOGNIZED;
                }
                C14533mt mtVar3 = a6;
                if (bcVar.f43038a == 4) {
                    mwVar16 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar16 = C14536mw.f43962l;
                }
                Duration ofNanos3 = Duration.ofNanos(mwVar16.f43969f);
                if (C58832aw.m90831a(duVar, C51805du.f135924e)) {
                    C59104x d2 = C109578ae.f305157a.mo56226d();
                    d2.mo56378ag(C58975e.f156826a, "Morris.SearchSvcDataSrc");
                    ((C59052c) ((C59052c) d2).mo56372aa(24889)).mo56386p("Got sendAssistantQuery with no client input.");
                    return;
                } else if (str3.isEmpty()) {
                    C59104x d3 = C109578ae.f305157a.mo56226d();
                    d3.mo56378ag(C58975e.f156826a, "Morris.SearchSvcDataSrc");
                    ((C59052c) ((C59052c) d3).mo56372aa(24888)).mo56386p("Got sendAssistantClientInput with source not specified.");
                    return;
                } else {
                    C88093ox oxVar = (C88093ox) C88094oy.f238174g.createBuilder();
                    C63088z byteString = duVar.toByteString();
                    oxVar.copyOnWrite();
                    C88094oy oyVar = (C88094oy) oxVar.instance;
                    byteString.getClass();
                    oyVar.f238176a |= 1;
                    oyVar.f238177b = byteString;
                    C88094oy oyVar2 = (C88094oy) oxVar.build();
                    C14533mt mtVar4 = mtVar3;
                    Query f3 = aeVar.mo97897f(aeVar.f305181q.mo84244G(true), str3, QueryTriggerType.OPA_MORRIS_GENERIC, fVar, lmVar, z2);
                    Optional empty2 = Optional.empty();
                    if (empty2.isPresent()) {
                        f3 = f3.mo84344bc((String) empty2.get());
                    }
                    C88489j jVar = new C88489j(C87739bu.OPA_CLIENT_INPUT);
                    jVar.mo82014b(C88092ow.f238173a, oyVar2);
                    jVar.mo82015c(f3);
                    ClientEventData a7 = jVar.mo82013a();
                    aeVar.mo97904q();
                    aeVar.f305180p.mo81937i(a7);
                    aeVar.f305170f.mo21875g(C14731a.m31015l(C14350fz.MIC_PROCESSING, false));
                    if (!z2 || mtVar4 != C14533mt.FOLLOW_ON_CLIENT_INPUT) {
                        C0027c a8 = C0027c.m9a(fVar.f43332a);
                        if (a8 == null) {
                            a8 = C0027c.UNRECOGNIZED;
                        }
                        C59710cy cyVar = (C59710cy) C59711cz.f160207r.createBuilder();
                        C59734ds dsVar = (C59734ds) C59735dt.f160335e.createBuilder();
                        dsVar.copyOnWrite();
                        C59735dt dtVar = (C59735dt) dsVar.instance;
                        str3.getClass();
                        dtVar.f160337a |= 1;
                        dtVar.f160338b = str3;
                        dsVar.copyOnWrite();
                        C59735dt dtVar2 = (C59735dt) dsVar.instance;
                        dtVar2.f160339c = a8.getNumber();
                        dtVar2.f160337a |= 2;
                        C51474ja a9 = aeVar.f305178n.mo21597a();
                        dsVar.copyOnWrite();
                        C59735dt dtVar3 = (C59735dt) dsVar.instance;
                        dtVar3.f160340d = a9.f134124v;
                        dtVar3.f160337a |= 4;
                        cyVar.copyOnWrite();
                        C59711cz czVar = (C59711cz) cyVar.instance;
                        C59735dt dtVar4 = (C59735dt) dsVar.build();
                        dtVar4.getClass();
                        czVar.f160217h = dtVar4;
                        czVar.f160210a |= 256;
                        Optional of = Optional.m71637of((C59711cz) cyVar.build());
                        aeVar.f305175k.mo21412c((C37252a) ((Supplier) C109578ae.f305160d.getOrDefault(mtVar4, C109598l.f305225a)).get(), f3.f252749G, Optional.m71637of(ofNanos3), of);
                        if (aeVar.f305174j.mo79746e(C90051dc.f248927x)) {
                            aeVar.f305176l.mo21417b(mtVar4, aeVar.f305170f.mo21870b(), OptionalInt.m71640of(nVar7.f162918c), Optional.m71637of(ofNanos3));
                        }
                        if (!z2) {
                            aeVar.f305170f.mo21875g(C14731a.m31010g());
                            return;
                        }
                        return;
                    }
                    aeVar.f305175k.mo21411b((C37252a) ((Supplier) C109578ae.f305160d.getOrDefault(mtVar4, C109598l.f305225a)).get(), Optional.empty());
                    return;
                }
            case 8:
                if (bcVar.f43038a == 4) {
                    mwVar17 = (C14536mw) bcVar.f43039b;
                } else {
                    mwVar17 = C14536mw.f43962l;
                }
                aeVar.mo97903p(aeVar.mo97897f(aeVar.f305181q.mo84244G(true).mo84255R(new TtsRequest(mwVar17.f43968e, false)).mo84278aO("tts-trigger", "MORRIS_SLOW_CONNECTIVITY"), "and.opa.morris.unknown", QueryTriggerType.OPA_MORRIS_GENERIC, fVar, lmVar, false));
                return;
            default:
                C59104x c = C109578ae.f305157a.mo56225c();
                c.mo56378ag(C58975e.f156826a, "Morris.SearchSvcDataSrc");
                ((C59052c) ((C59052c) c).mo56372aa(24873)).mo56386p("Got a fire-and-forget request with an unknown request type.");
                return;
        }
    }
}
