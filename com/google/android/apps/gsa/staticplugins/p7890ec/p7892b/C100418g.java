package com.google.android.apps.gsa.staticplugins.p7890ec.p7892b;

import android.accounts.Account;
import com.evernote.android.state.BuildConfig;
import com.google.android.apps.gsa.binaries.satin.app.aum;
import com.google.android.apps.gsa.binaries.satin.app.auo;
import com.google.android.apps.gsa.binaries.satin.app.aup;
import com.google.android.apps.gsa.binaries.satin.app.aur;
import com.google.android.apps.gsa.c.a.a;
import com.google.android.apps.gsa.c.b;
import com.google.android.apps.gsa.c.f.u;
import com.google.android.apps.gsa.p8852u.C118575h;
import com.google.android.apps.gsa.p8889z.p8893c.p8896c.C118873b;
import com.google.android.apps.gsa.p8889z.p8893c.p8896c.C118874c;
import com.google.android.apps.gsa.p8889z.p8893c.p8896c.C118876e;
import com.google.android.apps.gsa.search.core.google.gaia.C86054o;
import com.google.android.apps.gsa.search.core.p6505af.p6506a.C84466a;
import com.google.android.apps.gsa.search.core.p6519al.p6741k.C85505a;
import com.google.android.apps.gsa.search.core.p6519al.p6741k.C85515b;
import com.google.android.apps.gsa.search.core.preferences.C86338r;
import com.google.android.apps.gsa.search.core.service.C86775r;
import com.google.android.apps.gsa.search.core.service.p6848e.C86681c;
import com.google.android.apps.gsa.search.core.service.p6848e.C86685g;
import com.google.android.apps.gsa.search.core.service.p6848e.C86686h;
import com.google.android.apps.gsa.search.core.service.p6851f.C86697a;
import com.google.android.apps.gsa.search.core.service.p6852g.C86726f;
import com.google.android.apps.gsa.search.shared.service.ClientConfig;
import com.google.android.apps.gsa.search.shared.service.ClientEventData;
import com.google.android.apps.gsa.search.shared.service.p6935b.C87739bu;
import com.google.android.apps.gsa.search.shared.service.p6935b.C87741bw;
import com.google.android.apps.gsa.search.shared.service.p6935b.C88253uv;
import com.google.android.apps.gsa.search.shared.service.p6935b.C88255ux;
import com.google.android.apps.gsa.search.shared.service.p6935b.C88272vn;
import com.google.android.apps.gsa.search.shared.service.p6935b.C88274vp;
import com.google.android.apps.gsa.search.shared.service.p6936c.p6938b.C88431bb;
import com.google.android.apps.gsa.shared.p6968aa.C89061q;
import com.google.android.apps.gsa.shared.p7012bb.C89356b;
import com.google.android.apps.gsa.shared.search.Query;
import com.google.android.apps.gsa.shared.speech.p7142d.C90536a;
import com.google.android.apps.gsa.shared.util.debug.p7163a.C91006f;
import com.google.android.apps.gsa.shared.util.p7158b.C90755l;
import com.google.android.apps.gsa.shared.util.p7159c.C90873ag;
import com.google.android.apps.gsa.shared.util.p7159c.C90875ai;
import com.google.android.apps.gsa.speech.microdetection.C92486a;
import com.google.android.apps.gsa.speech.p7272e.p7274b.C92252n;
import com.google.android.apps.gsa.speech.p7294j.C92433c;
import com.google.android.apps.gsa.speech.p7298l.C92460b;
import com.google.android.apps.gsa.speech.p7298l.C92472e;
import com.google.android.apps.gsa.speech.p7298l.C92473f;
import com.google.android.apps.gsa.speech.p7298l.C92474g;
import com.google.android.apps.gsa.speech.p7302m.C92483h;
import com.google.android.apps.gsa.speech.p7302m.C92485j;
import com.google.android.apps.gsa.staticplugins.p7890ec.p7892b.p7895b.C100413a;
import com.google.android.libraries.gsa.p1876k.C22871g;
import com.google.android.libraries.p1730f.C21370a;
import com.google.android.libraries.search.p2904c.C37406bk;
import com.google.android.libraries.search.p2904c.C37407bl;
import com.google.android.libraries.search.p2904c.C37478d;
import com.google.android.libraries.search.p2904c.C37520e;
import com.google.android.libraries.search.p2904c.p2933j.C37705a;
import com.google.android.libraries.search.p2904c.p2933j.C37773c;
import com.google.android.libraries.search.p2904c.p2933j.p2934a.p2935a.C37724r;
import com.google.android.libraries.search.p3047m.p3050b.C39226b;
import com.google.common.base.C58833ax;
import com.google.common.p4522b.C58528ij;
import com.google.common.p4526f.C58976aa;
import com.google.common.p4526f.C59052c;
import com.google.common.p4526f.C59071e;
import com.google.common.p4526f.C59104x;
import com.google.common.p4526f.p4527a.C58975e;
import com.google.common.util.concurrent.C60870cx;
import com.google.p4449cd.p4453d.C57960f;
import com.google.protobuf.C62940bt;
import com.google.protobuf.C62942bv;
import com.google.speech.p5208h.C66595bu;
import dagger.C68214a;
import dagger.p5294a.C68225k;
import p3186j$.util.Objects;

/* renamed from: com.google.android.apps.gsa.staticplugins.ec.b.g */
/* compiled from: PG */
public final class C100418g implements C86686h {

    /* renamed from: a */
    public static final C59071e f280733a = C59071e.m91332i("com.google.android.apps.gsa.staticplugins.ec.b.g");

    /* renamed from: c */
    String f280734c = BuildConfig.FLAVOR;

    /* renamed from: d */
    C66595bu f280735d;

    /* renamed from: e */
    Account f280736e;

    /* renamed from: f */
    private final C68214a f280737f;

    /* renamed from: g */
    private final C118874c f280738g;

    /* renamed from: h */
    private final C118876e f280739h;

    /* renamed from: i */
    private final C85515b f280740i;

    /* renamed from: j */
    private final C92486a f280741j;

    /* renamed from: k */
    private final C22871g f280742k;

    /* renamed from: l */
    private final C100413a f280743l;

    /* renamed from: m */
    private final C92474g f280744m;

    /* renamed from: n */
    private final C68214a f280745n;

    /* renamed from: o */
    private final C68214a f280746o;

    /* renamed from: p */
    private final C86338r f280747p;

    /* renamed from: q */
    private final C86054o f280748q;

    /* renamed from: r */
    private final C68214a f280749r;

    /* renamed from: s */
    private long f280750s;

    /* renamed from: t */
    private boolean f280751t;

    /* renamed from: u */
    private C57960f f280752u;

    /* renamed from: v */
    private String f280753v = "en-US";

    /* renamed from: w */
    private final C84466a f280754w;

    public C100418g(C68214a aVar, C118874c cVar, C118876e eVar, C85515b bVar, C84466a aVar2, C92486a aVar3, C22871g gVar, C100413a aVar4, C92474g gVar2, C68214a aVar5, C68214a aVar6, C86338r rVar, C86054o oVar, C68214a aVar7) {
        this.f280737f = aVar;
        this.f280738g = cVar;
        this.f280739h = eVar;
        this.f280740i = bVar;
        this.f280754w = aVar2;
        this.f280741j = aVar3;
        this.f280742k = gVar;
        this.f280743l = aVar4;
        this.f280744m = gVar2;
        this.f280745n = aVar5;
        this.f280746o = aVar6;
        this.f280747p = rVar;
        this.f280748q = oVar;
        this.f280749r = aVar7;
    }

    /* renamed from: a */
    private final void m166449a() {
        C57960f fVar = this.f280752u;
        if (fVar != null) {
            C90875ai.m148465b(C100416e.f280731a, fVar.mo54566a(), this.f280742k, "Shutdown result callback").mo85223a(C100417f.f280732a);
            this.f280752u = null;
        }
    }

    /* renamed from: c */
    private final void m166450c() {
        ((C92483h) this.f280749r.mo27525b()).mo87226a(C92485j.MULTI_DEVICE_SELECTION_REQUEST, this.f280736e, this.f280735d);
    }

    /* renamed from: b */
    public final /* synthetic */ C86726f mo80291b(C21370a aVar) {
        return C86685g.m139632a(aVar);
    }

    /* renamed from: e */
    public final /* synthetic */ C58528ij mo80292e() {
        return C86686h.f234170b;
    }

    /* renamed from: f */
    public final void mo80293f(long j, ClientEventData clientEventData, C86681c cVar) {
        Object obj;
        Object obj2;
        ClientEventData clientEventData2 = clientEventData;
        C87739bu a = C87739bu.m142761a(clientEventData2.f236955a.f237480b);
        if (a == null) {
            a = C87739bu.UNKNOWN;
        }
        C58976aa aaVar = C58975e.f156826a;
        int ordinal = a.ordinal();
        if (ordinal != 42) {
            C66595bu buVar = null;
            if (ordinal == 45) {
                Query query = (Query) clientEventData2.mo81912b(Query.class);
                if (query.mo84456dj()) {
                    m166450c();
                }
                if (query.f252780s == 0) {
                    C59104x d = f280733a.mo56226d();
                    d.mo56378ag(C58975e.f156826a, "TiSidSessionCtrl");
                    ((C59052c) ((C59052c) d).mo56372aa(33380)).mo56386p("Query received by TI-SID is not committed!");
                    int i = C90755l.f253831a;
                }
                Query aO = query.mo84278aO("expected-query", this.f280734c);
                m166449a();
                if (!aO.mo84446da()) {
                    C59104x d2 = f280733a.mo56226d();
                    d2.mo56378ag(C58975e.f156826a, "TiSidSessionCtrl");
                    ((C59052c) ((C59052c) d2).mo56372aa(33377)).mo56386p("Queries handled by this session controller should always be of type tisid-enrollment");
                    int i2 = C90755l.f253831a;
                }
                C89356b b = this.f280754w.mo78026b("ti-sid enrollment graph", C118575h.GRAPH_TISID_ENROLLMENT, C118575h.GRAPH_TISID_ENROLLMENT);
                C57960f e = b.mo83286e();
                this.f280752u = e;
                if (e == null) {
                    C59104x c = f280733a.mo56225c();
                    c.mo56378ag(C58975e.f156826a, "TiSidSessionCtrl");
                    ((C59052c) ((C59052c) c).mo56372aa(33376)).mo56386p("TI-SID graph execution context is null!");
                    return;
                }
                boolean z = this.f280741j.mo87252z(aO);
                C92474g gVar = this.f280744m;
                String str = this.f280753v;
                C90536a a2 = C92474g.m152086a(aO);
                a audio = gVar.f258044f.getAudio(aO.f252781t);
                C92460b a3 = gVar.f258043e.mo104088a(aO, z);
                C92472e eVar = (C92472e) gVar.f258041c.mo17428b();
                boolean z2 = audio != null;
                C92474g gVar2 = gVar;
                C92472e eVar2 = eVar;
                gVar2.mo87223f(eVar2, aO, a2, z2, true);
                gVar2.mo87224g(eVar2, a3, aO, (C89061q) null, C92252n.VOICE_ACTIONS, a2);
                eVar.f257981d = str;
                C92473f a4 = eVar.mo87218a();
                C92460b bVar = a4.f258015c;
                C37406bk bkVar = (C37406bk) C37407bl.f99325c.createBuilder();
                C37705a aVar = (C37705a) C37773c.f100243c.createBuilder();
                C37724r rVar = C37724r.f100152a;
                aVar.copyOnWrite();
                C37773c cVar2 = (C37773c) aVar.instance;
                rVar.getClass();
                cVar2.f100246b = rVar;
                cVar2.f100245a = 7;
                bkVar.copyOnWrite();
                C37407bl blVar = (C37407bl) bkVar.instance;
                C37773c cVar3 = (C37773c) aVar.build();
                cVar3.getClass();
                blVar.f99328b = cVar3;
                blVar.f99327a |= 1;
                C58833ax k = C58833ax.m90834k(((u) this.f280737f.mo27525b()).a((C37407bl) bkVar.build(), aO, bVar, b.i, new C92433c(), false, C39226b.TAG_CLASSIC_ASSISTANT_VOICE_MATCH));
                C118873b a5 = this.f280738g.mo104052a(k);
                C57960f fVar = this.f280752u;
                fVar.getClass();
                Objects.requireNonNull(a5);
                fVar.mo54567b(new C100383a(a5));
                if (!this.f280751t) {
                    this.f280751t = true;
                    this.f280740i.mo79029e(this.f280750s);
                    this.f280740i.mo79033i(C37520e.ROUTE_NO_AUDIO, C37478d.CONNECTION_TYPE_NONE, (C85505a) null, true);
                }
                C60870cx a6 = this.f280739h.mo104053a(C100412b.f280727a, k);
                aum aum = (aum) this.f280745n.mo27525b();
                aum.f204366c = a6;
                aum.f204367d = b;
                aum.f204368e = a4;
                aum.f204369f = C58833ax.m90833j(this.f280736e);
                aO.getClass();
                aum.f204370g = aO;
                aum.f204371h = Long.valueOf(a4.f258032t);
                aum.f204372i = k;
                aum.f204373j = this.f280735d;
                C68225k.m98529a(aum.f204366c, C60870cx.class);
                C68225k.m98529a(aum.f204367d, C89356b.class);
                C68225k.m98529a(aum.f204368e, C92473f.class);
                C68225k.m98529a(aum.f204369f, C58833ax.class);
                C68225k.m98529a(aum.f204370g, Query.class);
                C68225k.m98529a(aum.f204371h, Long.class);
                C68225k.m98529a(aum.f204372i, C58833ax.class);
                C60870cx gq = new auo(aum.f204364a, aum.f204365b, aum.f204366c, aum.f204367d, aum.f204368e, aum.f204369f, aum.f204370g, aum.f204371h, aum.f204372i, aum.f204373j).d.mo60297gq();
                aup aup = (aup) this.f280746o.mo27525b();
                gq.getClass();
                aup.f204375b = gq;
                aup.f204376c = b;
                aup.f204377d = Long.valueOf(a4.f258032t);
                aup.f204378e = a5;
                C68225k.m98529a(aup.f204375b, C60870cx.class);
                C68225k.m98529a(aup.f204376c, C89356b.class);
                C68225k.m98529a(aup.f204377d, Long.class);
                C68225k.m98529a(aup.f204378e, C118873b.class);
                new C90873ag(new aur(aup.f204374a, aup.f204375b, aup.f204376c, aup.f204378e).b.mo60297gq(), this.f280742k, "TI-SID enrollment rendering result callback", C100414c.f280729a).mo85223a(C100415d.f280730a);
            } else if (ordinal == 210) {
                C62940bt btVar = C88253uv.f238713a;
                C87741bw bwVar = clientEventData2.f236955a;
                C62940bt r2 = C62942bv.checkIsLite(btVar);
                bwVar.mo58887l(r2);
                Object l = bwVar.f169962ag.mo58854l(r2.f169971d);
                if (l == null) {
                    obj = r2.f169969b;
                } else {
                    obj = r2.mo58889c(l);
                }
                C88255ux uxVar = (C88255ux) obj;
                this.f280734c = uxVar.f238717b;
                this.f280753v = uxVar.f238718c;
            } else if (ordinal == 213) {
                m166450c();
            } else if (ordinal != 241) {
                C59104x d3 = f280733a.mo56226d();
                d3.mo56378ag(C58975e.f156826a, "TiSidSessionCtrl");
                ((C59052c) ((C59052c) d3).mo56372aa(33379)).mo56389s("Unhandled client event: %s", a);
                int i3 = C90755l.f253831a;
            } else {
                C62940bt btVar2 = C88272vn.f238754a;
                C87741bw bwVar2 = clientEventData2.f236955a;
                C62940bt r22 = C62942bv.checkIsLite(btVar2);
                bwVar2.mo58887l(r22);
                Object l2 = bwVar2.f169962ag.mo58854l(r22.f169971d);
                if (l2 == null) {
                    obj2 = r22.f169969b;
                } else {
                    obj2 = r22.mo58889c(l2);
                }
                C88274vp vpVar = (C88274vp) obj2;
                if ((vpVar.f238757a & 1) != 0 && (buVar = vpVar.f238758b) == null) {
                    buVar = C66595bu.f181148e;
                }
                this.f280735d = buVar;
            }
        } else {
            cVar.mo80279a(clientEventData2);
        }
    }

    /* renamed from: g */
    public final /* synthetic */ void mo80294g(boolean z) {
    }

    /* renamed from: gS */
    public final void mo17602gS(C91006f fVar) {
        fVar.mo85291r(getClass().getName());
    }

    /* renamed from: h */
    public final void mo80295h() {
        if (this.f280751t) {
            this.f280751t = false;
            this.f280740i.mo79028c(this.f280750s);
            this.f280740i.mo79033i(C37520e.ROUTE_NO_AUDIO, C37478d.CONNECTION_TYPE_NONE, (C85505a) null, true);
        }
        m166449a();
    }

    /* renamed from: i */
    public final void mo80296i(C86697a aVar) {
        C59071e eVar = f280733a;
        C59104x b = eVar.mo56224b();
        b.mo56378ag(C58975e.f156826a, "TiSidSessionCtrl");
        ((C59052c) ((C59052c) b).mo56372aa(33386)).mo56386p("#onNewClient");
        C86775r rVar = (C86775r) aVar;
        this.f280743l.f280728a = rVar.f234383e;
        Account account = null;
        if (rVar.f234384f.mo81880J()) {
            C59104x b2 = eVar.mo56224b();
            b2.mo56378ag(C58975e.f156826a, "TiSidSessionCtrl");
            ((C59052c) ((C59052c) b2).mo56372aa(33375)).mo56386p("Use enrollment account.");
            account = this.f280748q.mo79689w(this.f280747p.getString("hotword_enrollment_account", (String) null));
        } else {
            C59104x b3 = eVar.mo56224b();
            b3.mo56378ag(C58975e.f156826a, "TiSidSessionCtrl");
            ((C59052c) ((C59052c) b3).mo56372aa(33373)).mo56386p("Use default account.");
        }
        this.f280736e = account;
    }

    /* renamed from: j */
    public final void mo80297j(long j, C88431bb bbVar, C58833ax axVar) {
        C59104x b = f280733a.mo56224b();
        b.mo56378ag(C58975e.f156826a, "TiSidSessionCtrl");
        ((C59052c) ((C59052c) b).mo56372aa(33387)).mo56386p("Start TI-SID session");
        this.f280750s = j;
    }

    /* renamed from: k */
    public final /* synthetic */ boolean mo80298k(ClientConfig clientConfig, ClientConfig clientConfig2) {
        return C86685g.m139633b(clientConfig, clientConfig2);
    }

    /* renamed from: l */
    public final /* synthetic */ boolean mo80299l() {
        return false;
    }
}
