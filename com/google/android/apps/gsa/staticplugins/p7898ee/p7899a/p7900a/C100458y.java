package com.google.android.apps.gsa.staticplugins.p7898ee.p7899a.p7900a;

import android.webkit.WebView;
import com.google.android.apps.gsa.proactive.p6475b.C84160c;
import com.google.android.apps.gsa.search.core.C85662bm;
import com.google.android.apps.gsa.search.core.C85664bo;
import com.google.android.apps.gsa.search.core.p6507ag.p6508a.C84474e;
import com.google.android.apps.gsa.search.core.p6512ai.C84510a;
import com.google.android.apps.gsa.search.core.p6519al.p6725ds.C85454d;
import com.google.android.apps.gsa.search.core.p6519al.p6747n.C85532a;
import com.google.android.apps.gsa.search.core.p6884y.C87290c;
import com.google.android.apps.gsa.search.core.p6884y.C87379h;
import com.google.android.apps.gsa.search.core.webview.GsaWebViewContainer;
import com.google.android.apps.gsa.shared.logger.C89911f;
import com.google.android.apps.gsa.shared.util.p7159c.C90873ag;
import com.google.android.apps.gsa.shared.util.p7184t.C91096f;
import com.google.android.apps.gsa.sidekick.main.p7199b.C91262b;
import com.google.android.apps.gsa.sidekick.shared.util.C91973ax;
import com.google.android.apps.gsa.staticplugins.p7898ee.p7899a.p7901b.C100460a;
import com.google.android.apps.gsa.staticplugins.p7898ee.p7899a.p7901b.C100463d;
import com.google.android.apps.gsa.staticplugins.p7898ee.p7899a.p7901b.C100464e;
import com.google.android.apps.p489g.C9291i;
import com.google.android.libraries.gsa.monet.internal.service.C23028x;
import com.google.android.libraries.gsa.monet.service.C23052c;
import com.google.android.libraries.gsa.monet.service.C23056g;
import com.google.android.libraries.gsa.monet.service.C23058i;
import com.google.android.libraries.gsa.monet.shared.ProtoParcelable;
import com.google.android.libraries.gsa.monet.tools.model.shared.p1924b.C23251a;
import com.google.android.libraries.gsa.monet.tools.p1917d.p1918a.C23245b;
import com.google.android.libraries.gsa.p1876k.C22871g;
import com.google.common.base.C58833ax;
import com.google.common.base.C58893dc;
import com.google.common.p4522b.C58485gu;
import com.google.common.p4522b.C58528ij;
import com.google.common.p4522b.C58800sl;
import com.google.common.p4526f.C59052c;
import com.google.common.p4526f.C59071e;
import com.google.common.p4541l.C59326i;
import com.google.common.util.concurrent.C60826bg;
import com.google.common.util.concurrent.C60922j;
import com.google.p375ai.p378b.C7642eo;
import com.google.p375ai.p378b.C7832lp;
import com.google.p375ai.p378b.C7886np;
import com.google.p375ai.p378b.C7891nu;
import com.google.p4283bv.p4374h.p4375a.p4376a.p4377a.p4378a.C57668a;
import com.google.p4283bv.p4374h.p4375a.p4376a.p4377a.p4378a.C57669b;
import com.google.protobuf.C62921ba;
import dagger.C68214a;

/* renamed from: com.google.android.apps.gsa.staticplugins.ee.a.a.y */
/* compiled from: PG */
public final class C100458y extends C23056g implements C100460a {

    /* renamed from: a */
    public static final C59071e f280808a = C59071e.m91332i("com.google.android.apps.gsa.staticplugins.ee.a.a.y");

    /* renamed from: m */
    private static final C58528ij f280809m = C58528ij.m90011K("sports_teams", "stock_listings");

    /* renamed from: n */
    private static final C59326i f280810n = C59326i.f157517e.mo56826f();

    /* renamed from: b */
    public final C100464e f280811b;

    /* renamed from: c */
    public final boolean f280812c;

    /* renamed from: d */
    public final C22871g f280813d;

    /* renamed from: e */
    public final C22871g f280814e;

    /* renamed from: f */
    public final C85454d f280815f;

    /* renamed from: g */
    public final C68214a f280816g;

    /* renamed from: h */
    public final C85664bo f280817h;

    /* renamed from: i */
    public final C68214a f280818i;

    /* renamed from: j */
    public final C84510a f280819j;

    /* renamed from: k */
    public final C100436c f280820k;

    /* renamed from: l */
    public final C87290c f280821l;

    /* renamed from: o */
    private final C85532a f280822o;

    /* renamed from: p */
    private final C84160c f280823p;

    /* renamed from: q */
    private final C23058i f280824q;

    /* renamed from: r */
    private final C87379h f280825r;

    /* renamed from: s */
    private final C68214a f280826s;

    /* renamed from: t */
    private final C100434aa f280827t;

    /* renamed from: u */
    private final C84474e f280828u;

    /* JADX INFO: super call moved to the top of the method (can break code semantics) */
    public C100458y(C23052c cVar, C100464e eVar, boolean z, C22871g gVar, C22871g gVar2, C85454d dVar, C85532a aVar, C84160c cVar2, C68214a aVar2, C23058i iVar, C87290c cVar3, C85664bo boVar, C87379h hVar, C68214a aVar3, C68214a aVar4, C84510a aVar5, C100434aa aaVar, C100436c cVar4, C84474e eVar2) {
        super(cVar);
        this.f280811b = eVar;
        this.f280812c = z;
        this.f280813d = gVar;
        this.f280814e = gVar2;
        this.f280815f = dVar;
        this.f280822o = aVar;
        this.f280823p = cVar2;
        this.f280816g = aVar2;
        this.f280824q = iVar;
        this.f280821l = cVar3;
        this.f280817h = boVar;
        this.f280825r = hVar;
        this.f280826s = aVar3;
        this.f280818i = aVar4;
        this.f280819j = aVar5;
        this.f280827t = aaVar;
        this.f280820k = cVar4;
        this.f280828u = eVar2;
    }

    /* renamed from: n */
    private final String m166497n() {
        return true != this.f280828u.mo78135x() ? "https://www.google.com/preferences/interests/android-web-view" : "https://www.google.com/preferences/channels/android-web-view";
    }

    /* renamed from: o */
    private final void m166498o() {
        if (((String) this.f280811b.mo91918f().f63720e).isEmpty()) {
            mo91922e();
        } else {
            mo91923f();
        }
    }

    /* renamed from: e */
    public final void mo91922e() {
        C58833ax axVar = (C58833ax) ((C23251a) this.f280811b.mo91915c()).f63720e;
        if (axVar.mo56113h()) {
            this.f280815f.mo78969k(((GsaWebViewContainer) axVar.mo56107c()).mo80859b());
        }
        if (!((String) this.f280811b.mo91917e().f63720e).isEmpty()) {
            this.f280823p.mo77606g(C7642eo.LOAD_WEBVIEW_CLOSET);
        }
        this.f280821l.mo80935a();
    }

    /* renamed from: f */
    public final void mo91923f() {
        String str;
        if (this.f280811b.mo91918f().f63720e != null) {
            str = (String) this.f280811b.mo91918f().f63720e;
        } else {
            str = m166497n();
        }
        this.f280823p.mo77606g(C7642eo.LOAD_WEBVIEW_CLOSET);
        new C90873ag(this.f280814e.mo28209i(C60922j.m93045h(this.f280822o.mo79047a(), new C100447n(this), C60826bg.f164896a), "setupWebView", new C100448o(this, str)), this.f280813d, "createAndSetupNewWebView callback", new C100449p(this)).mo85223a(new C100450q(this));
    }

    /* renamed from: h */
    public final void mo91924h() {
        if (((C58833ax) ((C23251a) this.f280811b.mo91914b()).f63720e).mo56113h()) {
            mo91922e();
        } else {
            new C90873ag(this.f280814e.mo28201a("handleBackPressedInWebView", new C100451r(this, (C58833ax) ((C23251a) this.f280811b.mo91915c()).f63720e)), this.f280813d, "handleBackPressedInWebView callback", new C100442i(this)).mo85223a(new C100443j(this));
        }
    }

    /* renamed from: i */
    public final void mo91925i() {
        C58833ax axVar = (C58833ax) ((C23251a) this.f280811b.mo91915c()).f63720e;
        if (axVar.mo56113h()) {
            GsaWebViewContainer gsaWebViewContainer = (GsaWebViewContainer) axVar.mo56107c();
            mo91929m(gsaWebViewContainer);
            if (gsaWebViewContainer.mo80858a() != null) {
                WebView a = gsaWebViewContainer.mo80858a();
                C58893dc.m90996a(a);
                mo91926j(a);
                return;
            }
            new C90873ag(this.f280815f.mo78962d(gsaWebViewContainer.mo80859b()), this.f280813d, "onRestore callback", new C100445l(this)).mo85223a(new C100446m(this));
            return;
        }
        m166498o();
    }

    /* renamed from: iA */
    public final boolean mo28438iA() {
        return true;
    }

    /* renamed from: iB */
    public final void mo28497iB(C23028x xVar) {
        if (!this.f280817h.mo79197l(C85662bm.WEB_HISTORY)) {
            ((C59052c) ((C59052c) f280808a.mo56225c()).mo56372aa(33415)).mo56386p("User not opted into WAA, unable to restore.");
            this.f280821l.mo80935a();
            return;
        }
        mo91925i();
    }

    /* renamed from: iD */
    public final void mo28439iD(ProtoParcelable protoParcelable) {
        C9291i iVar = (C9291i) C23245b.m43557b(protoParcelable, C9291i.f32254d.getParserForType(), C62921ba.m95368a(), true);
        iVar.getClass();
        String n = m166497n();
        String str = "?";
        if ((iVar.f32256a & 1) != 0) {
            C58800sl lA = f280809m.iterator();
            boolean z = false;
            while (lA.hasNext()) {
                String str2 = (String) lA.next();
                if (iVar.f32257b.endsWith(str2)) {
                    n = m166497n() + "/yourinterests?collection=" + str2;
                    str = "&";
                    z = true;
                }
            }
            if (!z) {
                ((C89911f) this.f280826s.mo27525b()).mo83755a(new IllegalArgumentException("Incorrect closet page Id: ".concat(String.valueOf(iVar.f32257b))), 135279134, 29).mo83721a();
            }
        }
        C7832lp e = ((C91262b) this.f280818i.mo27525b()).mo85534e(1, "com.google.android.apps.sidekick.KANSAS_VERSION_INFO", "com.google.android.apps.sidekick.KANSAS_VERSION_INFO_EXPIRATION");
        String str3 = e == null ? null : e.f27466c;
        if (str3 != null) {
            C57668a aVar = (C57668a) C57669b.f154046c.createBuilder();
            aVar.copyOnWrite();
            C57669b bVar = (C57669b) aVar.instance;
            bVar.f154048a = 1 | bVar.f154048a;
            bVar.f154049b = str3;
            C59326i iVar2 = f280810n;
            byte[] byteArray = ((C57669b) aVar.build()).toByteArray();
            n = n + str + "ci=" + iVar2.mo56837l(byteArray, byteArray.length);
        }
        this.f280811b.mo91918f().mo28730f(n, false);
        if (!this.f280817h.mo79197l(C85662bm.WEB_HISTORY)) {
            ((C59052c) ((C59052c) f280808a.mo56225c()).mo56372aa(33410)).mo56386p("User not opted into WAA.  Asking to optin");
            C7891nu a = C7891nu.m22887a(iVar.f32258c);
            if (a == null) {
                a = C7891nu.UNKNOWN_OPT_IN_SOURCE;
            }
            C87379h hVar = this.f280825r;
            C91973ax axVar = new C91973ax(a);
            axVar.f256474f = false;
            axVar.f256475g = 3;
            axVar.f256472d = C58485gu.m89846n(C7886np.WEB_HISTORY);
            hVar.mo81040h(axVar.mo86664a(), 3);
            return;
        }
        m166498o();
    }

    /* renamed from: iE */
    public final void mo28498iE() {
        this.f280824q.mo28500a(this.f63405W, new C100439f(this));
        this.f280825r.mo81039g(this.f63405W, 3, new C100440g(this));
    }

    /* renamed from: iW */
    public final void mo28499iW() {
        C58833ax axVar = (C58833ax) ((C23251a) this.f280811b.mo91915c()).f63720e;
        if (axVar.mo56113h()) {
            C100434aa aaVar = this.f280827t;
            String b = ((GsaWebViewContainer) axVar.mo56107c()).mo80859b();
            synchronized (aaVar.f280776a) {
                aaVar.f280777b.remove(b);
            }
        } else {
            ((C59052c) ((C59052c) f280808a.mo56225c()).mo56372aa(33412)).mo56386p("Could not cleanup TrainingController, no WebView found.");
        }
        this.f280825r.mo81039g(this.f63405W, 3, (C91096f) null);
    }

    /* renamed from: j */
    public final void mo91926j(WebView webView) {
        this.f280814e.mo28212l("Restore WebView clients", new C100452s(this, webView));
    }

    /* renamed from: k */
    public final void mo91927k(C100463d dVar) {
        ((C23251a) this.f280811b.mo91914b()).mo28730f(C58833ax.m90834k(dVar), false);
    }

    /* renamed from: l */
    public final void mo91928l(WebView webView) {
        webView.setWebViewClient(new C100457x(this));
    }

    /* renamed from: m */
    public final void mo91929m(GsaWebViewContainer gsaWebViewContainer) {
        C100434aa aaVar = this.f280827t;
        String b = gsaWebViewContainer.mo80859b();
        synchronized (aaVar.f280776a) {
            aaVar.f280777b.put(b, this);
        }
    }
}
