package com.google.android.apps.gsa.staticplugins.bisto.p7489g;

import androidx.annotation.C0826b;
import com.google.android.apps.gsa.shared.bisto.C89624av;
import com.google.android.apps.gsa.shared.bisto.C89644ba;
import com.google.android.apps.gsa.shared.bisto.C89653h;
import com.google.android.apps.gsa.shared.bisto.C89656k;
import com.google.android.apps.gsa.shared.bisto.p7028a.C89492cd;
import com.google.android.apps.gsa.shared.bisto.p7028a.C89495cg;
import com.google.android.apps.gsa.shared.util.p7159c.C90873ag;
import com.google.android.apps.gsa.shared.util.p7159c.C90875ai;
import com.google.android.apps.gsa.shared.util.p7159c.C90877ak;
import com.google.android.apps.gsa.shared.util.p7159c.p7160a.C90821bm;
import com.google.android.apps.gsa.staticplugins.bisto.p7478ad.C95026a;
import com.google.android.apps.gsa.staticplugins.bisto.p7479ae.C95065ab;
import com.google.android.apps.gsa.staticplugins.bisto.p7479ae.p7480a.C95029a;
import com.google.android.apps.gsa.staticplugins.bisto.p7479ae.p7480a.C95038ai;
import com.google.android.apps.gsa.staticplugins.bisto.p7479ae.p7480a.C95039b;
import com.google.android.apps.gsa.staticplugins.bisto.p7488f.C95294af;
import com.google.android.apps.gsa.staticplugins.bisto.p7488f.C95295ag;
import com.google.android.apps.gsa.staticplugins.bisto.p7490h.C95457c;
import com.google.android.apps.gsa.staticplugins.bisto.p7510o.C95710aa;
import com.google.android.apps.gsa.staticplugins.bisto.p7510o.C95732aw;
import com.google.android.apps.gsa.staticplugins.bisto.p7516r.C95850a;
import com.google.android.apps.search.assistant.surfaces.bisto.p9390c.p9391a.C124539a;
import com.google.android.apps.search.assistant.surfaces.bisto.p9390c.p9392b.C124548d;
import com.google.android.apps.search.assistant.surfaces.bisto.p9403d.C124707e;
import com.google.android.apps.search.assistant.surfaces.bisto.p9403d.C124715m;
import com.google.android.libraries.gsa.p1876k.C22871g;
import com.google.android.libraries.gsa.p1876k.C22872h;
import com.google.android.p10712d.C142371cw;
import com.google.android.p10712d.C142372cx;
import com.google.android.p10712d.C142377db;
import com.google.android.p10712d.C142383dh;
import com.google.android.p10712d.C142394ds;
import com.google.android.p10712d.C142417eo;
import com.google.android.p10712d.C142430fa;
import com.google.common.p4522b.C58528ij;
import com.google.common.p4522b.C58758qx;
import com.google.common.p4522b.C58800sl;
import com.google.common.p4526f.C58976aa;
import com.google.common.p4526f.C59052c;
import com.google.common.p4526f.C59071e;
import com.google.common.p4526f.C59104x;
import com.google.common.p4526f.p4527a.C58975e;
import com.google.common.p4552o.C60285mz;
import com.google.common.p4552o.C60290nc;
import com.google.common.util.concurrent.C60826bg;
import com.google.common.util.concurrent.C60856cj;
import com.google.common.util.concurrent.C60866ct;
import com.google.common.util.concurrent.C60870cx;
import com.google.common.util.concurrent.SettableFuture;
import com.google.protobuf.C62921ba;
import com.google.protobuf.C62942bv;
import com.google.protobuf.C62974ct;
import dagger.C68214a;
import java.io.IOException;
import java.io.OutputStream;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.HashSet;
import java.util.Iterator;
import java.util.Set;
import java.util.UUID;
import java.util.concurrent.TimeUnit;
import java.util.concurrent.atomic.AtomicBoolean;
import java.util.concurrent.atomic.AtomicReference;

/* renamed from: com.google.android.apps.gsa.staticplugins.bisto.g.aw */
/* compiled from: PG */
public class C95345aw implements C95346ax, C95418do, C89495cg {

    /* renamed from: a */
    public static final C59071e f266745a = C59071e.m91332i("com.google.android.apps.gsa.staticplugins.bisto.g.aw");

    /* renamed from: A */
    private final Set f266746A = new HashSet();

    /* renamed from: B */
    private boolean f266747B;

    /* renamed from: b */
    public final String f266748b;

    /* renamed from: c */
    public final C95419dp f266749c;

    /* renamed from: d */
    public final C95419dp f266750d;

    /* renamed from: e */
    public final C22871g f266751e;

    /* renamed from: f */
    public final AtomicBoolean f266752f = new AtomicBoolean(true);

    /* renamed from: g */
    public final C95357bh f266753g;

    /* renamed from: h */
    public final C68214a f266754h;

    /* renamed from: i */
    public final C95026a f266755i;

    /* renamed from: j */
    public final AtomicReference f266756j = new AtomicReference();

    /* renamed from: k */
    public final C68214a f266757k;

    /* renamed from: l */
    public final Set f266758l = new HashSet();

    /* renamed from: m */
    public C124715m f266759m;

    /* renamed from: n */
    public C95029a f266760n;

    /* renamed from: o */
    private final C95349b f266761o;

    /* renamed from: p */
    private final C22871g f266762p;

    /* renamed from: q */
    private final C22871g f266763q;

    /* renamed from: r */
    private final C95295ag f266764r;

    /* renamed from: s */
    private final C95732aw f266765s;

    /* renamed from: t */
    private final C89656k f266766t;

    /* renamed from: u */
    private final C95390cn f266767u;

    /* renamed from: v */
    private final C95416dm f266768v;

    /* renamed from: w */
    private final C95065ab f266769w = new C95341as(this);

    /* renamed from: x */
    private final C95039b f266770x = new C95342at(this);

    /* renamed from: y */
    private C95294af f266771y;

    /* renamed from: z */
    private final Set f266772z = new HashSet();

    public C95345aw(C68214a aVar, C95349b bVar, C22871g gVar, C22871g gVar2, C90821bm bmVar, C95295ag agVar, C95426dw dwVar, C95850a aVar2, C95357bh bhVar, C95732aw awVar, C89656k kVar, C95391co coVar, C95416dm dmVar, C68214a aVar3, C124539a aVar4, C95026a aVar5) {
        C22871g gVar3 = gVar;
        C89656k kVar2 = kVar;
        C124539a aVar6 = aVar4;
        C22872h.m42742b(C0826b.class);
        this.f266764r = agVar;
        this.f266747B = false;
        this.f266759m = C124715m.UNKNOWN_CONNECTIVITY_STATUS;
        this.f266751e = gVar3;
        this.f266762p = gVar2;
        this.f266763q = bmVar.mo85163a(C95344av.class);
        this.f266753g = bhVar;
        this.f266765s = awVar;
        this.f266766t = kVar2;
        this.f266754h = aVar;
        this.f266755i = aVar5;
        this.f266768v = dmVar;
        this.f266757k = aVar3;
        C89656k kVar3 = (C89656k) coVar.f266911a.mo17428b();
        kVar3.getClass();
        this.f266767u = new C95390cn(kVar3, this);
        String address = aVar6.f343619a.getAddress();
        this.f266748b = address;
        C124539a aVar7 = aVar4;
        this.f266749c = dwVar.mo89358a(aVar7, "BistoDataSocket", UUID.fromString("f8d1fbe4-7966-4334-8024-ff96c9330e15"), this, this);
        this.f266750d = dwVar.mo89358a(aVar7, "BistoVoiceSocket", UUID.fromString("81c2e72a-0591-443e-a1ff-05f988593351"), this, this);
        this.f266761o = bVar;
        if (kVar2.mo83555j(96)) {
            C89492cd cdVar = (C89492cd) aVar.mo27525b();
            String address2 = aVar6.f343619a.getAddress();
            C60856cj.m92911t(cdVar.mo83408n(address2), new C95343au(this, address2), C60826bg.f164896a);
            cdVar.mo83360B(Collections.singleton(18), new C95338ap(this, address2));
        } else {
            new C90873ag(((C89492cd) aVar.mo27525b()).mo83408n(address), gVar3, "getDeviceInfo", new C95328af(this)).mo85223a(new C95329ag(this));
            HashSet g = C58758qx.m90649g(2);
            Collections.addAll(g, new Integer[]{18, 3});
            ((C89492cd) aVar.mo27525b()).mo83360B(g, this);
        }
        C58976aa aaVar = C58975e.f156826a;
        aVar2.f268408a.add(this);
    }

    /* renamed from: C */
    public final boolean mo89256C() {
        return false;
    }

    /* renamed from: D */
    public C60870cx mo89257D(int i, int i2, byte[] bArr) {
        return this.f266763q.mo28201a("sendAsync", new C95330ah(this, i, i2, bArr));
    }

    /* renamed from: E */
    public boolean mo89254E(String str, int i, int i2, byte[] bArr) {
        boolean z;
        int i3;
        String str2 = str;
        int i4 = i2;
        byte[] bArr2 = bArr;
        int i5 = 6;
        int i6 = i;
        if (i6 == 6) {
            this.f266765s.mo89254E(str2, 6, i4, bArr2);
            z = true;
        } else {
            i5 = i6;
            z = false;
        }
        C95416dm dmVar = this.f266768v;
        if (i5 == 2 && i4 == 11) {
            try {
                C142372cx cxVar = (C142372cx) C62942bv.parseFrom((C62942bv) C142372cx.f386324d, bArr2, C62921ba.m95368a());
                long millis = (cxVar.f386326a & 2) != 0 ? (long) cxVar.f386328c : C95416dm.f266978b.toMillis();
                C95373bx bxVar = (C95373bx) dmVar.f266979c.mo27525b();
                C142371cw a = C142371cw.m231070a(cxVar.f386327b);
                if (a == null) {
                    a = C142371cw.ROLE_CHANGE_NONE;
                }
                boolean z2 = (cxVar.f386326a & 2) != 0;
                C58976aa aaVar = C58975e.f156826a;
                if (bxVar.f266874d != null) {
                    C59104x c = C95373bx.f266871a.mo56225c();
                    c.mo56378ag(C58975e.f156826a, "BistoTwsLogger");
                    ((C59052c) ((C59052c) c).mo56372aa(14977)).mo56386p("roleChangeRequestReceived when reconnecting.");
                } else {
                    bxVar.f266874d = (C60285mz) C60290nc.f163102j.createBuilder();
                    long j = millis;
                    bxVar.f266873c = bxVar.f266872b.mo26871c();
                    int ordinal = a.ordinal();
                    if (ordinal == 0) {
                        i3 = 1;
                    } else if (ordinal == 1) {
                        i3 = 2;
                    } else if (ordinal == 2) {
                        i3 = 3;
                    } else if (ordinal == 3) {
                        i3 = 4;
                    } else if (ordinal != 4) {
                        C59104x c2 = C95373bx.f266871a.mo56225c();
                        c2.mo56378ag(C58975e.f156826a, "BistoTwsLogger");
                        ((C59052c) ((C59052c) c2).mo56372aa(14976)).mo56389s("Unknown type: %s", a);
                        bxVar.f266874d = null;
                        millis = j;
                    } else {
                        i3 = 5;
                    }
                    C60285mz mzVar = bxVar.f266874d;
                    if (mzVar != null) {
                        mzVar.copyOnWrite();
                        C60290nc ncVar = (C60290nc) mzVar.instance;
                        ncVar.f163105b = i3 - 1;
                        ncVar.f163104a |= 1;
                        C60285mz mzVar2 = bxVar.f266874d;
                        millis = j;
                        mzVar2.copyOnWrite();
                        C60290nc ncVar2 = (C60290nc) mzVar2.instance;
                        ncVar2.f163104a |= 2;
                        ncVar2.f163106c = (int) millis;
                        C60285mz mzVar3 = bxVar.f266874d;
                        mzVar3.copyOnWrite();
                        C60290nc ncVar3 = (C60290nc) mzVar3.instance;
                        ncVar3.f163104a |= 4;
                        ncVar3.f163107d = z2;
                        C60285mz mzVar4 = bxVar.f266874d;
                        int i7 = bxVar.f266875e;
                        mzVar4.copyOnWrite();
                        C60290nc ncVar4 = (C60290nc) mzVar4.instance;
                        int i8 = i7 - 1;
                        if (i7 != 0) {
                            ncVar4.f163112i = i8;
                            ncVar4.f163104a |= 64;
                        } else {
                            throw null;
                        }
                    }
                    millis = j;
                }
                C142371cw a2 = C142371cw.m231070a(cxVar.f386327b);
                if (a2 == null) {
                    a2 = C142371cw.ROLE_CHANGE_NONE;
                }
                if (a2.equals(C142371cw.ROLE_CHANGE_FORCE)) {
                    C59104x d = C95416dm.f266977a.mo56226d();
                    d.mo56378ag(C58975e.f156826a, "TwsRsActionLogHandler");
                    ((C59052c) ((C59052c) d).mo56372aa(15027)).mo56388r("TWS role change request with delay: %d", millis);
                } else {
                    C59104x c3 = C95416dm.f266977a.mo56225c();
                    c3.mo56378ag(C58975e.f156826a, "TwsRsActionLogHandler");
                    C59052c cVar = (C59052c) ((C59052c) c3).mo56372aa(15025);
                    C142371cw a3 = C142371cw.m231070a(cxVar.f386327b);
                    if (a3 == null) {
                        a3 = C142371cw.ROLE_CHANGE_NONE;
                    }
                    cVar.mo56389s("TWS role change request not supported: %s", a3);
                    ((C95373bx) dmVar.f266979c.mo27525b()).mo89315a();
                }
            } catch (C62974ct e) {
                C59104x c4 = C95416dm.f266977a.mo56225c();
                c4.mo56378ag(C58975e.f156826a, "TwsRsActionLogHandler");
                ((C59052c) ((C59052c) ((C59052c) c4).mo56382g(e)).mo56372aa(15026)).mo56386p("Error in role change proto");
            }
            i4 = 11;
            z = true;
        }
        HashSet hashSet = new HashSet();
        hashSet.addAll(this.f266746A);
        Iterator it = hashSet.iterator();
        while (it.hasNext()) {
            z |= ((C95352bc) it.next()).mo89254E(str2, i5, i4, bArr2);
        }
        C95029a aVar = this.f266760n;
        if (aVar != null) {
            if (i5 == 0) {
                throw null;
            } else if (i5 == 2) {
                if (i4 == 2) {
                    try {
                        C62921ba a4 = C62921ba.m95368a();
                        C58976aa aaVar2 = C58975e.f156826a;
                        ((C95038ai) aVar).f265885h.mo88947b((C142383dh) C62942bv.parseFrom((C62942bv) C142383dh.f386354m, bArr2, a4));
                        return true;
                    } catch (C62974ct e2) {
                        C59104x c5 = f266745a.mo56225c();
                        c5.mo56378ag(C58975e.f156826a, "BistoBluetoothDevice");
                        ((C59052c) ((C59052c) ((C59052c) c5).mo56382g(e2)).mo56372aa(14947)).mo56386p("Invalid proto");
                    }
                } else if (i4 == 3) {
                    C58976aa aaVar3 = C58975e.f156826a;
                    ((C95038ai) aVar).f265885h.mo88948e();
                    return true;
                } else if (i4 == 4) {
                    byte[] N = ((C142377db) C62942bv.parseFrom((C62942bv) C142377db.f386340b, bArr2, C62921ba.m95368a())).f386342a.mo59174N();
                    C58976aa aaVar4 = C58975e.f156826a;
                    ((C95038ai) aVar).f265885h.mo88946a(N);
                    return true;
                }
            }
        }
        return z;
    }

    /* renamed from: F */
    public final boolean mo89258F(int i, int i2, byte[] bArr) {
        C124548d dVar;
        int length;
        if (i2 == 6) {
            if (i == 9) {
                C59104x b = f266745a.mo56224b();
                b.mo56378ag(C58975e.f156826a, "BistoBluetoothDevice");
                ((C59052c) ((C59052c) b).mo56372aa(14949)).mo56389s("Send mic control command to device with bytes %s", Arrays.toString(bArr));
                i = 9;
            }
            i2 = 6;
        }
        if (!this.f266766t.mo83555j(96)) {
            if (i == 0) {
                throw null;
            } else if (!(i == 3 || (dVar = (C124548d) this.f266756j.get()) == null || dVar.mo106470K().intValue() >= (length = bArr.length + 4))) {
                C59104x c = f266745a.mo56225c();
                c.mo56378ag(C58975e.f156826a, "BistoBluetoothDevice");
                ((C59052c) ((C59052c) c).mo56372aa(14948)).mo56395y("Dropping message; it is too large. Size: %d, max size: %d", length, dVar.mo106470K());
                return false;
            }
        }
        C95425dv dvVar = (C95425dv) this.f266749c;
        if (dvVar.f266993d.mo83553h("bistoDeeperSocketLogging")) {
            String str = dvVar.f266998i;
            int i3 = i - 1;
            if (i != 0) {
                C59104x b2 = C95710aa.f267964a.mo56224b();
                b2.mo56378ag(C58975e.f156826a, "DeviceLog");
                ((C59052c) ((C59052c) b2).mo56372aa(15227)).mo56361N("Sending message: deviceId=%s, group=%d, type=%d, length=%d bytes=%s", str, Integer.valueOf(i3), Integer.valueOf(i2), Integer.valueOf(bArr.length), C95710aa.m158487a(bArr));
            } else {
                throw null;
            }
        }
        C89644ba baVar = dvVar.f266997h;
        int i4 = i - 1;
        if (i != 0) {
            int length2 = bArr.length;
            C58976aa aaVar = C58975e.f156826a;
            if (length2 > 65536 || i2 < 0 || i2 > 255) {
                C59104x c2 = C89644ba.f242727b.mo56225c();
                c2.mo56378ag(C58975e.f156826a, "ProtoExchangeSocketImpl");
                ((C59052c) ((C59052c) c2).mo56372aa(10315)).mo56386p("Cannot form correct header");
                return false;
            }
            C89653h hVar = (C89653h) baVar.f242734g.get();
            if (hVar == null) {
                C59104x c3 = C89644ba.f242727b.mo56225c();
                c3.mo56378ag(C58975e.f156826a, "ProtoExchangeSocketImpl");
                ((C59052c) ((C59052c) c3).mo56372aa(10319)).mo56386p("Socket disconnected, can't send");
                return false;
            }
            try {
                if (hVar.f242762c == null) {
                    C59104x b3 = C89653h.f242760a.mo56224b();
                    b3.mo56378ag(C58975e.f156826a, "CachedBluetoothSocket");
                    ((C59052c) ((C59052c) b3).mo56372aa(10209)).mo56386p("Caching output stream");
                    hVar.f242762c = hVar.f242763d.f343621b.getOutputStream();
                }
                OutputStream outputStream = hVar.f242762c;
                if (outputStream == null) {
                    C59104x c4 = C89644ba.f242727b.mo56225c();
                    c4.mo56378ag(C58975e.f156826a, "ProtoExchangeSocketImpl");
                    ((C59052c) ((C59052c) c4).mo56372aa(10318)).mo56386p("Error getting stream");
                    return false;
                }
                synchronized (baVar) {
                    outputStream.write(C89624av.m145868a(i4, i2, length2));
                    outputStream.write(bArr);
                }
                if (!baVar.f242735h.mo83498c(i4, i2)) {
                    outputStream.flush();
                }
                baVar.mo83531e(2, i4, i2, bArr);
                return true;
            } catch (IOException e) {
                C59104x c5 = C89644ba.f242727b.mo56225c();
                c5.mo56378ag(C58975e.f156826a, "ProtoExchangeSocketImpl");
                ((C59052c) ((C59052c) ((C59052c) c5).mo56382g(e)).mo56372aa(10316)).mo56395y("Error writing stream with messageType %d, bytes %s", i2, Arrays.toString(bArr));
                return false;
            } catch (RuntimeException e2) {
                C59104x c6 = C89644ba.f242727b.mo56225c();
                c6.mo56378ag(C58975e.f156826a, "ProtoExchangeSocketImpl");
                ((C59052c) ((C59052c) ((C59052c) c6).mo56382g(e2)).mo56372aa(10317)).mo56395y("Error with messageType %d, bytes %s", i2, Arrays.toString(bArr));
                throw e2;
            }
        } else {
            throw null;
        }
    }

    /* access modifiers changed from: protected */
    /* renamed from: a */
    public final C124715m mo89259a() {
        boolean b = this.f266761o.mo89283b();
        boolean a = this.f266761o.mo89282a(this.f266749c);
        boolean w = mo89278w();
        if (w) {
            if (a || !this.f266752f.get()) {
                return C124715m.FULLY_CONNECTED;
            }
        } else if (a) {
            return C124715m.AUDIO_ONLY;
        }
        if (w) {
            return C124715m.DATA_ONLY;
        }
        if (!b) {
            return C124715m.DATA_DISCONNECTED_AUDIO_UNKNOWN;
        }
        return C124715m.NOT_CONNECTED;
    }

    /* renamed from: b */
    public final C95065ab mo89260b() {
        return this.f266769w;
    }

    /* renamed from: c */
    public final C95039b mo89261c() {
        return this.f266770x;
    }

    public void close() {
        C59104x b = f266745a.mo56224b();
        b.mo56378ag(C58975e.f156826a, "BistoBluetoothDevice");
        ((C59052c) ((C59052c) b).mo56372aa(14937)).mo56386p("close");
        if (!this.f266766t.mo83555j(96)) {
            ((C89492cd) this.f266754h.mo27525b()).mo83379U(this);
        }
        mo89263d();
        C58800sl lA = C58528ij.m90006F(this.f266758l).iterator();
        while (lA.hasNext()) {
            ((C60870cx) lA.next()).cancel(false);
        }
        this.f266772z.clear();
        this.f266746A.clear();
        C95420dq.m157796a(((C95425dv) this.f266750d).f266995f, this);
        C95420dq.m157796a(((C95425dv) this.f266749c).f266995f, this);
        this.f266760n = null;
        mo89265f("close");
    }

    /* renamed from: d */
    public C124715m mo89263d() {
        C58976aa aaVar = C58975e.f156826a;
        C124715m a = mo89259a();
        this.f266751e.mo28212l("update-database", new C95327ae(this, a));
        return a;
    }

    /* renamed from: e */
    public C60870cx mo89264e() {
        C59071e eVar = f266745a;
        C59104x b = eVar.mo56224b();
        b.mo56378ag(C58975e.f156826a, "BistoBluetoothDevice");
        ((C59052c) ((C59052c) b).mo56372aa(14929)).mo56386p("connect");
        if (mo89278w()) {
            C59104x b2 = eVar.mo56224b();
            b2.mo56378ag(C58975e.f156826a, "BistoBluetoothDevice");
            ((C59052c) ((C59052c) b2).mo56372aa(14930)).mo56386p("already connected");
            mo89268i();
            return C60866ct.f164955a;
        }
        this.f266771y = this.f266764r.mo89222a();
        ArrayList arrayList = new ArrayList();
        ArrayList arrayList2 = new ArrayList();
        if (((C95425dv) this.f266749c).f266997h.mo83530d()) {
            C59104x b3 = eVar.mo56224b();
            b3.mo56378ag(C58975e.f156826a, "BistoBluetoothDevice");
            ((C59052c) ((C59052c) b3).mo56372aa(14932)).mo56386p("Disconnecting data socket before reconnection");
            arrayList2.add(((C95425dv) this.f266749c).f266997h.mo83533h());
        }
        if (((C95425dv) this.f266750d).f266997h.mo83530d()) {
            C59104x b4 = eVar.mo56224b();
            b4.mo56378ag(C58975e.f156826a, "BistoBluetoothDevice");
            ((C59052c) ((C59052c) b4).mo56372aa(14931)).mo56386p("Disconnecting voice socket before reconnection");
            arrayList2.add(((C95425dv) this.f266750d).f266997h.mo83533h());
        }
        C60870cx a = C60856cj.m92892a(arrayList2).mo57334a(C95339aq.f266739a, C60826bg.f164896a);
        arrayList.add(this.f266751e.mo28210j(a, "connectAfterDisconnect", new C95340ar(this)));
        arrayList.add(this.f266751e.mo28210j(a, "connectAfterDisconnect", new C95323aa(this)));
        return C60856cj.m92892a(arrayList).mo57335b(new C95324ab(this, arrayList), C60826bg.f164896a);
    }

    /* renamed from: f */
    public C60870cx mo89265f(String str) {
        C59104x b = f266745a.mo56224b();
        b.mo56378ag(C58975e.f156826a, "BistoBluetoothDevice");
        ((C59052c) ((C59052c) b).mo56372aa(14933)).mo56389s("disconnect %s", str);
        return C60856cj.m92894c(Arrays.asList(new C60870cx[]{((C95425dv) this.f266750d).f266997h.mo83533h(), ((C95425dv) this.f266749c).f266997h.mo83533h()})).mo57334a(C95325ac.f266710a, C60826bg.f164896a);
    }

    /* renamed from: fW */
    public final void mo17874fW(String str, Set set, long j, C124548d dVar) {
        if (this.f266748b.equals(str)) {
            if (set.contains(18)) {
                this.f266752f.set(dVar.mo106508g() != C124707e.INPUT_ONLY_MODE);
                mo89263d();
            }
            this.f266756j.set(dVar);
        }
    }

    /* renamed from: g */
    public C60870cx mo89266g(long j) {
        C59104x b = f266745a.mo56224b();
        b.mo56378ag(C58975e.f156826a, "BistoBluetoothDevice");
        ((C59052c) ((C59052c) b).mo56372aa(14934)).mo56353F("TWS DRS %s. Reconnect after %d ms", this.f266748b, j);
        return this.f266751e.mo28209i(this.f266751e.mo28210j(mo89265f("TWS reconnect"), "Reconnect", new C95331ai(this, j)), "initDevice", new C95332aj(this));
    }

    /* renamed from: h */
    public final C60870cx mo89267h(C95393cq cqVar, int i, C95354be beVar) {
        SettableFuture settableFuture = new SettableFuture();
        C95337ao aoVar = new C95337ao(this, cqVar, i, beVar, settableFuture);
        C95453z zVar = new C95453z(this, settableFuture);
        mo89274o(zVar);
        mo89273n(aoVar);
        C60870cx D = mo89257D(cqVar.mo89335e(), cqVar.mo89331a(), cqVar.mo89334d());
        new C90873ag(D, this.f266751e, "sending request", new C95333ak(settableFuture)).mo85223a(new C95334al(settableFuture));
        C60870cx e = C90877ak.m148471e(settableFuture, cqVar.mo89332b().toMillis(), TimeUnit.MILLISECONDS, this.f266762p);
        this.f266758l.add(e);
        C95335am amVar = new C95335am(this, D, zVar, aoVar, e);
        C90873ag b = C90875ai.m148465b(amVar, e, this.f266751e, "cleaning up device request");
        b.mo85225c(RuntimeException.class, amVar);
        b.mo85223a(new C95336an(cqVar, amVar));
        return e;
    }

    /* renamed from: i */
    public final void mo89268i() {
        C58976aa aaVar = C58975e.f156826a;
        mo89257D(6, 12, C142430fa.f386495a.toByteArray());
        this.f266753g.mo89291d(this);
        mo89257D(5, 4, C142417eo.f386441a.toByteArray());
        this.f266753g.mo89290c(this);
        mo89257D(5, 19, C142394ds.f386396a.toByteArray());
        mo89257D(2, 7, this.f266753g.f266787d.mo83547b().toByteArray());
    }

    /* renamed from: j */
    public void mo89269j(C95419dp dpVar) {
        C95294af afVar;
        mo89263d();
        boolean w = mo89278w();
        C58976aa aaVar = C58975e.f156826a;
        boolean z = this.f266747B;
        this.f266747B = w;
        if (w && (afVar = this.f266771y) != null) {
            afVar.mo89220a(C95457c.f267107g);
            this.f266771y = null;
        }
        if (z != w) {
            boolean w2 = mo89278w();
            Iterator it = new HashSet(this.f266772z).iterator();
            while (it.hasNext()) {
                ((C95353bd) it.next()).mo89286ip(this.f266748b, w2);
            }
        }
    }

    /* renamed from: k */
    public final String mo89270k() {
        return this.f266748b;
    }

    /* renamed from: l */
    public final void mo89271l() {
        mo89263d();
    }

    /* renamed from: m */
    public final boolean mo89272m() {
        return this.f266752f.get();
    }

    /* renamed from: n */
    public final void mo89273n(C95352bc bcVar) {
        this.f266746A.add(bcVar);
    }

    /* renamed from: o */
    public final void mo89274o(C95353bd bdVar) {
        this.f266772z.add(bdVar);
    }

    /* renamed from: p */
    public final void mo89275p(C95352bc bcVar) {
        if (this.f266746A.remove(bcVar)) {
            C58976aa aaVar = C58975e.f156826a;
            return;
        }
        C59104x c = f266745a.mo56225c();
        c.mo56378ag(C58975e.f156826a, "BistoBluetoothDevice");
        ((C59052c) ((C59052c) c).mo56372aa(14942)).mo56389s("%s message callback not removed - not registered", bcVar);
    }

    /* renamed from: q */
    public final void mo89276q(C95353bd bdVar) {
        if (this.f266772z.remove(bdVar)) {
            C58976aa aaVar = C58975e.f156826a;
            return;
        }
        C59104x c = f266745a.mo56225c();
        c.mo56378ag(C58975e.f156826a, "BistoBluetoothDevice");
        ((C59052c) ((C59052c) c).mo56372aa(14944)).mo56389s("%s connection callback not removed - not registered", bdVar);
    }

    /* renamed from: r */
    public final void mo89277r(int i) {
        this.f266767u.mo89325c(i);
    }

    /* renamed from: w */
    public boolean mo89278w() {
        return ((C95425dv) this.f266749c).f266997h.mo83530d() && ((C95425dv) this.f266750d).f266997h.mo83530d();
    }

    /* renamed from: x */
    public final /* synthetic */ boolean mo89279x() {
        return C95350ba.m157635a(this);
    }

    /* renamed from: y */
    public final /* synthetic */ boolean mo89280y() {
        return false;
    }
}
