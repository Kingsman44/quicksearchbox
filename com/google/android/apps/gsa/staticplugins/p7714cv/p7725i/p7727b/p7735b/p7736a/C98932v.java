package com.google.android.apps.gsa.staticplugins.p7714cv.p7725i.p7727b.p7735b.p7736a;

import android.text.SpannedString;
import android.text.TextUtils;
import android.util.Pair;
import com.evernote.android.state.BuildConfig;
import com.google.android.apps.gsa.assistant.shared.k;
import com.google.android.apps.gsa.p8883x.C118826c;
import com.google.android.apps.gsa.p8889z.p8893c.p8899f.C118895a;
import com.google.android.apps.gsa.p8889z.p8909e.p8910a.C119053i;
import com.google.android.apps.gsa.p8889z.p8909e.p8910a.C119067w;
import com.google.android.apps.gsa.p8889z.p8909e.p8910a.p8912b.C118962c;
import com.google.android.apps.gsa.p8889z.p8909e.p8910a.p8912b.C118978s;
import com.google.android.apps.gsa.search.core.carassistant.p6780c.C85700a;
import com.google.android.apps.gsa.search.core.google.C85929cw;
import com.google.android.apps.gsa.search.core.p6507ag.p6508a.C84474e;
import com.google.android.apps.gsa.search.core.p6805i.C86124t;
import com.google.android.apps.gsa.search.core.p6816p.C86195ae;
import com.google.android.apps.gsa.search.core.p6816p.C86217b;
import com.google.android.apps.gsa.search.core.p6816p.C86227bj;
import com.google.android.apps.gsa.search.core.p6816p.C86245ca;
import com.google.android.apps.gsa.search.core.p6816p.C86246cb;
import com.google.android.apps.gsa.search.shared.actions.ActionData;
import com.google.android.apps.gsa.shared.logger.C89949q;
import com.google.android.apps.gsa.shared.logger.C89956x;
import com.google.android.apps.gsa.shared.logger.p7051b.C89849ae;
import com.google.android.apps.gsa.shared.logger.p7051b.C89856f;
import com.google.android.apps.gsa.shared.logger.p7051b.C89859i;
import com.google.android.apps.gsa.shared.logger.p7054d.C89885b;
import com.google.android.apps.gsa.shared.p6968aa.C89067w;
import com.google.android.apps.gsa.shared.p7066m.C90014bt;
import com.google.android.apps.gsa.shared.p7066m.C90082eg;
import com.google.android.apps.gsa.shared.p7066m.C90086ek;
import com.google.android.apps.gsa.shared.p7066m.C90126fx;
import com.google.android.apps.gsa.shared.p7127q.C90457d;
import com.google.android.apps.gsa.shared.p7130s.p7131a.C90476a;
import com.google.android.apps.gsa.shared.p7130s.p7133b.C90479a;
import com.google.android.apps.gsa.shared.search.Query;
import com.google.android.apps.gsa.shared.speech.C90606n;
import com.google.android.apps.gsa.shared.speech.C90607o;
import com.google.android.apps.gsa.shared.speech.HotwordResultMetadata;
import com.google.android.apps.gsa.shared.speech.p7139a.C90510b;
import com.google.android.apps.gsa.shared.speech.p7139a.C90528t;
import com.google.android.apps.gsa.shared.util.C90719ac;
import com.google.android.apps.gsa.shared.util.p7158b.C90755l;
import com.google.android.apps.gsa.shared.util.p7159c.C90873ag;
import com.google.android.apps.gsa.shared.util.p7159c.C90931ca;
import com.google.android.apps.gsa.speech.p7294j.C92436f;
import com.google.android.libraries.gsa.p1876k.C22871g;
import com.google.android.libraries.gsa.p1929o.p1930a.C23319a;
import com.google.android.libraries.p1730f.C21370a;
import com.google.android.libraries.search.logging.p3043f.C39191a;
import com.google.assistant.p3897e.p3910e.p3911a.C51195j;
import com.google.assistant.p3897e.p3910e.p3911a.C51197l;
import com.google.common.base.C58833ax;
import com.google.common.base.C58881cr;
import com.google.common.p4522b.C58485gu;
import com.google.common.p4526f.C58976aa;
import com.google.common.p4526f.C59052c;
import com.google.common.p4526f.C59071e;
import com.google.common.p4526f.C59104x;
import com.google.common.p4526f.p4527a.C58975e;
import com.google.common.p4552o.C59582aj;
import com.google.common.p4552o.C59687cb;
import com.google.common.p4552o.C60321oe;
import com.google.common.p4552o.C60420po;
import com.google.common.p4552o.C60421pp;
import com.google.common.p4552o.C60548tz;
import com.google.common.p4552o.C60555uf;
import com.google.common.util.concurrent.C60826bg;
import com.google.common.util.concurrent.C60866ct;
import com.google.common.util.concurrent.C60870cx;
import com.google.common.util.concurrent.SettableFuture;
import com.google.p4017at.p4060h.p4068b.p4069a.C54196m;
import com.google.p4500cm.p4514b.C58170d;
import com.google.protobuf.C63088z;
import com.google.protos.p4816ai.p4818b.C63196b;
import com.google.speech.p5208h.C66565av;
import com.google.speech.p5208h.C66624cv;
import com.google.speech.p5208h.C66674h;
import com.google.speech.p5230n.p5232b.C67400ap;
import com.google.speech.recognizer.p5233a.C67437af;
import com.google.speech.recognizer.p5233a.C67438ag;
import com.google.speech.recognizer.p5233a.C67442ak;
import dagger.C68214a;

/* renamed from: com.google.android.apps.gsa.staticplugins.cv.i.b.b.a.v */
/* compiled from: PG */
public final class C98932v extends C92436f {

    /* renamed from: a */
    public static final C59071e f276474a = C59071e.m91332i("com.google.android.apps.gsa.staticplugins.cv.i.b.b.a.v");

    /* renamed from: A */
    private boolean f276475A;

    /* renamed from: B */
    private C60870cx f276476B;

    /* renamed from: C */
    private C60870cx f276477C;

    /* renamed from: D */
    private boolean f276478D;

    /* renamed from: b */
    final C98909aa f276479b;

    /* renamed from: c */
    final C86195ae f276480c;

    /* renamed from: d */
    protected final C119067w f276481d;

    /* renamed from: e */
    protected final Query f276482e;

    /* renamed from: f */
    public final int f276483f;

    /* renamed from: g */
    public final C23319a f276484g = new C23319a();

    /* renamed from: h */
    public final long f276485h;

    /* renamed from: i */
    public final C119053i f276486i;

    /* renamed from: j */
    public final C98933w f276487j;

    /* renamed from: k */
    C86227bj f276488k;

    /* renamed from: l */
    boolean f276489l;

    /* renamed from: m */
    public boolean f276490m = false;

    /* renamed from: n */
    public boolean f276491n = false;

    /* renamed from: o */
    long f276492o;

    /* renamed from: p */
    private final C21370a f276493p;

    /* renamed from: q */
    private final C68214a f276494q;

    /* renamed from: r */
    private final C89859i f276495r;

    /* renamed from: s */
    private final C58833ax f276496s;

    /* renamed from: t */
    private final C86124t f276497t;

    /* renamed from: u */
    private final C85929cw f276498u;

    /* renamed from: v */
    private final C22871g f276499v;

    /* renamed from: w */
    private final C68214a f276500w;

    /* renamed from: x */
    private final boolean f276501x;

    /* renamed from: y */
    private final C58833ax f276502y;

    /* renamed from: z */
    private final SettableFuture f276503z;

    public C98932v(C119067w wVar, C98909aa aaVar, Query query, C68214a aVar, C89859i iVar, C58833ax axVar, C90931ca caVar, C22871g gVar, C21370a aVar2, C84474e eVar, C86124t tVar, boolean z, int i, long j, C85929cw cwVar, C89067w wVar2, C86195ae aeVar, C68214a aVar3, C90476a aVar4, C90479a aVar5, C119053i iVar2, C58833ax axVar2, C98933w wVar3) {
        Query query2 = query;
        boolean z2 = z;
        C85929cw cwVar2 = cwVar;
        C60870cx cxVar = C60866ct.f164955a;
        this.f276476B = cxVar;
        this.f276477C = cxVar;
        this.f276478D = false;
        this.f276492o = 0;
        this.f276481d = wVar;
        this.f276479b = aaVar;
        this.f276482e = query2;
        this.f276499v = gVar;
        this.f276493p = aVar2;
        C68214a aVar6 = aVar;
        this.f276494q = aVar6;
        C89859i iVar3 = iVar;
        this.f276495r = iVar3;
        this.f276496s = axVar;
        this.f276497t = tVar;
        this.f276501x = z2;
        this.f276483f = i;
        this.f276485h = j;
        this.f276498u = cwVar2;
        this.f276480c = aeVar;
        this.f276500w = aVar3;
        this.f276503z = new SettableFuture();
        this.f276486i = iVar2;
        this.f276502y = axVar2;
        this.f276487j = wVar3;
        C58881cr A = cwVar2.mo79560A(query2);
        C89956x xVar = new C89956x(query2.f252749G, C90719ac.f253778a.f253779b.nextLong());
        this.f276490m = true;
        C86246cb c = C86245ca.m138883c(query2, aVar2.mo26871c(), aVar6, iVar3, aVar3, tVar);
        if (!z2) {
            c.mo79921al(ActionData.f235991b);
        }
        this.f276488k = new C86227bj(c, caVar, eVar, tVar, xVar, A, wVar2, aVar2, aeVar, aVar3, aVar4, aVar5);
    }

    /* renamed from: x */
    private final void m163922x() {
        C86227bj bjVar;
        if (!this.f276486i.f332140a.f332120a.f232931a.isDone() && (bjVar = this.f276488k) != null) {
            this.f276486i.f332140a.f332120a.mo79832b(bjVar.f233010k);
        }
    }

    /* renamed from: a */
    public final void mo87095a(C90528t tVar) {
        C58976aa aaVar = C58975e.f156826a;
        this.f276491n = true;
        this.f276487j.mo91338e();
        if (this.f276482e.mo84370cC()) {
            mo91351v(C89849ae.OPA_SOUND_SEARCH_ERROR);
        }
        if (tVar instanceof C90510b) {
            C59104x b = f276474a.mo56224b();
            b.mo56378ag(C58975e.f156826a, "CarEngineCallback");
            ((C59052c) ((C59052c) b).mo56372aa(31310)).mo56386p("No recognizers available.");
        }
        C86227bj bjVar = this.f276488k;
        if (bjVar != null) {
            bjVar.mo79855H(tVar);
        }
        this.f276480c.mo79828a(false);
        String sb = this.f276484g.f63816a.toString();
        if (!TextUtils.isEmpty(sb)) {
            C59104x c = f276474a.mo56225c();
            c.mo56378ag(C58975e.f156826a, "CarEngineCallback");
            ((C59052c) ((C59052c) c).mo56372aa(31309)).mo56389s("Got error after recognizing [%s]", sb);
        }
        C86227bj bjVar2 = this.f276488k;
        C86246cb cbVar = bjVar2 != null ? bjVar2.f233010k : null;
        mo91350u(false);
        m163921w(this.f276482e, new C98929s(this, tVar, cbVar), "handle error");
    }

    /* renamed from: b */
    public final void mo87096b() {
        C58976aa aaVar = C58975e.f156826a;
        this.f276491n = true;
        this.f276487j.mo91338e();
        if (!this.f276486i.f332140a.f332126g.f232931a.isDone()) {
            this.f276486i.f332140a.mo104089a();
        }
        C86227bj bjVar = this.f276488k;
        if (bjVar != null) {
            bjVar.mo79842z(new C90457d("Cancelled.", (int) C89885b.S3_CANCELLED_VALUE));
            C86246cb cbVar = this.f276488k.f233010k;
            cbVar.mo79921al(ActionData.f235991b);
            if (!this.f276486i.f332140a.f332120a.f232931a.isDone()) {
                this.f276486i.f332140a.f332120a.mo79832b(cbVar);
            }
        }
        mo91350u(true);
        if (!this.f276486i.f332140a.f332120a.f232931a.isDone()) {
            C86246cb a = C86245ca.m138881a(this.f276482e, this.f276493p.mo26871c(), this.f276494q, this.f276495r, this.f276500w, this.f276497t);
            a.mo79840k(new C90457d("Cancelled.", (int) C89885b.S3_CANCELLED_VALUE));
            a.mo79921al(ActionData.f235991b);
            this.f276486i.f332140a.f332120a.mo79832b(a);
        }
        m163921w(this.f276482e, new C98928r(this), "handle done");
    }

    /* renamed from: c */
    public final void mo87097c(C66674h hVar) {
        C58976aa aaVar = C58975e.f156826a;
        C86227bj bjVar = this.f276488k;
        if (bjVar != null) {
            bjVar.mo79849B(hVar);
        }
    }

    /* renamed from: d */
    public final void mo87098d(C51195j jVar) {
        C58976aa aaVar = C58975e.f156826a;
        mo91351v(C89849ae.ASSISTANT_RESULT_DOWNLOADED);
        if (this.f276479b.mo91332j(this.f276483f)) {
            if (k.c(jVar)) {
                this.f276481d.mo91377b(jVar.toByteString());
            } else if (this.f276482e.mo84370cC()) {
                if (C86217b.m138692b(jVar)) {
                    mo91351v(C89849ae.OPA_SOUND_SEARCH_SUCCESS);
                } else {
                    mo91351v(C89849ae.OPA_SOUND_SEARCH_FAILURE);
                }
                C86227bj bjVar = this.f276488k;
                if (bjVar != null) {
                    bjVar.f233010k.mo79923an(this.f276482e);
                    bjVar.f233010k.mo79927ar(this.f276482e);
                    bjVar.f233020b = this.f276498u.mo79560A(this.f276482e);
                }
                C86227bj bjVar2 = this.f276488k;
                if (bjVar2 != null) {
                    bjVar2.mo79850C(jVar);
                }
                if (!jVar.f133276k) {
                    this.f276503z.mo57356n(C118826c.f331422a);
                }
                C86227bj bjVar3 = this.f276488k;
                this.f276503z.mo4106b(new C98919i(this, bjVar3 != null ? bjVar3.f233010k : null), C60826bg.f164896a);
            } else {
                C86227bj bjVar4 = this.f276488k;
                if (bjVar4 != null) {
                    bjVar4.mo79850C(jVar);
                }
            }
        }
    }

    /* renamed from: e */
    public final void mo87099e(C51197l lVar) {
        C58976aa aaVar = C58975e.f156826a;
        if (!this.f276475A) {
            mo91351v(C89849ae.OPA_WEBVIEW_FIRST_BYTE_RECEIVED);
        }
        this.f276475A = true;
        if ((lVar.f133285a & 8) != 0 && lVar.f133288d) {
            mo91351v(C89849ae.OPA_WEBVIEW_LAST_BYTE_RECEIVED);
        }
        C86227bj bjVar = this.f276488k;
        if (bjVar != null) {
            bjVar.mo79851D(lVar);
        }
    }

    /* renamed from: f */
    public final void mo87100f() {
        C58976aa aaVar = C58975e.f156826a;
        if (this.f276496s.mo56113h()) {
            ((C85700a) this.f276496s.mo56107c()).mo79322d(C89849ae.TTS_RESPONSE_FIRST_BYTE);
        }
        mo91351v(C89849ae.TTS_RESPONSE_FIRST_BYTE);
    }

    /* renamed from: g */
    public final void mo87101g(C90607o oVar) {
        C58976aa aaVar = C58975e.f156826a;
        if (this.f276496s.mo56113h()) {
            ((C85700a) this.f276496s.mo56107c()).mo79322d(C89849ae.SPEECH_START_RECEIVED);
        }
        mo91351v(C89849ae.SPEECH_START_RECEIVED);
        this.f276479b.mo91323a(oVar);
    }

    /* renamed from: h */
    public final void mo87102h(C58170d dVar) {
        C58976aa aaVar = C58975e.f156826a;
        C86227bj bjVar = this.f276488k;
        if (bjVar != null) {
            bjVar.mo79852E(dVar);
        }
    }

    /* renamed from: i */
    public final void mo87103i(C66624cv cvVar) {
        C58976aa aaVar = C58975e.f156826a;
        if (!cvVar.f181252c) {
            this.f276480c.f232926b = cvVar;
        } else {
            this.f276480c.mo79829b(cvVar);
        }
    }

    /* renamed from: j */
    public final void mo87104j() {
        C58976aa aaVar = C58975e.f156826a;
        this.f276491n = true;
        this.f276476B.cancel(true);
        this.f276477C.cancel(true);
        this.f276487j.mo91338e();
        if (!this.f276478D) {
            C23319a aVar = this.f276484g;
            if (!aVar.f63817b || aVar.mo28814c()) {
                m163922x();
                C86227bj bjVar = this.f276488k;
                if (bjVar != null) {
                    bjVar.mo79842z(new C90457d(524292));
                }
                this.f276488k = null;
                m163921w(this.f276482e, new C98923m(this), "handle no speech detected");
            }
        }
        if (!this.f276501x) {
            C86227bj bjVar2 = this.f276488k;
            if (bjVar2 != null && !bjVar2.mo79857J()) {
                this.f276488k.mo79848A();
                C59104x d = f276474a.mo56226d();
                d.mo56378ag(C58975e.f156826a, "CarEngineCallback");
                ((C59052c) ((C59052c) d).mo56372aa(31306)).mo56389s("Incomplete proxy task: %s", this.f276488k);
            }
            mo91350u(false);
            m163921w(this.f276482e, new C98924n(this), "handle done");
            return;
        }
        C86227bj bjVar3 = this.f276488k;
        if (bjVar3 != null) {
            bjVar3.mo79842z(C118962c.m197481a(this.f276502y));
        }
        mo91350u(false);
    }

    /* renamed from: k */
    public final void mo87105k(C90607o oVar) {
        C58976aa aaVar = C58975e.f156826a;
        if (this.f276496s.mo56113h()) {
            ((C85700a) this.f276496s.mo56107c()).mo79322d(C89849ae.SPEECH_END_RECEIVED);
        }
        mo91351v(C89849ae.SPEECH_END_RECEIVED);
        this.f276479b.mo91325c(oVar);
        long a = this.f276497t.mo79743a(C90086ek.f250481du);
        if (a >= 0 && this.f276482e.mo84412cs()) {
            this.f276477C = this.f276499v.mo28208h("limited connectivity detected", a, new C98931u(this));
        }
        long a2 = this.f276497t.mo79743a(C90082eg.f249942bE);
        if (a2 >= 0 && this.f276482e.mo84412cs()) {
            this.f276476B = this.f276499v.mo28208h("General network query timeout", a2, new C98920j(this));
        }
    }

    /* renamed from: m */
    public final void mo87107m(C90606n nVar) {
        C58976aa aaVar = C58975e.f156826a;
        this.f276491n = true;
        this.f276487j.mo91338e();
        if (this.f276496s.mo56113h()) {
            ((C85700a) this.f276496s.mo56107c()).mo79322d(C89849ae.TTS_RESPONSE_LAST_BYTE);
        }
        mo91351v(C89849ae.TTS_RESPONSE_LAST_BYTE);
        m163921w(this.f276482e, new C98925o(this, nVar), "handle media data result");
        if (this.f276482e.mo84370cC()) {
            this.f276503z.mo57356n(C118826c.f331422a);
        }
    }

    /* renamed from: n */
    public final void mo87108n(C54196m mVar) {
        C86227bj bjVar;
        C58976aa aaVar = C58975e.f156826a;
        if (this.f276479b.mo91332j(this.f276483f) && (bjVar = this.f276488k) != null) {
            bjVar.mo79853F(mVar);
        }
    }

    /* renamed from: o */
    public final void mo87109o() {
        C59104x c = f276474a.mo56225c();
        c.mo56378ag(C58975e.f156826a, "CarEngineCallback");
        ((C59052c) ((C59052c) c).mo56372aa(31317)).mo56386p("#onNoSpeechDetected");
        this.f276486i.f332140a.mo104097i();
        m163922x();
        m163921w(this.f276482e, new C98930t(this), "handle no speech detected");
    }

    /* renamed from: p */
    public final void mo87110p(C66565av avVar) {
        C86227bj bjVar;
        C58976aa aaVar = C58975e.f156826a;
        if (!this.f276489l) {
            mo91351v(C89849ae.FIRST_BYTE_RECEIVED);
        }
        this.f276489l = true;
        if (this.f276479b.mo91332j(this.f276483f) && (bjVar = this.f276488k) != null) {
            bjVar.mo79854G(avVar);
        }
    }

    /* renamed from: q */
    public final void mo87111q(long j, long j2) {
        C58976aa aaVar = C58975e.f156826a;
        this.f276479b.mo91333k();
    }

    /* renamed from: r */
    public final void mo87112r(C63088z zVar, C67400ap apVar) {
        C58976aa aaVar = C58975e.f156826a;
        this.f276481d.mo91382g(apVar);
        this.f276478D = true;
        this.f276484g.mo28813b(C67442ak.f183276i);
    }

    /* renamed from: s */
    public final void mo87113s() {
        C58976aa aaVar = C58975e.f156826a;
        C60548tz tzVar = (C60548tz) C60555uf.f164065cO.createBuilder();
        tzVar.copyOnWrite();
        C60555uf ufVar = (C60555uf) tzVar.instance;
        ufVar.f164093a |= 2;
        ufVar.f164258m = 5;
        String b = C39191a.m68623b(this.f276485h);
        tzVar.copyOnWrite();
        C60555uf ufVar2 = (C60555uf) tzVar.instance;
        b.getClass();
        ufVar2.f164093a |= 4;
        ufVar2.f164259n = b;
        C89949q.m146525j((C60555uf) tzVar.build(), (C60321oe) null, (C63196b) null, (String) null);
        this.f276486i.f332140a.mo104090b();
        this.f276487j.mo91338e();
    }

    /* renamed from: t */
    public final void mo87114t(C67438ag agVar, String str) {
        long j;
        C67438ag agVar2 = agVar;
        String str2 = str;
        C58976aa aaVar = C58975e.f156826a;
        if (!this.f276484g.f63817b) {
            int a = C67437af.m97466a(agVar2.f183259b);
            if (a == 0 || a == 1) {
                int i = agVar2.f183258a;
                if (!((i & 8) == 0 && (i & 4) == 0)) {
                    Pair a2 = this.f276484g.mo28812a(agVar2);
                    String str3 = (String) a2.first;
                    String str4 = (String) a2.second;
                    if ((agVar2.f183258a & 512) != 0) {
                        this.f276492o = agVar2.f183265h;
                    }
                    this.f276479b.mo91330h(this.f276483f, new C118895a(str3, str4, false, str2));
                    return;
                }
            }
            int a3 = C67437af.m97466a(agVar2.f183259b);
            if (a3 != 0 && a3 == 2) {
                C86246cb cbVar = null;
                if (this.f276489l) {
                    C60548tz tzVar = (C60548tz) C60555uf.f164065cO.createBuilder();
                    tzVar.copyOnWrite();
                    C60555uf ufVar = (C60555uf) tzVar.instance;
                    ufVar.f164093a |= 2;
                    ufVar.f164258m = 466;
                    String b = C39191a.m68623b(this.f276485h);
                    tzVar.copyOnWrite();
                    C60555uf ufVar2 = (C60555uf) tzVar.instance;
                    b.getClass();
                    ufVar2.f164093a |= 4;
                    ufVar2.f164259n = b;
                    C89949q.m146525j((C60555uf) tzVar.build(), (C60321oe) null, (C63196b) null, (String) null);
                }
                long j2 = this.f276492o;
                C67442ak akVar = agVar2.f183263f;
                if (akVar == null) {
                    akVar = C67442ak.f183276i;
                }
                Pair a4 = C118978s.m197518a(this.f276484g.mo28813b(akVar), str2);
                if (a4.first == null || TextUtils.isEmpty((CharSequence) a4.first)) {
                    C59104x b2 = f276474a.mo56224b();
                    b2.mo56378ag(C58975e.f156826a, "CarEngineCallback");
                    ((C59052c) ((C59052c) b2).mo56372aa(31312)).mo56386p("Empty combined result");
                    m163922x();
                    m163921w(this.f276482e, new C98926p(this), "handle no final result");
                } else {
                    this.f276479b.mo91330h(this.f276483f, new C118895a(((SpannedString) a4.first).toString(), BuildConfig.FLAVOR, true, str2));
                    C60421pp b3 = C118978s.m197519b(agVar2, j2, this.f276497t.mo79746e(C90126fx.f251775pf));
                    Query aG = this.f276482e.mo84270aG((CharSequence) a4.first, (C58485gu) a4.second, b3.f163513b, this.f276501x);
                    C60548tz tzVar2 = (C60548tz) C60555uf.f164065cO.createBuilder();
                    tzVar2.copyOnWrite();
                    C60555uf ufVar3 = (C60555uf) tzVar2.instance;
                    ufVar3.f164093a |= 2;
                    ufVar3.f164258m = 555;
                    String b4 = C39191a.m68623b(this.f276485h);
                    tzVar2.copyOnWrite();
                    C60555uf ufVar4 = (C60555uf) tzVar2.instance;
                    b4.getClass();
                    ufVar4.f164093a |= 4;
                    ufVar4.f164259n = b4;
                    long j3 = b3.f163513b;
                    tzVar2.copyOnWrite();
                    C60555uf ufVar5 = (C60555uf) tzVar2.instance;
                    ufVar5.f164250e = 2 | ufVar5.f164250e;
                    ufVar5.f164144ay = j3;
                    if (this.f276501x) {
                        tzVar2.copyOnWrite();
                        C60555uf ufVar6 = (C60555uf) tzVar2.instance;
                        ufVar6.f164251f |= 1024;
                        ufVar6.f164112aS = true;
                    }
                    C89949q.m146525j((C60555uf) tzVar2.build(), (C60321oe) null, (C63196b) null, (String) null);
                    HotwordResultMetadata hotwordResultMetadata = this.f276482e.f252756N;
                    if (!this.f276497t.mo79746e(C90014bt.f247754nC) || hotwordResultMetadata == null || hotwordResultMetadata.mo84604g() <= 0) {
                        j = this.f276482e.f252747E;
                    } else {
                        j = hotwordResultMetadata.mo84604g();
                    }
                    long j4 = (j + b3.f163513b) * 1000000;
                    C59582aj ajVar = (C59582aj) C59687cb.f160034bf.createBuilder();
                    C60420po a5 = C60420po.m92578a(b3.f163514c);
                    if (a5 == null) {
                        a5 = C60420po.UNKNOWN;
                    }
                    ajVar.copyOnWrite();
                    C59687cb cbVar2 = (C59687cb) ajVar.instance;
                    cbVar2.f160104ap = a5.f163509l;
                    cbVar2.f160122c |= 128;
                    C59687cb cbVar3 = (C59687cb) ajVar.build();
                    C89859i iVar = this.f276495r;
                    C89856f fVar = new C89856f();
                    fVar.f246201a = C89849ae.ESTIMATED_END_OF_SPEECH;
                    fVar.mo83701c("rId", Long.toString(this.f276482e.f252749G));
                    fVar.f246204d = j4;
                    fVar.f246203c = cbVar3;
                    iVar.mo74236a(fVar.mo83699a());
                    if (this.f276496s.mo56113h()) {
                        ((C85700a) this.f276496s.mo56107c()).mo79323e(C89849ae.ESTIMATED_END_OF_SPEECH, j4, cbVar3);
                    }
                    if (TextUtils.isEmpty(aG.f252768g)) {
                        C59104x d = f276474a.mo56226d();
                        d.mo56378ag(C58975e.f156826a, "CarEngineCallback");
                        ((C59052c) ((C59052c) d).mo56372aa(31314)).mo56386p("empty recognized text");
                        int i2 = C90755l.f253831a;
                    }
                    C86227bj bjVar = this.f276488k;
                    if (bjVar != null) {
                        bjVar.f233010k.mo79923an(aG);
                        bjVar.f233010k.mo79927ar(aG);
                        bjVar.f233020b = this.f276498u.mo79560A(aG);
                    }
                    C86227bj bjVar2 = this.f276488k;
                    if (bjVar2 != null) {
                        cbVar = bjVar2.f233010k;
                    }
                    m163921w(aG, new C98927q(this, aG, cbVar), "handle last recognition result");
                }
                this.f276492o = 0;
                return;
            }
            return;
        }
        C59104x c = f276474a.mo56225c();
        c.mo56378ag(C58975e.f156826a, "CarEngineCallback");
        ((C59052c) ((C59052c) c).mo56372aa(31325)).mo56386p("Result after completed recognition.");
    }

    /* renamed from: u */
    public final void mo91350u(boolean z) {
        C86227bj bjVar;
        if (z && (bjVar = this.f276488k) != null) {
            bjVar.mo79848A();
        }
        this.f276488k = null;
    }

    /* renamed from: v */
    public final void mo91351v(C89849ae aeVar) {
        C89859i iVar = this.f276495r;
        C89856f fVar = new C89856f();
        fVar.f246201a = aeVar;
        fVar.mo83701c("rId", Long.toString(this.f276482e.f252749G));
        iVar.mo74236a(fVar.mo83699a());
    }

    /* renamed from: w */
    private final void m163921w(Query query, Runnable runnable, String str) {
        if (!this.f276501x && ((!this.f276497t.mo79746e(C90086ek.f250496ei) || !this.f276486i.f332140a.f332130k.f232931a.isDone()) && query.mo84368cA())) {
            C59104x c = f276474a.mo56225c();
            c.mo56378ag(C58975e.f156826a, "CarEngineCallback");
            ((C59052c) ((C59052c) c).mo56372aa(31286)).mo56386p("should wait for decision");
            new C90873ag(this.f276480c.f232925a, this.f276499v, "Multi-device decision", new C98921k(this, runnable, query)).mo85223a(new C98922l(runnable));
            return;
        }
        runnable.run();
    }
}
