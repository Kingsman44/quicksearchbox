package com.google.android.apps.gsa.staticplugins.nowcards.p8104e.p8108d.p8109a;

import android.content.Context;
import android.os.Parcelable;
import android.support.p033v7.widget.LinearLayoutManager;
import com.google.android.apps.gsa.p8885y.C118827a;
import com.google.android.apps.gsa.proactive.C84170f;
import com.google.android.apps.gsa.search.core.p6519al.p6634ca.C85051a;
import com.google.android.apps.gsa.search.core.p6519al.p6660cn.C85142a;
import com.google.android.apps.gsa.search.core.p6519al.p6729e.C85461a;
import com.google.android.apps.gsa.search.core.p6805i.C86124t;
import com.google.android.apps.gsa.search.core.p6884y.p6889e.p6894e.C87334q;
import com.google.android.apps.gsa.shared.util.p7184t.C91097g;
import com.google.android.apps.gsa.sidekick.main.p7205h.C91417d;
import com.google.android.apps.gsa.sidekick.main.p7205h.C91432n;
import com.google.android.apps.gsa.sidekick.main.p7205h.C91434p;
import com.google.android.apps.gsa.sidekick.main.p7205h.C91438t;
import com.google.android.apps.gsa.sidekick.main.p7205h.C91439u;
import com.google.android.apps.gsa.sidekick.main.p7205h.p7206a.C91406e;
import com.google.android.apps.gsa.sidekick.main.p7205h.p7207b.C91412d;
import com.google.android.apps.gsa.sidekick.main.p7205h.p7210e.C91420a;
import com.google.android.apps.gsa.sidekick.main.p7205h.p7211f.C91422a;
import com.google.android.apps.gsa.sidekick.main.p7205h.p7212g.C91425b;
import com.google.android.apps.gsa.sidekick.shared.cards.C91678ag;
import com.google.android.apps.gsa.sidekick.shared.monet.p7251g.C91833a;
import com.google.android.apps.gsa.sidekick.shared.monet.util.C91853a;
import com.google.android.apps.gsa.sidekick.shared.monet.util.ClientControllerAction;
import com.google.android.apps.gsa.sidekick.shared.p7230a.C91643a;
import com.google.android.apps.gsa.sidekick.shared.p7234d.C91713a;
import com.google.android.apps.gsa.sidekick.shared.util.C91978bb;
import com.google.android.apps.gsa.staticplugins.nowcards.p8104e.p8105a.C104453p;
import com.google.android.apps.gsa.staticplugins.nowcards.p8104e.p8106b.C104470f;
import com.google.android.apps.gsa.staticplugins.nowcards.p8104e.p8107c.C104518n;
import com.google.android.apps.gsa.staticplugins.nowcards.p8104e.p8107c.C104519o;
import com.google.android.apps.gsa.staticplugins.nowcards.p8104e.p8107c.C104520p;
import com.google.android.apps.p489g.p494d.C9141ad;
import com.google.android.apps.p489g.p494d.C9278v;
import com.google.android.apps.p489g.p494d.C9281y;
import com.google.android.googlequicksearchbox.R;
import com.google.android.libraries.gsa.monet.service.C23052c;
import com.google.android.libraries.gsa.monet.shared.ProtoParcelable;
import com.google.android.libraries.gsa.monet.tools.model.shared.p1924b.C23251a;
import com.google.android.libraries.gsa.monet.tools.p1917d.p1918a.C23245b;
import com.google.android.libraries.gsa.p1876k.C22871g;
import com.google.common.base.C58833ax;
import com.google.common.base.C58836b;
import com.google.common.p4522b.C58480gp;
import com.google.common.p4522b.C58485gu;
import com.google.common.p4526f.C59052c;
import com.google.common.p4526f.C59071e;
import com.google.common.p4526f.C59104x;
import com.google.common.p4526f.p4527a.C58975e;
import com.google.p375ai.p378b.C7642eo;
import com.google.p375ai.p378b.C7681g;
import com.google.p375ai.p378b.C7708h;
import com.google.p375ai.p378b.C7718hj;
import com.google.p375ai.p378b.C7752iq;
import com.google.p375ai.p378b.C7851mh;
import com.google.p375ai.p378b.C8074uo;
import com.google.p375ai.p378b.C8075up;
import com.google.p375ai.p378b.C8142xb;
import com.google.p375ai.p378b.C8178yk;
import com.google.protobuf.C62921ba;
import java.util.ArrayList;
import p3186j$.util.Collection;
import p5451f.p5452a.p5453a.p5454a.C69399au;

/* renamed from: com.google.android.apps.gsa.staticplugins.nowcards.e.d.a.bg */
/* compiled from: PG */
public final class C104566bg extends C104535ac implements C104453p, C91412d {

    /* renamed from: j */
    private static final C59071e f290962j = C59071e.m91332i("com.google.android.apps.gsa.staticplugins.nowcards.e.d.a.bg");

    /* renamed from: k */
    private final Context f290963k;

    /* renamed from: l */
    private final C104470f f290964l;

    /* renamed from: m */
    private final C104581bv f290965m;

    /* renamed from: n */
    private final C91438t f290966n;

    /* renamed from: o */
    private final C91422a f290967o;

    /* JADX INFO: super call moved to the top of the method (can break code semantics) */
    public C104566bg(C23052c cVar, C104470f fVar, C91097g gVar, C91425b bVar, C85051a aVar, C85142a aVar2, C22871g gVar2, C91434p pVar, C91439u uVar, C91420a aVar3, C91833a aVar4, C91406e eVar, C8142xb xbVar, C86124t tVar, C91417d dVar, C118827a aVar5, C91643a aVar6, C58833ax axVar, C91678ag agVar, C85461a aVar7, C91713a aVar8, C84170f fVar2, C104581bv bvVar, C91432n nVar, C87334q qVar, C91422a aVar9, C91438t tVar2, Context context) {
        super(cVar, fVar, gVar, aVar, aVar2, gVar2, pVar, uVar, aVar3, aVar4, bVar, eVar, xbVar, tVar, dVar, aVar5, aVar6, axVar, agVar, aVar7, aVar8, fVar2, nVar, qVar);
        this.f290964l = fVar;
        this.f290965m = bvVar;
        this.f290967o = aVar9;
        this.f290966n = tVar2;
        this.f290963k = context;
    }

    /* renamed from: R */
    private final C58833ax m172962R() {
        C58833ax axVar = (C58833ax) ((C23251a) this.f290964l.mo94207j()).f63720e;
        if (!axVar.mo56113h()) {
            return C58836b.f156633a;
        }
        C104520p pVar = (C104520p) C23245b.m43557b((ProtoParcelable) axVar.mo56107c(), C104520p.f290714g.getParserForType(), C62921ba.m95368a(), true);
        pVar.getClass();
        return C58833ax.m90834k(pVar);
    }

    /* renamed from: S */
    private final String m172963S(C7708h hVar, int i) {
        return (hVar.f26896a & 4) != 0 ? hVar.f26899d : m172964T(i);
    }

    /* renamed from: T */
    private final String m172964T(int i) {
        return this.f290963k.getResources().getString(i);
    }

    /* renamed from: U */
    private final void m172965U(C8074uo uoVar, C7681g gVar) {
        C58833ax R = m172962R();
        if (R.mo56113h() && (((C104520p) R.mo56107c()).f290716a & 1) != 0) {
            C9278v vVar = ((C104520p) R.mo56107c()).f290717b;
            if (vVar == null) {
                vVar = C9278v.f32165Z;
            }
            C91422a aVar = this.f290967o;
            C7718hj hjVar = vVar.f32174H;
            if (hjVar == null) {
                hjVar = C7718hj.f26927af;
            }
            aVar.mo85775a(uoVar, hjVar);
            if (gVar == C7681g.LANGUAGE_PICKER_SELECT || gVar == C7681g.LANGUAGE_PICKER_CLEAR) {
                C7718hj z = mo94246z();
                if (z != null) {
                    C7681g gVar2 = gVar == C7681g.LANGUAGE_PICKER_SELECT ? C7681g.LANGUAGE_PICKER_CLEAR : C7681g.LANGUAGE_PICKER_SELECT;
                    C8178yk ykVar = (C8178yk) Collection.EL.stream(z.f26935G).filter(new C104563bd(gVar)).map(C104564be.f290960a).findFirst().orElse(null);
                    C8178yk ykVar2 = (C8178yk) Collection.EL.stream(z.f26935G).filter(new C104565bf(gVar2)).map(C104564be.f290960a).findFirst().orElse(null);
                    if (ykVar != null && ykVar2 != null) {
                        C91853a aVar2 = new C91853a();
                        aVar2.mo86355b((C8142xb) ((C58833ax) ((C23251a) this.f290964l.mo94191i()).f63720e).mo56109e(C8142xb.SEARCH_NOW_MONET));
                        aVar2.f256169d = ykVar;
                        C9281y yVar = (C9281y) C9141ad.f31521K.createBuilder();
                        int i = gVar.f26835cv;
                        yVar.copyOnWrite();
                        C9141ad adVar = (C9141ad) yVar.instance;
                        adVar.f31535a |= 2;
                        adVar.f31538d = i;
                        aVar2.f256166a = (C9141ad) yVar.build();
                        this.f290762i.mo85746f(aVar2.mo86354a());
                        mo94236E(ykVar2, ykVar);
                        return;
                    }
                    return;
                }
                return;
            }
            C9281y yVar2 = (C9281y) C9141ad.f31521K.createBuilder();
            int i2 = gVar.f26835cv;
            yVar2.copyOnWrite();
            C9141ad adVar2 = (C9141ad) yVar2.instance;
            adVar2.f31535a |= 2;
            adVar2.f31538d = i2;
            C91853a aVar3 = new C91853a();
            aVar3.mo86355b((C8142xb) ((C58833ax) ((C23251a) this.f290964l.mo94191i()).f63720e).mo56109e(C8142xb.SEARCH_NOW_MONET));
            aVar3.f256166a = (C9141ad) yVar2.build();
            this.f290762i.mo85746f(aVar3.mo86354a());
        }
    }

    /* access modifiers changed from: protected */
    /* renamed from: D */
    public final void mo94235D(String str) {
        ((C23251a) this.f290964l.mo94208k()).mo28730f(str, false);
    }

    /* access modifiers changed from: protected */
    /* renamed from: I */
    public final void mo94240I(C7851mh mhVar) {
        ArrayList arrayList = new ArrayList((java.util.Collection) ((C23251a) this.f290964l.mo94209l()).f63720e);
        int i = 0;
        while (true) {
            if (i < arrayList.size()) {
                C7851mh mhVar2 = (C7851mh) C23245b.m43557b((ProtoParcelable) arrayList.get(i), C7851mh.f27519f.getParserForType(), C62921ba.m95368a(), true);
                if (mhVar2 != null && (mhVar2.f27521a & 2) != 0 && (mhVar.f27521a & 2) != 0 && mhVar2.f27524d.equals(mhVar.f27524d)) {
                    arrayList.set(i, C23245b.m43556a(mhVar));
                    break;
                }
                i++;
            } else {
                break;
            }
        }
        ((C23251a) this.f290964l.mo94209l()).mo28730f(C58485gu.m89842j(arrayList), false);
    }

    /* access modifiers changed from: protected */
    /* renamed from: K */
    public final void mo94242K(C8074uo uoVar) {
        C58833ax R = m172962R();
        if (R.mo56113h()) {
            C104520p pVar = (C104520p) R.mo56107c();
            pVar.getClass();
            C104519o oVar = (C104519o) pVar.toBuilder();
            oVar.copyOnWrite();
            C104520p pVar2 = (C104520p) oVar.instance;
            pVar2.f290721f = uoVar.f28417d;
            pVar2.f290716a |= 16;
            ((C23251a) this.f290964l.mo94207j()).mo28730f(C58833ax.m90834k(C23245b.m43556a((C104520p) oVar.build())), false);
        }
    }

    /* renamed from: N */
    public final void mo28493N(String str, String str2, Parcelable parcelable) {
        C7681g gVar;
        C7708h hVar;
        boolean z;
        C7718hj z2 = mo94246z();
        if (z2 == null || !this.f290965m.mo94261b(str, this.f63405W, z2)) {
            if ("EVENT_ENTRY_CLICK".equals(str)) {
                this.f290762i.mo85746f((ClientControllerAction) parcelable);
            } else if ("EVENT_ENTRY_VIEW".equals(str)) {
                C7752iq iqVar = (C7752iq) C23245b.m43557b((ProtoParcelable) parcelable, C7752iq.f27124E.getParserForType(), C62921ba.m95368a(), true);
                iqVar.getClass();
                mo94237F(iqVar);
            } else if ("EVENT_TOGGLE_STATE_ACTION_CLICK".equals(str)) {
                C8075up upVar = (C8075up) C23245b.m43557b((ProtoParcelable) parcelable, C8075up.f28418l.getParserForType(), C62921ba.m95368a(), true);
                upVar.getClass();
                C8074uo a = C8074uo.m22931a(upVar.f28427h);
                if (a == null) {
                    a = C8074uo.NEUTRAL;
                }
                mo94242K(a);
                int i = upVar.f28427h;
                C8074uo a2 = C8074uo.m22931a(i);
                if (a2 == null) {
                    a2 = C8074uo.NEUTRAL;
                }
                C8074uo a3 = C8074uo.m22931a(i);
                if (a3 == null) {
                    a3 = C8074uo.NEUTRAL;
                }
                int ordinal = a3.ordinal();
                if (ordinal == 0) {
                    gVar = C7681g.m22802a(upVar.f28421b);
                    if (gVar == null) {
                        gVar = C7681g.INVALID;
                    }
                } else if (ordinal != 2) {
                    gVar = C7681g.m22802a(upVar.f28423d);
                    if (gVar == null) {
                        gVar = C7681g.INVALID;
                    }
                } else {
                    gVar = C7681g.m22802a(upVar.f28422c);
                    if (gVar == null) {
                        gVar = C7681g.INVALID;
                    }
                }
                m172965U(a2, gVar);
                C7718hj z3 = mo94246z();
                if (z3 == null) {
                    hVar = null;
                } else {
                    C7681g a4 = C7681g.m22802a(upVar.f28421b);
                    if (a4 == null) {
                        a4 = C7681g.INVALID;
                    }
                    hVar = C91978bb.m150937c(z3, a4, new C7681g[0]);
                }
                if (hVar != null && ((z = hVar.f26901f) || hVar.f26902g)) {
                    C8074uo a5 = C8074uo.m22931a(upVar.f28427h);
                    if (a5 == null) {
                        a5 = C8074uo.NEUTRAL;
                    }
                    if (a5 != C8074uo.CHECKED) {
                        mo94167iY();
                    } else if (z) {
                        mo94180w(m172963S(hVar, R.string.selected_interest), m172964T(R.string.refresh_stream), C7642eo.REFRESH_FROM_SNACKBAR_AFTER_INTEREST_PICK);
                    } else if (hVar.f26902g) {
                        mo94179v(m172963S(hVar, R.string.selected_language), C7642eo.REFRESH_AFTER_LANGUAGE_SELECT);
                    }
                }
                C8074uo a6 = C8074uo.m22931a(upVar.f28427h);
                if (a6 == null) {
                    a6 = C8074uo.NEUTRAL;
                }
                if (a6 == C8074uo.CHECKED) {
                    this.f290966n.mo85792a(this);
                }
            }
        } else if ("EVENT_DISPLAY_CARD_ACTION_DIALOG".equals(str)) {
            mo94178u(C69399au.SNOWMAN);
        }
    }

    /* renamed from: a */
    public final void mo85759a() {
        C58833ax R = m172962R();
        if (!R.mo56113h()) {
            C59104x d = f290962j.mo56226d();
            d.mo56378ag(C58975e.f156826a, "CarouselModuleCtrl");
            ((C59052c) ((C59052c) d).mo56372aa(22010)).mo56386p("clearToggle: Could not get CarouselModuleLayoutData");
            return;
        }
        C9278v vVar = ((C104520p) R.mo56107c()).f290717b;
        if (vVar == null) {
            vVar = C9278v.f32165Z;
        }
        C8075up upVar = vVar.f32170D;
        if (upVar == null) {
            upVar = C8075up.f28418l;
        }
        if ((upVar.f28420a & 4) != 0) {
            mo94242K(C8074uo.NEUTRAL);
            C8074uo uoVar = C8074uo.NEUTRAL;
            C9278v vVar2 = ((C104520p) R.mo56107c()).f290717b;
            if (vVar2 == null) {
                vVar2 = C9278v.f32165Z;
            }
            C8075up upVar2 = vVar2.f32170D;
            if (upVar2 == null) {
                upVar2 = C8075up.f28418l;
            }
            C7681g a = C7681g.m22802a(upVar2.f28423d);
            if (a == null) {
                a = C7681g.INVALID;
            }
            m172965U(uoVar, a);
            return;
        }
        C59104x d2 = f290962j.mo56226d();
        d2.mo56378ag(C58975e.f156826a, "CarouselModuleCtrl");
        ((C59052c) ((C59052c) d2).mo56372aa(22009)).mo56386p("clearToggle: Action.Type is missing for clear toggle action");
    }

    /* renamed from: iD */
    public final void mo28439iD(ProtoParcelable protoParcelable) {
        C7718hj hjVar;
        C7718hj hjVar2;
        C104518n nVar = (C104518n) C23245b.m43557b(protoParcelable, C104518n.f290704h.getParserForType(), C62921ba.m95368a(), true);
        nVar.getClass();
        C23251a aVar = (C23251a) this.f290964l.mo94207j();
        C104520p pVar = nVar.f290712g;
        if (pVar == null) {
            pVar = C104520p.f290714g;
        }
        aVar.mo28730f(C58833ax.m90834k(C23245b.m43556a(pVar)), false);
        C23251a aVar2 = (C23251a) this.f290964l.mo94190h();
        C104520p pVar2 = nVar.f290712g;
        if (pVar2 == null) {
            pVar2 = C104520p.f290714g;
        }
        C9278v vVar = pVar2.f290717b;
        if (vVar == null) {
            vVar = C9278v.f32165Z;
        }
        aVar2.mo28730f(Boolean.valueOf(mo94243L(vVar)), false);
        C58480gp gpVar = new C58480gp(4);
        for (C7851mh a : mo94232A()) {
            gpVar.mo55395g(C23245b.m43556a(a));
        }
        ((C23251a) this.f290964l.mo94209l()).mo28730f(gpVar.mo55394f(), false);
        int i = nVar.f290709d;
        int i2 = nVar.f290711f;
        int i3 = nVar.f290710e;
        C104520p pVar3 = nVar.f290712g;
        if (pVar3 == null) {
            pVar3 = C104520p.f290714g;
        }
        C9278v vVar2 = pVar3.f290717b;
        if (vVar2 == null) {
            vVar2 = C9278v.f32165Z;
        }
        C7718hj hjVar3 = vVar2.f32174H;
        if (hjVar3 == null) {
            hjVar3 = C7718hj.f26927af;
        }
        C7718hj hjVar4 = hjVar3;
        int i4 = nVar.f290706a;
        if ((i4 & 1) != 0) {
            C7718hj hjVar5 = nVar.f290707b;
            if (hjVar5 == null) {
                hjVar5 = C7718hj.f26927af;
            }
            hjVar = hjVar5;
        } else {
            hjVar = null;
        }
        if ((i4 & 2) != 0) {
            C7718hj hjVar6 = nVar.f290708c;
            if (hjVar6 == null) {
                hjVar6 = C7718hj.f26927af;
            }
            hjVar2 = hjVar6;
        } else {
            hjVar2 = null;
        }
        mo94233B(i, i2, i3, hjVar4, hjVar, hjVar2);
        super.mo94241J();
    }

    /* renamed from: z */
    public final C7718hj mo94246z() {
        C58833ax R = m172962R();
        if (R.mo56113h() && (((C104520p) R.mo56107c()).f290716a & 1) != 0) {
            C9278v vVar = ((C104520p) R.mo56107c()).f290717b;
            if (vVar == null) {
                vVar = C9278v.f32165Z;
            }
            if ((vVar.f32192a & LinearLayoutManager.INVALID_OFFSET) != 0) {
                C9278v vVar2 = ((C104520p) R.mo56107c()).f290717b;
                if (vVar2 == null) {
                    vVar2 = C9278v.f32165Z;
                }
                C7718hj hjVar = vVar2.f32174H;
                return hjVar == null ? C7718hj.f26927af : hjVar;
            }
        }
        return null;
    }
}
